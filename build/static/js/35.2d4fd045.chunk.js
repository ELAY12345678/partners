(this["webpackJsonppartners-apparta"]=this["webpackJsonppartners-apparta"]||[]).push([[35,57],{1052:function(e,t,a){"use strict";a.r(t);a(362);var i=a(363),n=(a(366),a(367)),r=(a(357),a(358)),s=(a(371),a(374)),l=(a(220),a(361)),o=(a(375),a(376)),d=(a(351),a(352)),c=(a(221),a(145)),m=(a(354),a(355)),p=a(2),b=(a(219),a(69)),h=(a(143),a(142)),u=(a(372),a(373)),j=(a(408),a(412)),x=a(0),g=a(42),f=a.n(g),v=a(144),O=a.n(v),_=a(380),y=a(353),z=a(356),k=a(370),w=a(68),q=a(359),C=a(54),F=a(360),S=a(398),E=a(62),A=a(391),I=a(659),M=a(14);const T="admin",D=[{id:"active",name:"Active"},{id:"inactive",name:"Inactive"}],R=e=>{let{onRemove:t,onEdit:a,userRole:i}=e;return[{title:"Id",dataIndex:"id",key:"id",sorter:!0},{title:"Foto",dataIndex:"path_cover",render:e=>e&&Object(M.jsx)(j.a,{width:100,height:50,alt:"Campaign-Image",src:"".concat(C.f,"/").concat(window.imageShark({url:e,width:100,height:50})),preview:{src:"".concat(C.j).concat(e)}})},{title:"Nombre",dataIndex:"name",key:"name",sorter:!0},{title:"Fecha Inicio",dataIndex:"start_date_time",key:"start_date_time",sorter:!0,render:e=>O()(e).format("YYYY-MM-DD")},{title:"Fecha Fin",dataIndex:"end_date_time",key:"end_date_time",sorter:!0,render:e=>O()(e).format("YYYY-MM-DD")},{title:"Descripci\xf3n",dataIndex:"description",key:"description"},{title:"Estado",dataIndex:"status",key:"status",sorter:!0,render:e=>"active"===e?Object(M.jsx)(u.a,{color:"green",children:"Active"}):Object(M.jsx)(u.a,{color:"red",children:"Inactive"})},{title:"Visibilidad",dataIndex:"visibility",key:"visibility",sorter:!0,render:e=>"active"===e?Object(M.jsx)(u.a,{color:"green",children:"Active"}):Object(M.jsx)(u.a,{color:"red",children:"Inactive"})},i===T&&{title:"Acciones",dataIndex:"id",key:"actions_id",render:(e,i)=>Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(h.a,{type:"text",onClick:()=>a(i),icon:Object(M.jsx)(y.l,{})}),Object(M.jsx)(q.a,{type:"link",onClick:()=>t({id:e}),icon:Object(M.jsx)(y.h,{}),confirmText:"Desea eliminar?"})]})}]};t.default=()=>{const e=Object(E.d)(e=>{var t;let{appReducer:a}=e;return null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.role}),t=Object(E.d)(e=>{let{dashboardReducer:t}=e;return t.establishmentFilters}),a=Object(w.b)("deals"),[h,u]=Object(x.useState)(!1),[j,g]=Object(x.useState)(!1),[v,q]=Object(x.useState)();return Object(M.jsxs)(i.a.Content,{style:{height:"100%",overflow:"auto",padding:"2rem"},children:[Object(M.jsxs)(d.a,{children:[Object(M.jsxs)(d.a,{align:"middle",style:{color:"var(--purple)"},gutter:[16,16],children:[Object(M.jsx)(m.a,{children:Object(M.jsx)("img",{src:I.a,alt:"icon"})}),Object(M.jsx)(m.a,{children:Object(M.jsx)(c.a.Title,{level:3,style:{margin:0},children:"Ofertas"})})]}),Object(M.jsx)(o.a,{style:{background:"transparent",borderTop:0,marginTop:0}})]}),t.establishment_id?Object(M.jsx)(z.b,{custom:!0,source:"deals",filterDefaultValues:{establishment_id:null===t||void 0===t?void 0:t.establishment_id,$sort:{id:1}},searchField:"name",searchText:"Nombre...",search:!0,permitFetch:!(null===t||void 0===t||!t.establishment_id),actions:{},updateSource:j,columns:f.a.filter(R({onRemove:async e=>{let{id:t}=e;await a.remove(t).then(()=>{b.b.success("Promoci\xf3n eliminada!"),g(!j)}).catch(e=>b.b.error("No se pudo eliminar la promoci\xf3n! "+(null===e||void 0===e?void 0:e.message)))},onEdit:e=>{q(Object(p.a)(Object(p.a)({},e),{},{start_date_time:O()(e.start_date_time),end_date_time:O()(e.end_date_time)})),u(!0)},userRole:e}),e=>"object"===typeof e),extra:e===T&&Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(k.a,{type:"primary",icon:Object(M.jsx)(y.u,{}),onClick:()=>u(!0),children:"Agregar"})})}):Object(M.jsx)(A.a,{children:"*Selecciona una direcci\xf3n para ver los registros*"}),h&&Object(M.jsx)(n.a,{title:"".concat(v?"Editar":"Crear"," Banner"),placement:"right",visible:h,onClose:()=>{u(!1),q()},children:Object(M.jsxs)(F.d,{textAcceptButton:"Guardar",initialValues:v,onSubmit:async(e,t,i)=>{if(e)return b.b.error(e);t.start_date_time=t.start_date_time?O()(t.start_date_time).startOf("day").utc().format():void 0,t.end_date_time=t.end_date_time?O()(t.end_date_time).endOf("day").utc().format():void 0,delete t.path_cover,v&&v.id?await a.patch(v.id,t).then(()=>{b.b.success("Promoci\xf3n actualizada!"),u(!1),q(),g(!j)}).catch(e=>b.b.error(e.message)):await a.create(t).then(()=>{b.b.success("Promoci\xf3n creada!"),u(!1),g(!j)}).catch(e=>b.b.error(e.message))},children:[!(null!==v&&void 0!==v&&v.id)&&Object(M.jsx)(l.a,{type:"hidden",name:"establishment_id",initial:null===t||void 0===t?void 0:t.establishment_id}),(null===v||void 0===v?void 0:v.id)&&(null===v||void 0===v?void 0:v.path_cover)&&Object(M.jsx)(S.a,{refresh:(e,t)=>{q(Object(p.a)({},t)),g(!j)},size:"large",record:v,defaultImage:null===v||void 0===v?void 0:v.path_cover,source:"path_cover",withCropper:!0,setterVisibleCropper:()=>{},reference:"deals",_id:v.id,path:"deals_path_cover/".concat(+(null===v||void 0===v?void 0:v.id))}),(null===v||void 0===v?void 0:v.id)&&Object(M.jsx)(F.b,{flex:1,preview:!1,path:"deals_path_cover/".concat(v.id,"/"),name:"path_cover",source:"path_cover",style:{borderRadius:"0.5rem"},onFinish:(e,t)=>((e,t,i,n)=>{a.patch(n,{[e]:String(t)}).then(e=>{q(Object(p.a)({},e)),g(!j)}).catch(e=>b.b.error(e.message))})("path_cover",e,0,v.id)}),Object(M.jsx)(l.a,{flex:1,size:"large",name:"name",label:"Nombre",validations:[{required:!0,message:"Nombre es requerido"}]}),Object(M.jsx)(s.a,{flex:.5,name:"start_date_time",label:"Fecha inicio",size:"large",locale:_.a,validations:[{required:!0,message:"Fecha es requerido"}]}),Object(M.jsx)(s.a,{flex:.5,name:"end_date_time",label:"Fecha fin",size:"large",locale:_.a,validations:[{required:!0,message:"Fecha es requerido"}]}),Object(M.jsx)(r.a,{flex:1,name:"visibility",label:"Visibilidad",size:"large",validations:[{required:!0,message:"Visibilidad es requerida"}],children:f.a.map(D,(e,t)=>{let{id:a,name:i}=e;return Object(M.jsx)(r.a.Option,{value:a,children:i},t)})}),Object(M.jsx)(r.a,{flex:1,name:"status",label:"Estado",size:"large",validations:[{required:!0,message:"Estado es requerido"}],children:f.a.map(D,(e,t)=>{let{id:a,name:i}=e;return Object(M.jsx)(r.a.Option,{value:a,children:i},t)})}),Object(M.jsx)(l.a.TextArea,{flex:1,name:"description",label:"Descripci\xf3n",autoSize:!0,validations:[{required:!0,message:"Descripci\xf3n es requerida"}]})]})})]})}},364:function(e,t,a){"use strict";a.d(t,"a",function(){return p}),a.d(t,"b",function(){return b});a(377);var i,n,r,s,l,o=a(379),d=(a(351),a(352)),c=a(61),m=a(53);m.default.div(i||(i=Object(c.a)(["\n  display: flex;\n  justify-content: start;\n  align-items: baseline;\n  flex-wrap: wrap;\n\n  width:100%!important;\n\n  background-color:var(--gray-dark-1)!important;\n  color:#fff!important;\n\n  & .ant-checkbox-wrapper{\n    margin:0px 10px;\n  }\n  & h2{\n    color: #fff!important;\n    text-transform: uppercase!important;\n    padding: 4px 10px!important;\n    font-size: 16px!important;\n    vertical-align: middle!important;\n    margin-bottom: 0px!important;\n  }\n"]))),m.default.div(n||(n=Object(c.a)(["\n\n    position:relative;\n   \n    display: flex;\n    justify-content: start;\n    align-items: center;\n\n    & .container{\n      width: 34px;\n      position:relative;\n    }\n    & .container:hover .ant-btn{\n      display:inline-block;\n    }\n    & .ant-btn,.ant-btn:hover{\n      position: absolute;\n      left: 0;\n      top: 0;\n      z-index: 999;\n      height: 34px!important;\n      display: none;\n      width: 34px!important;\n      background: #0010214f!important;\n      color: #FFF!important;\n      font-weight: bold;\n      display:none;\n    }\n"]))),m.default.div(r||(r=Object(c.a)(["\n    display:flex;\n    justify-content: space-between;\n"])));const p=Object(m.default)(d.a)(s||(s=Object(c.a)(["\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\n  border-radius:1rem;\n  background: #fff ;\n  padding: 2rem;\n"]))),b=Object(m.default)(o.a)(l||(l=Object(c.a)(["\n    & .ant-tabs-nav{\n        background-color:white;\n        border-radius:1rem;\n        box-shadow: rgb(0 0 0 / 10%) 0px 4px 12px;\n        padding:0 1rem;\n    }\n"])))},381:function(e,t,a){"use strict";a(143);var i=a(142),n=(a(354),a(355)),r=(a(351),a(352)),s=(a(221),a(145)),l=a(2),o=a(0),d=a.n(o),c=a(26),m=a.n(c),p=a(424),b=(a(420),a(14));class h extends d.a.Component{constructor(){super(),this.onMinimizeClicked=this.onMinimizeClicked.bind(this),this.onMaximizeClicked=this.onMaximizeClicked.bind(this),this.state={size:-1}}onMinimizeClicked(){const e=this.getSize();this.animate(e,50,-50,(e,t)=>e<t,e=>new Promise(t=>{this.setState({size:e<50?50:e},()=>t())})),this.setState(Object(l.a)({},this.state))}onMaximizeClicked(){const e=this.getSize();this.animate(e,300,50,(e,t)=>e>t,e=>new Promise(t=>{this.setState({size:e},()=>t())}))}getSize(){const e=m.a.findDOMNode(this);switch(this.props.orientation){case"horizontal":return e.offsetHeight;case"vertical":return e.offsetWidth;default:return 0}}animate(e,t,a,i,n){const r=()=>{i(e,t)||n(e+=a).then(()=>{requestAnimationFrame(r)})};r()}render(){return Object(b.jsxs)(p.b,Object(l.a)(Object(l.a)({size:this.state.size},this.props),{},{children:[Object(b.jsx)(r.a,{style:{position:"fixed",zIndex:1,width:"100%"},children:Object(b.jsx)(n.a,{xs:24,sm:24,md:12,lg:9,xl:7,children:Object(b.jsxs)(r.a,{type:"flex",align:"middle",justify:"space-between",style:{height:50,width:"100%",fontSize:"1.2em",background:" #fafafa",borderBottom:"1px solid #d9d9d9",borderRight:"1px solid #d9d9d9",borderTop:"1px solid #d9d9d9",padding:"0px 10px"},children:[Object(b.jsx)(n.a,{flex:"auto",style:{overflow:"hidden"},children:Object(b.jsx)(r.a,{align:"middle",children:Object(b.jsx)(s.a.Title,{level:5,style:{margin:0},children:this.props.title})})}),Object(b.jsx)(n.a,{flex:"none",children:Object(b.jsxs)(r.a,{type:"flex",align:"middle",gutter:16,children:[Object(b.jsx)(n.a,{children:this.props.counter}),Object(b.jsxs)(n.a,{children:[Object(b.jsx)(i.a,{type:"text",shape:"circle",onClick:this.onMinimizeClicked,children:Object(b.jsx)(s.a.Title,{level:5,children:"-"})}),Object(b.jsx)(i.a,{type:"text",shape:"circle",onClick:this.onMaximizeClicked,children:Object(b.jsx)(s.a.Title,{level:5,children:"+"})})]})]})})]})})}),Object(b.jsx)("div",{style:{paddingTop:50},children:this.props.children})]}))}}t.a=h},382:function(e,t,a){"use strict";a.r(t),a.d(t,"codepush_environment_options",function(){return y}),a.d(t,"true_false",function(){return z});a(362);var i=a(363),n=(a(351),a(352)),r=(a(371),a(374)),s=(a(220),a(361)),l=(a(219),a(69)),o=a(12),d=(a(357),a(358)),c=a(0),m=a(360),p=a(380),b=(a(356),a(6)),h=a(346),u=a.n(h),j=a(68),x=a(14);const g=["source","id"],{Option:f}=d.a,v=[{id:"user",name:"Usuario"},{id:"admin",name:"Administrador"}],O=[{id:"active",name:"Activo"},{id:"disabled",name:"Desactivado"},{id:"pending validation",name:"Pendiente de validaci\xf3n"},{id:"pending_information",name:"Pendiente por informaci\xf3n"}],_=[{id:"male",name:"Masculino"},{id:"female",name:"Femenino"}],y=[{id:"production",name:"production"},{id:"staging",name:"staging"}],z=[{id:"false",name:"False"},{id:"true",name:"True"}];t.default=e=>{let{source:t,id:a}=e,h=Object(o.a)(e,g);const k=Object(b.q)(),[w,q]=Object(c.useState)();return Object(c.useEffect)(()=>{if(h.location){let{search:e}=h.location,t=u.a.parse(e.replace(/\?/,""));if(t){let{role:e}=t;q(e)}}},[h.location]),Object(x.jsx)(i.a.Content,{style:{height:"100%",overflow:"auto",padding:"2rem"},children:Object(x.jsx)(n.a,{style:{padding:"2rem",background:"white",borderRadius:"0.5rem"},children:Object(x.jsxs)(m.d,{id:a,source:t||"users",onSubmit:()=>{k("/dashboard/management/users")},textAcceptButton:a?"ACTUALIZAR":"CREAR",children:[a&&Object(x.jsx)(m.b,{flex:1,path:"users/".concat(a,"/avatar/"),name:"avatar_gallery",source:"avatar_gallery",onFinish:(e,t)=>((e,t,a,i)=>{const n=Object(j.b)("users"),r=Object(j.b)("gallery");let s={meta_file_name:a.name,meta_size:String(a.size),name:a.name,meta_media_type:a.type,path:t,description:""};r.create(s).then(t=>{let{id:a}=t;"create"!==i&&n.patch(i,{[e]:a}).then(e=>{}).catch(e=>l.b.error(e.message))}).catch(e=>l.b.error(e.message))})("avatar_gallery_id",e,t,a)}),Object(x.jsx)(s.a,{size:"large",flex:.5,placeholder:"Nombre",label:"Nombre",name:"first_name",validations:[{required:!0,message:"El nombre es requerido"}]}),Object(x.jsx)(s.a,{size:"large",flex:.5,placeholder:"Apellido",label:"Apellido",name:"last_name",validations:[{required:!0,message:"El apellido es requerido"}]}),Object(x.jsx)(s.a,{size:"large",flex:.5,placeholder:"Email",label:"Correo",type:"email",name:"email",validations:[{required:!0,message:"El email es requerido"}]}),Object(x.jsx)(s.a.Password,{size:"large",flex:.5,type:"password",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",label:"Contrase\xf1a",name:"password",validations:[!a&&{required:!0,message:"La contrase\xf1a es requerida"}]}),Object(x.jsx)(d.a,{size:"large",name:"gender",label:"Genero",placeholder:"Seleccionar",children:_.map(e=>Object(x.jsx)(f,{children:e.name},e.id))}),!a&&Object(x.jsx)(r.a,{xtype:"date",size:"large",label:"Fecha de nacimiento",name:"birthday",format:"MM/DD/YYYY",locale:p.a}),Object(x.jsx)(s.a,{xtype:"phone",input:!0,size:"large",flex:.1,placeholder:"Ej: 57",label:"C\xf3digo del Pa\xeds",name:"phone_country_code",validations:[{required:!0,message:"El c\xf3digo del pa\xeds es requerido"}]}),Object(x.jsx)(s.a,{xtype:"phone",input:!0,size:"large",flex:.2,placeholder:"Celular",label:"Celular",type:"tel",name:"phone",validations:[{required:!0,message:"El tel\xe9fono celular es requerido"}]}),"(",Object(x.jsx)(d.a,{size:"large",label:"Elige un rol para el usuario",name:"role",placeholder:"Elige un rol para el usuario",validations:[{required:!0,message:"El estado es requerido"}],children:v.map(e=>Object(x.jsx)(f,{children:e.name},e.id))}),Object(x.jsx)(d.a,{size:"large",name:"status",label:"Estado",placeholder:"Seleccionar",validations:[{required:!0,message:"El estado es requerido"}],children:O.map(e=>Object(x.jsx)(f,{children:e.name},e.id))}),Object(x.jsx)(d.a,{size:"large",name:"account_manager",label:"Account manager",placeholder:"Seleccionar",children:z.map(e=>Object(x.jsx)(f,{children:e.name},e.id))}),Object(x.jsx)(d.a,{size:"large",name:"test_user",label:"Test User",placeholder:"Seleccionar",children:z.map(e=>Object(x.jsx)(f,{children:e.name},e.id))}),Object(x.jsx)(d.a,{size:"large",name:"codepush_enviorment",label:"Code Push Environment",placeholder:"Seleccionar",children:y.map(e=>Object(x.jsx)(f,{children:e.name},e.id))}),Object(x.jsx)(s.a.TextArea,{flex:1,name:"disabled_reason",label:"Disabled Reason",size:"large",autoSize:!0})]})})})}},391:function(e,t,a){"use strict";a.d(t,"a",function(){return o.a});a(382),a(2),a(12),a(0),a(389);var i,n=a(390),r=a(61),s=a(53);Object(s.default)(n.a)(i||(i=Object(r.a)(["\n    ","\n"])),e=>{let{transparent:t}=e;if(t)return"\n                & .ant-modal-content, .ant-modal-header {\n                    background-color: transparent!important;\n                    box-shadow: none!important;\n                }\n                & .ant-modal-header {\n                    border-bottom: 0px!important;\n                }\n                & .ant-modal-body {\n                    height: 85vh!important;\n                    padding-top: 50px!important;\n                }\n                & .ant-modal-footer {\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    color: #FFF!important;\n                    border-top: 0px!important;\n                }\n                & .ant-list-item-meta-title{\n                    color: rgb(255 255 255);\n                    text-align:left;\n                }\n                & .ant-btn-link, .ant-btn-link:hover, .ant-btn-link:focus{\n                    color: rgb(255 255 255)!important;\n                }\n                & .ant-list-item-meta-description {\n                    color: rgb(255 255 255 / 90%);\n                }\n                & .ant-modal-close-x {\n                    font-size: 24px;\n                    color: #bbb;\n                }\n            "});a(14);var l;s.default.div(l||(l=Object(r.a)(["\n    display: flex;\n    justify-content: start;\n    align-items: baseline;\n    flex-wrap: wrap;\n    /* background-color:var(--gray-dark-1)!important; */\n    color: var(--gray-dark-1)!important;\n    & .ant-checkbox-wrapper{\n        margin:0px 10px;\n    }\n    & h2{\n        color: var(--antd-wave-shadow-color);\n        padding: 4px 10px!important;\n        font-size: 18px!important;\n        font-weight: bold;\n        vertical-align: middle!important;\n        margin-bottom: 0px!important;\n    }\n"])));a(381);var o=a(364)},659:function(e,t,a){"use strict";t.a=a.p+"static/media/discount.119bd1e4.svg"}}]);
//# sourceMappingURL=35.2d4fd045.chunk.js.map