(this["webpackJsonppartners-apparta"]=this["webpackJsonppartners-apparta"]||[]).push([[67],{1067:function(e,t,a){"use strict";a.r(t);a(362);var i=a(363),n=(a(366),a(367)),s=(a(219),a(361)),l=(a(218),a(69)),c=(a(143),a(142)),o=a(0),r=a(356),d=a(370),b=a(353),j=a(359),m=a(68),u=a(360),p=a(6),x=a(14);const O=e=>{let{onEdit:t,onRemove:a,navigate:i}=e;return[{dataIndex:"id",key:"id",title:"Id",sorter:!0,width:120},{dataIndex:"name",key:"name",title:"Nombre",sorter:!0},{title:"Acciones",dataIndex:"id",key:"actions",render:(e,n)=>Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(c.a,{type:"text",shape:"circle",icon:Object(x.jsx)(b.m,{}),onClick:()=>i("/dashboard/management/global-templates/details",{state:{template_id:e,template_name:null===n||void 0===n?void 0:n.name}})}),Object(x.jsx)(c.a,{type:"text",onClick:()=>t(n),icon:Object(x.jsx)(b.l,{})}),Object(x.jsx)(j.a,{type:"link",onClick:()=>a({id:e}),icon:Object(x.jsx)(b.h,{}),confirmText:"Desea eliminar?"})]})}]};t.default=()=>{const e=Object(p.q)(),t=Object(m.b)("discount-templates"),[a,c]=Object(o.useState)(!1),[j,h]=Object(o.useState)(),[v,g]=Object(o.useState)(!1);return Object(x.jsxs)(i.a.Content,{style:{height:"100%",overflow:"auto",padding:"2rem"},children:[Object(x.jsx)(r.b,{source:"discount-templates",filterDefaultValues:{type:"global",$sort:{id:1}},updateSource:v,columns:O({onEdit:e=>{h(e),c(!0)},onRemove:async e=>{let{id:a}=e;await t.remove(a).then(()=>{l.b.success("Platilla eliminada!"),g(!v)}).catch(e=>l.b.error("No se pudo eliminar la Platilla! "+(null===e||void 0===e?void 0:e.message)))},navigate:e}),actions:{},extra:Object(x.jsx)("div",{children:Object(x.jsx)(d.a,{type:"primary",icon:Object(x.jsx)(b.u,{}),onClick:()=>c(!0),children:"Agregar"})})}),a&&Object(x.jsx)(n.a,{title:"".concat(j?"Editar":"Crear"," Platilla"),placement:"right",visible:a,onClose:()=>{c(!1),h()},children:Object(x.jsxs)(u.d,{source:"discount-templates",textAcceptButton:"".concat(j?"Actualizar":"Crear"),initialValues:j,id:null===j||void 0===j?void 0:j.id,onSubmit:()=>{c(!1),h(),g(!v)},children:[Object(x.jsx)(s.a,{type:"hidden",name:"type",initial:"global"}),Object(x.jsx)(s.a,{flex:1,size:"large",name:"name",label:"Nombre",validations:[{required:!0,message:"Nombre es requerido"}]})]})})]})}}}]);
//# sourceMappingURL=67.0afbeb2b.chunk.js.map