{"version":3,"sources":["../node_modules/suneditor/src/lang sync /^/.//.*/.js$","layouts/dashboard_layout.js","components/com/FileUploader.js","components/com/grid/Grid.js","components/com/numberinput/Styles.js","components/com/numberinput/NumberInput.js","components/com/carousel/Styles.js","components/com/carousel/Carousel.js","components/com/colorpicker/Styles.js","components/asyncButton/index.jsx","components/com/form/SteperForm.js","components/com/form/FileUpload.js","components/com/form/DateField.js","components/com/form/SearchField.js","components/com/form/Switch.js","components/com/grid/Styles.js","components/com/gallery/Styles.js","components/com/gallery/Carousel.js","components/com/gallery/GalleryUploader.js","components/com/form/SimpleForm.js","components/com/form/SelectField.js","components/com/MyModal.js","utils/Helper.js","components/com/form/DinamicForm.js","components/com/fields/Styles.js","components/com/form/Styles.js","components/com/fields/PhoneField.js","components/com/fields/StatusField.js","components/com/fields/CustomField.js","components/com/fields/RadioField.js","components/com/fields/MoneyField.js","components/com/fields/SwitchField.js","components/com/box/Styles.js","components/com/box/Box.js","utils/index.js","components/com/form/AdvancedForm.js","components/com/form/FileUploader.js","components/com/fields/ColorField.js","components/richTextField/index.jsx","routes.js","layouts/Styles.js","components/minuteProgress/index.jsx","components/com/ImageField.js","components/com/DragAndDropUploader.js","utils/FileUploader.js","components/list/Styles.js","components/list/ListItems.js","views/menu-categories/style.js","components/list/ItemSection.js","views/menu-categories/EstablishmentBranchCost.jsx","views/menu-categories/OptionCustom.js","views/menu-categories/index.js","views/menu-categories/ModalItemInfo.js","components/list/ListGroup.js","layouts/blog_layout.js","layouts/admin_layout.js","components/Divider.js","components/Footer.js","layouts/panel_layout.js","views/menu-categories/ModalAppartaMenu.jsx","views/menu-categories/MenuCategories.js","constants/actionTypes.js","components/header/Styles.js","components/responsiveSelect/index.jsx","components/header/EstablishmentFilters.jsx","components/header/EstablishmentsFilterForAdmin.jsx","sources/images/LOGO_SVG.svg","components/header/TopBar.js","components/notifications/ReservationNotification.jsx","components/notifications/AppartaPayNotification.jsx","components/notifications/SideNotification.jsx","menu-items.js","components/menu/SideMenu.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","ErrorBoundary","_Alert","Content","_Layout","connect","state","appReducer","user","pathname","current","dispatch","onChangePath","type","actionTypes","onToggleNavigation","_ref","children","props","_objectWithoutProperties","_excluded","menu","setMenu","useState","theme_color","setTheme","theme","useSelector","_ref2","initialized","setInitialized","_ref3","dropMenu","useEffect","routes","forEach","it","edit","push","_objectSpread","path","concat","create","route","index","allowAccess","permissions","_jsx","Route","exact","element","component","name","window","localStorage","getItem","Boolean","setItem","removeItem","_jsxs","Wrapperlayout","style","height","TopBar","title","background","SideMenu","Suspense","fallback","Loader","Routes","width","NotFound","SideNotification","RoundedButton","styled","_Button","_templateObject","_taggedTemplateLiteral","FileUploader","primaryKey","model","options","action","URL_BASE_API","data","headers","authorization","showUploadList","onChange","info","file","status","onSubmit","_message","success","error","_Fragment","_Upload","_Tooltip","placement","border","borderRadius","icon","confirm","_Modal","RangePicker","_DatePicker","defaultState","actions","delete","pagination","showSizeChanger","defaultCurrent","showTotal","total","defaultPageSize","pageSizeOptions","Grid","source","mode","report","initialValues","custom","columns","searchText","search","searchById","refresh","extra","autoScrollX","exportCsv","importCsv","searchField","buttomAddText","permitFetch","returnToParentData","updateSource","paginationActive","scroll","transparent","selection","getCheckboxProps","onChangeSelection","maxSelection","expandable","limit","withUniq","navigate","useNavigate","idComponent","uuid","myRef","useRef","LIMIT","setLIMIT","setPagination","onShowSizeChange","arguments","length","undefined","filters","setFilters","filterDefaultValues","setFilterDefaultValues","filterDefaultValue","dataSource","setDataSource","sorter","setSorter","loading","setLoading","exporting","setExport","visible","setVisible","isVisibleModalExport","setIsVisisibleModalExport","rangeDateExport","setRangeDateExport","record","setRecord","selectedRowKeys","setSelectedRowKeys","rowSelection","onSelectChange","newSelectedRowKeys","newSelectedRecords","tempSelecteds","slice","tempSelectedRecords","sticky","itemLayout","xl","span","sm","xs","handleSearch","value","field","getData","params","query","$limit","$sort","$skip","_","isEmpty","service","getService","find","then","meta","pager","TotalRecords","sortedData","orderBy","uniqueData","uniqBy","catch","err","console","log","message","modalExportConfig","destroyOnClose","content","_Row","gutter","_Col","align","_dataMoment","dataString","initial_date","final_date","marginRight","onClick","handleExport","okButtonProps","disibled","cancelButtonProps","onOk","onCancel","restaurant_id","location","link","document","createElement","href","setAttribute","body","appendChild","click","parentNode","removeChild","handleOnSubmit","isEqual","gridColumns","item","display","filter","fixed","render","justify","className","AiOutlineEdit","basePath","handleDelete","onDelete","remove","response","_Icon","twoToneColor","show","Array","isArray","_excluded2","handleActions","shape","React","Children","child","cloneElement","Wrapper","ref","redirect","Box","listTitle","wrap","flex","margin","SearchBox","allowClear","placeholder","onSearch","target","AiOutlineClose","AiOutlinePlus","AiOutlineReload","marginBottom","marginTop","marginLeft","_Table","size","handleOnChange","paginator","new_filters","order","rowKey","showHeader","y","x","MyModal","closabled","div","NumberInput","_templateObject2","img","_templateObject3","Carousel","color","AsyncButton","confirmText","rest","handleClick","async","Promise","all","respuesta","_Popconfirm","okText","cancelText","disabled","onConfirm","SimpleForm","_Card","_templateObject4","_templateObject5","Step","_Steps","label","Component","DateField","_AutoComplete","ToggleField","Search","_Input","Meta","serviceGalleryMedia","GalleryUploader","onUpload","withCropper","setterVisibleCropper","defaultImage","actionDelete","media","setMedia","image","setImage","setShow","reference","setReference","getMedia","gallery_id","priority","debounce","handlePriority","patch","maxWait","_props$record$image_g","_props$record$image_g2","image_gallery","path_image_main","_Image","src","S3_PATH_IMAGE_HANDLER","imageShark","url","alt","preview","URL_S3","form","setFieldsValue","_id","DragAndDropUploader","key","files","res","update","antIcon","_Spin","Form","AdvancedForm","HeadLine","Footer","header","footer","idKey","layout","textAcceptButton","autoSubmit","owner","ownerId","allowNull","setService","submitting","setSubmitting","setID","setInitialValues","mapValues","get","onLoad","match","indicator","tip","avatar_gallery","apparta_menu_linktree_background","values","some","reject","payloads","msg","onAfterSubmit","save","formLayout","Option","_Select","defaultActions","SelectField","optionValue","autoSelect","optionText","defaultValue","defaultValues","onBlur","onSelect","minWidth","onSelectItem","showSearch","resource","setFilterDefaultValue","initialValue","setInitialValue","onInitialized","setOnInitialized","choices","setChoices","add","setAdd","open","setOpen","setValue","getInitialValue","handleSelect","handleChange","WrapperSelect","initial","optionFilterProp","filterOption","input","option","toLowerCase","indexOf","clearIcon","handleOnClear","onClear","padding","position","left","top","AiOutlineCloseCircle","flexWrap","alignItems","justifyContent","addPlaceholder","addItem","cancelItem","Container","maskClosable","closable","centered","destroyAll","currency","require","money","decimalSeparator","format","decimalDigits","precision","isLogin","JSON","parse","role","includes","TextArea","h2","SubHeadLine","DividerHeadLine","text","Combo","valueField","displayField","DinamicForm","_ref4","fields","_excluded3","items","setItems","getFields","showByEdit","Builder","xtype","onDisable","required","conditional","multiline","autoSize","minRows","maxRows","multiple","dragAndDrop","_InputNumber","toValue","changebutton","statusButton","gap","overflow","idEditable","price_tax_excl","price_tax_incl","MoneyField","CustomField","StatusField","_Checkbox","SwitchField","_Divider","RadioField","_Radio","Group","_TimePicker","TagWrapper","_Tag","WrapperField","WrapperFileField","WrappercolorFields","Tools","HeadTitle","PhoneField","statusDefautls","editable","current_value","setCurrentValue","setEdit","handleEdit","onItemSelect","parser","replace","initialvalue","renderItems","Number","isNaN","min","_Switch","checked","String","goBack","setGoBack","handleShowHidde","bordered","constructor","super","formRef","createRef","handleFormatterPhone","handleSubmit","this","banner_path","apparta_menu_branch_list_background_path","expand","me","childrens","formItemLayout","labelCol","wrapperCol","childNodes","labelAlign","help","validations","valuePropName","next_reference","feedback","onRender","latName","lngName","moment","allRequired","validator","rule","callback","getFieldValue","pattern","RegExp","test","_createElement","_Form","Item","enableReinitialize","hasFeedback","validateTrigger","rules","trigger","capitalize","componentDidMount","setState","onMount","_this$props$form","componentWillReceiveProps","nexProps","_this$formRef$current","titleStyle","noAcceptButtonBlock","scrollToFirstError","onFinish","onFieldsChange","allFields","block","htmlType","_this","progress","onUploadStart","next","blob","newFile","File","Date","valueOf","last","split","allowTypes","allowAll","name_file","onSignedUrl","onUploadProgress","onUploadError","onUploadFinish","doc","fileKey","_record$source","_Avatar","htmlFor","variant","_Progress","percent","S3Uploader","signingUrl","signingUrlMethod","accept","s3path","preprocess","onProgress","onError","signingUrlWithCredentials","uploadRequestHeaders","contentDisposition","scrubFilename","filename","server","URL_S3_SERVER","autoUpload","visibility","formatRgbString","r","g","b","a","obtenerComponentesRGBA","colorRGB","componentes","substring","parseInt","parseFloat","ColorField","presetColors","setBackground","displayColorPicker","_handleOnChange","_Popover","SketchPicker","rgb","onChangeComplete","RichTextField","SunEditor","setOptions","codeMirror","CodeMirror","Orders","lazy","MenuCategories","ReservationsHistory","EstablishmentRatings","DiscountSpecifics","DiscountTemplates","DiscountDeals","Billing","InvoicesDetails","Transfer","AppartaPayHistory","Users","UserForm","Configurations","ConfigurationsForm","EstablishmentsPosition","Banners","Groups","Campaigns","AppartaPayCoupons","Zones","ReportZones","Cms","Establishments","EstablishmentDetails","Places","Categories","Reservations","Coupons","ReservationsOnDemand","PayAccounts","PaymentsDetails","GlobalTemplate","TemplateDetails","Fidelizations","UserRating","MenuBanners","MenuGroupProfile","PayBenefitDetails","Tickets","TicketsForm","OnBoarding","OnBoardingScreens","Security","AdminInvoices","Blogs","BlogsForm","PopUp","Sider","WrapperPanelLayout","p","_templateObject6","_templateObject7","MinuteProgress","myInterval","fullWidth","createdAt","current_server_hour","eventTime","toDate","getTime","currentTime","duration","totalTime","setTotalTime","leftTime","setLeftTime","successPercent","setSuccessPercent","minsToAutoApproveReservation","setMinsToAutoApproveReservation","getConfiguration","time","asMilliseconds","setInterval","asSeconds","clearInterval","subtract","startTimer","minutes","seconds","humanize","strokeWidth","showInfo","strokeColor","stroke","defaultFormats","Dragger","dragger","autoIncrement","showRemoveIcon","formats","maxFiles","previewVisible","setPreviewVisible","previewImage","setPreviewImage","currentfile","setCurrentFile","fileList","setFileList","setProgress","beforeUpload","newFileList","event","tempFileList","sliceFileList","handlePreview","reader","FileReader","readAsDataURL","onload","result","onerror","getBase64","originFileObj","spinning","listType","onRemove","uid","onPreview","loadin","AiOutlineInbox","toString","unExtractFiles","onUploadFileVersionHurgot","merge","fileName","filePath","fileMatch","validate","fileMaxSize","maxSize","subscribe","uploadFile","DEFAULT_UPLOAD_OPTIONS","ErrorFile","stack","validateFile","callBack","_options","lodash","Observable","subscriber","S3Upload","fileElement","onFinishS3Put","fileS3","originName","userName","complete","_fileName","pop","join","getFileName","getFileType","fileKeys","forkJoin","WrapperList","FormWrapper","WrapperSection","WrapperItemList","fullHeight","WrapperGroupList","WrapperItem","DragHandle","SortableHandle","disable","layouts","ListItems","description","createTitle","editTitle","createButtonText","editButtonText","actionCreateText","onAdd","onEdit","defaultKeySelected","showAvatar","cover_field","refinement","filteres","goTop","setterIsVisibleModalAdmin","setterItem","departament_id","defaultCategory","setEstablishmentCategories","defaultElement","establishment_id","dragId","setDragId","selectedId","setSelectedId","selectedData","setSelectedData","qs","scrollTo","renderItem","_item$menu_items_rest","temp","menu_items_restaurant_overwrite","tempItem","extra_actions","preventDefault","admin","defaultChecked","handleOnDisabled","_Dropdown","overlay","MenuItems","FiMoreVertical","SortableItem","_ref5","menu_items_department_id","_ref6","handleMenuClick","handleAdd","_Menu","_ref7","AiOutlineDelete","SortableElement","_ref8","_item$menu_items_rest2","cover","isSelected","DEFAULT_IMAGE","AiOutlineRight","AiOutlineDrag","instore","delivery","pickup","SortableList","SortableContainer","_ref9","_Typography","Title","level","selected","distance","pressThreshold","lockAxis","onSortStart","onStart","node","collection","isKeySorting","onSortEnd","oldIndex","newIndex","new_array","arrayMove","count","WrapperForm","Headline","active","css","_templateObject8","_templateObject9","Labels","_templateObject0","_templateObject1","CustomSection","item_id","setItemId","setSelection","checkAll","setCheckAll","menu_item_id","_List","personalization_section","handleCheck","ItemSection","sections","setSections","loading_sections","setLoadingSections","sectionId","setSectionId","optionId","setOptionId","optionName","setOptionName","showOption","setShowOption","showSection","setShowSection","showImportSection","setShowImportSection","setPayloads","section","setSection","setOption","new_option_id","setOptionNewId","option_type","setOptionType","brand_id","setRestaurantId","personalizationSectionId","setPersonalizationSectionId","allPersonalizationOptionsSections","setAllPersonalizationOptionsSections","visibleOptionsSections","setVisibleListOptionsSections","personalization_section_id","getAllPersonalizationOptionsSections","handleDisable","handleOnEditOption","getSections","$client","fromAdmin","handleRemoveSection","handleOnEdit","queryString","restaurante","URLSearchParams","personalization_opt_sections","min_selects","max_selects","onRemoveItem","handleRemove","handleAddItem","handleChangeSection","sections_ids","bulk_payloads","current_item","boxShadow","lineHeight","backgroundColor","listStyle","flexDirection","fontSize","fontWeight","formatter","CALCULATE_PRICE_BY","EstablishmentBranchCost","itemHasCost","itemCost","getDataCostItems","address","establishment_branch_id","menuItemCostService","price","setPrice","handleChangePrice","calculate_price_by","fixed_percentage","fixed_amount","payload","setterPayload","establishmentId","establishmentMenuItemId","establishmentBranchId","getterDataItems","setterRefresh","establishment_menu_item_id","handleSaveCost","handleStatusCost","handleDeleteCost","FormItems","menuCategoryId","itemSelectorAfterCreate","categoriesList","establishmentCategoriesList","categoryField","establishmentBranch","userRole","_appReducer$user","setPayload","additionalInformation","setAdditionalInformation","additional_information","dataSourceCost","setDataSourceCost","globalPrice","setGlobalPrice","htmlEditorVisible","setHtmlEditorVisible","setQuery","isVisibleCropper","setIsVisibleCropper","menuItemsService","getDataItemsOverwrite","useCallback","itemCategory","setTimeout","handleUploadFinish","alignContent","showCount","maxLength","category","establishment_menu_items_category_id","minHeight","apparta_menu_status","apparta_booking_status","is_rating_review_campaign","rating_review_campaign_name","locale","rating_review_campaign_start_date","rating_review_campaign_end_date","finalData","dataFormatter","orientation","fontStyle","dataFormCost","branchs","newPrice","responsePatch","responseCreate","handleGlobalPrice","choiceSend","choiceStatus","statusFormatter","inactive","null","updateOverwriteValue","getDataItem","idItem","setterData","tax_value","overwrite","getDataOnlyItem","serviceItems","ModalCreateOverwrite","isOpen","setterIsOpen","setterAction","setNewItem","createOverwriteValue","strikethrough_price","MenuItemInfo","_newItem$name","_newItem$name$toStrin","isVisible","setterIsVisible","isLoading","setIsLoading","dataSourceRestaurants","setDataSourceRestaurants","dataSourceOverwriteForRestaurants","setDataSourceOverwriteForRestaurants","setFinalData","isOpenEdit","setIsOpenEedit","configField","setConfigField","handleClickNewOverwrite","newItem","payloadPriceGlobal","setPayloadPriceGlobal","setterDataSource","setterIsLoading","restaurants","getRestaurants","hasOverwrite","indicators","_dataSourceRestaurant","_dataSourceRestaurant2","it2","indicatosRestaurants","_indicators$index","dataIndex","object","fieldValue","numeral","toUpperCase","confirmLoading","GroupList","t","group_reference","group_resource","group_refresh","group_section_footer","onSelectItemGroup","onAddItem","filterDefaultGroupValues","groupInitialValues","filter_group","group_cover_field","group_actions","groupTitle","refinement_group","selectedItem","categoryType","establishmentCategories","showGroup","setShowGroup","showView","setShowView","refresh_items","setRefreshItems","setRefresh","setSelected","itemSelected","setItemSelected","setDefaultKeySelected","isVisibleModalAdmin","setIsVisibleModalAdmin","handleOnSelect","handleOnload","handleSubmitItem","timeout","clearTimeout","md","handleOnAddItem","handleOnItemSelect","group_fields","OptionCustom","ModalItemInfo","BlogLayout","Header","SubMenu","LogoContainer","SideBar","SiderContainer","collapsedMenu","collapsible","collapsed","Link","to","LOGO_WHITE","backgroundRepeat","backgroundSize","Root","hr","Divider","nav","ModalAppartaMenu","slug","getEstablishmenBranch","isAdmin","establishmentBranchService","handleChangeStatus","FiExternalLink","focus","borderTop","USERS_ROLES","APPARTA_CATEGORIES","dashboardReducer","establishmentFilters","permissionsv2","_appReducer$user2","branchsIdPermissions","permissionsEstablishments","establishmentPermission","permission","$in","establishments_branchs","branch","establishmentService","setFilter","setGroupRefresh","setBrandId","setDepartamentId","modalVisible","setModalVisible","modalAppartaMenuVisible","setModalAppartaMenuVisible","setCategoryType","setEstablishmentBranch","establishmentData","setEstablishMentData","branchId","setBranchId","useDispatch","getEstablishment","defaultFilters","IoRestaurantOutline","BsBrush","IoGridOutline","ListGroup","forwardedRef","onUpdateEstablishColor","apparta_menu_main_color","apparta_menu_categories_source","apparta_menu_booking_categories_source","LogoAppartaImg","EstablishmentFilterWrapper","TopHeader","ResponsiveSelect","labelField","toMatchItem","navigator","userAgent","innerWidth","innerHeight","unselectable","userSelect","viewBox","focusable","fill","d","PERMISSIONS_TYPE","RestaurantFilters","showBranch","handleSetEstablishmentFilters","branches","setBranches","establishments","_$find","findBranches","IoStorefrontOutline","HiOutlineLocationMarker","RestaurantFiltersForAdmin","establishmentsServices","establishmentsBranchsServices","establishmentsOptions","setEstablishmentsOptions","establishmentBranchsOptions","setEstablishmentBranchsOptions","loadingBranchs","setLoadingBranchs","debounceGetEstablishmentsDatas","q","skipJoins","$select","getBranchsDatas","notificationsDataCount","onCollapsedNotification","setSetEstablishmentFilters","_location$pathname3","_location$pathname4","_user$avatar_gallery","_location$pathname5","_location$pathname6","useLocation","_location$pathname","_location$pathname2","useMedia","dropEstablishmentFilters","latestBuild","setLastestBuild","prevalBuild","currentBuild","_moment","latest","isSameOrAfter","alert","reload","getLastBuild","Logout","disconnect","clear","first_name","last_name","handlePermission","Notification","checkNotificationPromise","requestPermission","paddingRight","CgMenuGridO","LogoApparta","EstablishmentFilters","AiOutlineYoutube","_Badge","overflowCount","MdOutlineNotificationsNone","DEFAULT_USER_AVATAR","STATUS_RESERVATION","CheackIcon","xmlns","CancelIcon","UserIcon","opacity","CalendarIcon","ComunityIcon","DiscountIcon","ReservationNotification","removeNotificationData","handleChangeRefresh","sideNotificationFullWidth","isPendindToAprobal","setPendindToAprobal","handleChangeReservationStatus","reservationService","notificationType","timeOut","borderLeft","overflowX","borderBottom","paddingBottom","whiteSpace","meta_start_hour","_Space","direction","meta_establishment_name","maxWidth","textOverflow","Size","meta_user_first_name","meta_user_last_name","meta_day","persons","meta_deal_name","IoTicketOutline","meta_percentage","user_comment","Text","NOTIFICATION_TYPE","AppartaPayNotification","_item$user","_item$user2","maxHeight","IoCalendarClearOutline","status_date_completed","RiCoinsLine","amount","notificationsData","collapsedNotification","notification","changeRefresh","collapsedWidth","_ConfigProvider","renderEmpty","_Empty","imageStyle","MdOutlineNotificationsActive","AiOutlineStar","AiOutlinePercentage","AiOutlineFile","IoDocumentTextOutline","BsCreditCard","AiOutlineDollarCircle","AiOutlineSetting","AiOutlinePhone","BsImages","FaMobileAlt","MdOutlineCampaign","BsGrid","AiOutlineQuestion","AiOutlineTool","RiCoupon2Line","RiUserStarLine","IoFootstepsOutline","MdFormatListNumbered","IoFastFoodOutline","GrSecure","MdOutlineSupportAgent","FiUsers","MdLocationSearching","BsPinMap","onChangePage","_props$location2","setCurrent","getCurrentItem","getTeams","_props$location","_props$location$searc","stringify","keyPath","selectedKeys","domEvent","defaultSelectedKeys"],"mappings":"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","file":"static/js/23.2718007f.chunk.js","sourcesContent":["var map = {\n\t\"./ckb.js\": 618,\n\t\"./cs.js\": 619,\n\t\"./da.js\": 620,\n\t\"./de.js\": 621,\n\t\"./en.js\": 550,\n\t\"./es.js\": 622,\n\t\"./fa.js\": 623,\n\t\"./fr.js\": 624,\n\t\"./he.js\": 625,\n\t\"./hu.js\": 626,\n\t\"./index.js\": 1024,\n\t\"./it.js\": 627,\n\t\"./ja.js\": 628,\n\t\"./km.js\": 630,\n\t\"./ko.js\": 629,\n\t\"./lv.js\": 631,\n\t\"./nl.js\": 632,\n\t\"./pl.js\": 633,\n\t\"./pt_br.js\": 634,\n\t\"./ro.js\": 635,\n\t\"./ru.js\": 636,\n\t\"./se.js\": 637,\n\t\"./tr.js\": 638,\n\t\"./ua.js\": 639,\n\t\"./ur.js\": 640,\n\t\"./zh_cn.js\": 641\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1023;","import React, { useState, useEffect, Suspense } from \"react\";\nimport { Alert, Layout, } from \"antd\";\nimport { Route, BrowserRouter, Routes } from \"react-router-dom\";\nimport NotFound from \"../views/NotFound\";\nimport Loader from \"../components/loader\";\n\n/* Redux */\nimport { connect } from \"react-redux\";\nimport * as actionTypes from \"../redux/app/actions\";\n\n/* Import Components */\nimport SideMenu from \"../components/menu/SideMenu\";\nimport { TopBar } from \"../components/header\";\nimport routes from \"../routes\";\nimport { allowAccess } from \"../utils/Helper\";\nimport Loadeable from \"react-loadable\";\nimport {\n  Wrapperlayout,\n} from \"./Styles\";\nimport { useSelector } from \"react-redux\";\nimport SideNotification from \"../components/notifications/SideNotification\";\nimport MenuCategories from \"../views/menu-categories/MenuCategories\";\n\nconst { ErrorBoundary } = Alert;\n\n\nconst { Content } = Layout;\n\nconst DashboardLayout = ({\n  user = {},\n  children,\n  ...props\n}) => {\n  const [menu, setMenu] = useState([]);\n  const [theme_color, setTheme] = useState({});\n  const theme = useSelector(({ appReducer }) => appReducer.theme);\n  const dropMenu = useSelector(({ appReducer }) => appReducer.dropMenu);\n  const [initialized, setInitialized] = useState(false);\n\n  useEffect(() => {\n    if (routes)\n      routes.forEach((it) => {\n        /* Add Edit Route */\n        if (typeof it.edit == \"undefined\") {\n          routes.push({\n            ...it,\n            path: `${it.path}/:id`,\n          });\n        } else {\n          routes.push(it.edit);\n        }\n        /* Add Create Route */\n        if (typeof it.create == \"undefined\") {\n          routes.push({\n            ...it,\n            path: `${it.path}/:id`,\n          });\n        } else {\n          routes.push(it.create);\n        }\n        //console.log(\"Route:\", it.path)\n      });\n    setMenu(\n      routes.map((route, index) => {\n        //console.log(route.permissions);\n        return allowAccess(route.permissions) ? (\n          <Route\n            key={index}\n            path={route?.path}\n            exact={route?.exact}\n            element={<route.component {...props} name={route.name} />}\n          />\n        ) : null;\n      })\n    );\n    return () => { };\n  }, []);\n  \n  useEffect(() => {\n   \n    if (theme) setTheme(theme);\n    return () => { };\n  }, [theme]);\n\n  useEffect(() => {\n    if (!window.localStorage.getItem(\"initialized\")) {\n      window.localStorage.setItem(\"initialized\", true);\n      setInitialized(true);\n    } else {\n      setInitialized(Boolean(window.localStorage.getItem(\"initialized\")));\n    }\n    return () => {\n      if (window.localStorage.getItem(\"initialized\")) {\n        window.localStorage.removeItem(\"initialized\");\n        setInitialized(false);\n      }\n    };\n  }, []);\n\n  if (!initialized) return <Loader />;\n\n  return (\n    <Wrapperlayout\n      style={{ height: \"100vh\" }}\n      {...theme_color}\n    >\n      <TopBar\n        theme={theme}\n        title={props.current && props.current.title}\n        {...theme_color}\n        {...props}\n      />\n      <Layout\n        style={{\n          background: theme_color.background || \"#f3f3f3\",\n        }}\n      >\n        <SideMenu {...props} />\n        <Layout>\n        \n          <Content\n            style={{\n              background: theme_color.background || \"#f3f3f3\",\n            }}\n          >\n            <ErrorBoundary>\n            <Suspense fallback={<Loader />}> \n              <Routes style={{ height: '100%', width: '100%' }} >\n                {menu}\n                <Route path=\"*\" exact={true} element={<NotFound />} />\n                \n              </Routes> \n            </Suspense>\n            </ErrorBoundary>\n          </Content>\n        </Layout>\n        <SideNotification />\n      </Layout>\n    </Wrapperlayout>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const { appReducer } = state;\n  return {\n    user: appReducer.user,\n    pathname: appReducer.pathname,\n    current: appReducer.current,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onChangePath: (pathname) =>\n      dispatch({ type: actionTypes.CHAGE_PATH, pathname }),\n    onToggleNavigation: () => dispatch({ type: actionTypes.COLLAPSE_MENU }),\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(DashboardLayout);\n","import React from \"react\";\nimport { Upload, Icon, message, Button, Tooltip } from \"antd\";\nimport { URL_BASE_API } from \"../../constants\";\nimport styled from \"styled-components\";\nconst RoundedButton = styled(Button)`\n  border-radius: 20px !important;\n`;\n\n/* \n primaryKey: \"lic_nbr\",\n model: \"agentsContacts\"\n*/\nconst FileUploader = ({\n  primaryKey,\n  model,\n  ...props\n}) => {\n  let options = {\n    name: props.name || \"uri\",\n    action: props.action || `${URL_BASE_API}/uploads`,\n    data: {\n      primaryKey,\n      model\n    },\n    headers: {\n      authorization: localStorage.getItem(\"feathers-jwt\")\n    },\n    showUploadList: props.showUploadList || false,\n    onChange(info) {\n      if (info.file.status !== \"uploading\") {\n        // console.log(info.file, info.fileList);\n      }\n      if (info.file.status === \"done\") {\n        if (props.onSubmit) props.onSubmit(info.file);\n        message.success(`${info.file.name} file uploaded successfully`);\n      } else if (info.file.status === \"error\") {\n        message.error(`${info.file.name} file upload failed.`);\n      }\n    }\n  };\n  return (\n    <>\n      <Upload {...options}>\n        <Tooltip placement=\"bottom\" title=\"Import Csv\">\n          <RoundedButton\n            style={\n              props.style || {\n                background: \"#1dbf73\",\n                border: \"1px solid #1dbf73\",\n                borderRadius: \"50%\"\n              }\n            }\n            type=\"primary\"\n            icon=\"upload\"\n          />\n        </Tooltip>\n      </Upload>\n    </>\n  );\n};\n\nexport default FileUploader;\n","import {\n  Button,\n  Col,\n  DatePicker,\n  Icon,\n  message,\n  Modal,\n  Row,\n  Table,\n  Tooltip\n} from \"antd\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { RoundedButton, SearchBox, Wrapper } from \"./Styles\";\n// import { exportToCsv, exportTableToPdf } from \"../../../utils/Helper\";\nimport { useNavigate } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport uuid from \"react-uuid\";\nimport { FileUploader } from \"../\";\nimport { getService } from \"../../../services/\";\nimport { MyModal } from \"../MyModal\";\nimport Box from \"../box/Box\";\n\nimport { AiOutlineClose, AiOutlineEdit, AiOutlinePlus, AiOutlineReload } from 'react-icons/ai';\n\nconst { confirm } = Modal;\nconst { RangePicker } = DatePicker;\n\nconst defaultState = {\n  actions: {\n    edit: true,\n    create: true,\n    delete: true\n  },\n  pagination: {\n    showSizeChanger: true,\n    defaultCurrent: 0,\n    current: 1,\n    showTotal: total => {\n      return `Total ${total} record${total > 1 ? \"s\" : \"\"}`;\n    },\n    defaultPageSize: 50,\n    pageSizeOptions: [\"10\", \"20\", \"30\", \"40\", \"50\"]\n  }\n};\n\nconst Grid = (\n  {\n    source,\n    mode = \"default\",\n    report = {},\n    initialValues = {},\n    custom = false,\n    edit,\n    create,\n    actions = defaultState.actions,\n    columns,\n    searchText,\n    search = false,\n    searchById = false,\n    refresh = true,\n    extra,\n    autoScrollX = false,\n    exportCsv = false,\n    importCsv = false,\n    model,\n    path,\n    searchField = \"search\",\n    buttomAddText = \"Agregar\",\n    title,\n    permitFetch = true,\n    style,\n    returnToParentData,\n    updateSource,\n    paginationActive = true,\n    scroll = false,\n    transparent,\n    selection = false,\n    getCheckboxProps,\n    onChangeSelection,\n    maxSelection,\n    expandable,\n    limit = 50,\n    withUniq=false,\n    ...props\n  }\n) => {\n  const navigate = useNavigate();\n  const idComponent = uuid();\n  const myRef = useRef();\n  const [LIMIT, setLIMIT] = useState(limit);\n  const [pagination, setPagination] = useState({\n    ...defaultState.pagination,\n    defaultPageSize:LIMIT,\n    onShowSizeChange: (current = \"invalid value\", size) => {\n      setLIMIT(size);\n    },\n  });\n  const [filters, setFilters] = useState();\n  const [filterDefaultValues, setFilterDefaultValues] = useState({ ...props.filterDefaultValue });\n  const [dataSource, setDataSource] = useState(props.dataSource || []);\n  const [sorter, setSorter] = useState();\n  const [loading, setLoading] = useState(props.loading || false);\n  const [exporting, setExport] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const [isVisibleModalExport, setIsVisisibleModalExport] = useState(false);\n  const [rangeDateExport, setRangeDateExport] = useState({});\n  const [record, setRecord] = useState();\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n\n  const onSelectChange = (newSelectedRowKeys, newSelectedRecords) => {\n    const tempSelecteds = maxSelection ? newSelectedRowKeys.slice(0,maxSelection) : newSelectedRowKeys;\n    const tempSelectedRecords = maxSelection ? newSelectedRecords.slice(0,maxSelection) : newSelectedRecords;\n    setSelectedRowKeys(tempSelecteds);\n    if(onChangeSelection){\n      onChangeSelection(tempSelecteds, tempSelectedRecords);\n    }\n  };\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange,\n    getCheckboxProps: getCheckboxProps,\n    sticky: true,\n  };\n\n  const itemLayout = {\n    gridCol: {\n      xl: { span: 24 },\n      sm: { span: 24 },\n      xs: { span: 24 }\n    },\n    formCol: {\n      xl: { span: 24 },\n      sm: { span: 24 },\n      xs: { span: 24 }\n    }\n  };\n\n  const handleDelete = (id, record) => {\n    if (!source && props.onDelete) {\n      props.onDelete(id, record);\n    }\n    if (source && id) {\n      confirm({\n        title: \"¿Estas seguro?\",\n        content: \"Oprime OK para eliminar el registro.\",\n        onOk() {\n          const service = getService(source);\n          service\n            .remove(id)\n            .then(response => {\n              getData();\n              message.info(\"Record eliminado\");\n            })\n            .catch(err => message.error(err.message));\n        },\n        onCancel() { }\n      });\n    }\n  };\n\n  const handleActions = ({ name, path, onClick, ...record }) => {\n    if (onClick) return onClick(record);\n    if (name) {\n      return navigate(\n        `/${props.basePath || \"dashboard\"}${path || \"/\" + source}/${name}`\n      );\n    }\n    if (path) {\n      return navigate(`/${props.basePath || \"dashboard\"}${path}`);\n    }\n  };\n\n  const handleSearch = (value, field) => {\n    setFilters({\n      ...filters,\n      [field ? field : searchField]: value ? value : undefined\n    });\n    setPagination({\n      ...pagination,\n      current: 1\n    });\n  };\n\n  const handleOnChange = (paginator, new_filters, sorter) => {\n    let pager = { ...pagination };\n    pager.current = paginator.current;\n    setPagination(pager);\n    setFilters({ ...filters, ...new_filters });\n    if (sorter.field)\n      setSorter({\n        [sorter.field]: sorter.order === \"ascend\" ? 1 : -1\n      });\n  };\n\n  const onChange = (field, value) => {\n    setFilters({\n      ...filters,\n      [field]: !value ? filterDefaultValues?.[field] ? filterDefaultValues?.[field] : undefined : value\n    });\n  };\n\n  const getData = params => {\n    if (props.dataSource) {\n      return setLoading(false);\n    }\n    if (!params) {\n      params = {\n        query: {\n          $limit: LIMIT,\n          $sort: sorter || filterDefaultValues.$sort,\n          ...filterDefaultValues,\n          ...filters,\n          $skip: 0\n        }\n      };\n    }\n    if (source && permitFetch && !_.isEmpty(filterDefaultValues)) {\n      setLoading(true);\n      const service = getService(source);\n      /* Pagination */\n      params[\"query\"][\"$skip\"] = (pagination.current - 1) * LIMIT;\n      service\n        .find(params)\n        .then(({ data, meta, total }) => {\n          setLoading(false);\n          let pager = { ...pagination };\n          pager.total = meta ? meta.TotalRecords : total;\n          setPagination(pager);\n          if(withUniq){\n            // Ordenar por createdAt (ascendente, para obtener el primero creado)\n            const sortedData = _.orderBy(data, ['nit', 'createdAt'], ['asc', 'desc']);\n            // Filtrar datos únicos por `nit`, conservando el primero creado\n            const uniqueData = _.orderBy(_.uniqBy(sortedData, 'nit'),['id'], ['asc'])\n            setDataSource(uniqueData);\n          }else{\n            setDataSource(data);\n          }\n          \n          if (returnToParentData)\n            returnToParentData(data);\n        })\n        .catch(err => {\n          console.log('es aqui',err);\n          message.error(err.message);\n          setLoading(false);\n        });\n    } else {\n      setDataSource([])\n    }\n  };\n\n  const handleEdit = id => {\n    if (source) {\n      const service = getService(source);\n      if (service && id)\n        service\n          .remove(id)\n          .then(response => {\n            setLoading(false);\n            getData();\n          })\n          .catch(err => {\n            message.error(err.message);\n            setLoading(false);\n          });\n    }\n  };\n\n  const modalExportConfig = {\n    title: \"Exportar histórico de pedidos\",\n    width: 900,\n    destroyOnClose: true,\n    content: () => {\n      return (\n        <>\n          <Row gutter={[24, 24]}>\n            <Col span={24} align=\"center\">\n              <h6>Eligir el rango de tiempo ( Sí es necesario)</h6>\n              <RangePicker\n                onChange={(_dataMoment, dataString) =>\n                  setRangeDateExport({\n                    initial_date: dataString[0],\n                    final_date: dataString[1]\n                  })\n                }\n              />\n            </Col>\n            <Col span={24} align=\"center\">\n              <Button\n                type=\"primary\"\n                style={{ marginRight: 12 }}\n                icon=\"download\"\n                onClick={handleExport}\n              >\n                Exportar todos los registros\n              </Button>\n              <Button type=\"primary\" icon=\"download\" onClick={handleExport}>\n                Exportar registros en rango escogido\n              </Button>\n            </Col>\n          </Row>\n        </>\n      );\n    },\n    okButtonProps: { disibled: true },\n    cancelButtonProps: { disibled: true },\n    onOk: () => { },\n    onCancel: () => {\n      setIsVisisibleModalExport(false);\n    }\n  };\n\n  function handleExport() {\n    const service = getService(\"export-orders\");\n    service\n      .find({\n        query: {\n          restaurant_id: filterDefaultValues.restaurant_id,\n          ...rangeDateExport\n        }\n      })\n      .then(data => {\n        let { location } = data;\n        const link = document.createElement(\"a\");\n        link.href = location;\n        link.setAttribute(\"download\", `FileName.xlsx`);\n        // Append to html link element page\n        document.body.appendChild(link);\n        // Start download\n        link.click();\n        // Clean up and remove the link\n        link.parentNode.removeChild(link);\n        setExport(false);\n        setIsVisisibleModalExport(false);\n        setRangeDateExport({});\n      })\n      .catch(e => {\n        message.error(e.message);\n      });\n  }\n\n  const handleOnSubmit = (err, data) => {\n    if (!err && !record) setRecord(data);\n    getData();\n  };\n\n\n  useEffect(() => {\n    if (props.dataSource) {\n      setLoading(false);\n      setDataSource(props.dataSource);\n    }\n  }, [props.dataSource]);\n\n  useEffect(() => {\n    if (sorter || filters) {\n      getData({\n        query: {\n          $limit: LIMIT,\n          ...filterDefaultValues,\n          ...filters,\n          $sort: sorter || filterDefaultValues.$sort,\n          $skip: custom\n            ? pagination.current || pagination.defaultCurrent || 0\n            : undefined\n        }\n      });\n    }\n  }, [filters, sorter]);\n\n  useEffect(() => {\n    if (\n      !_.isEmpty(props.filterDefaultValues) &&\n      !_.isEqual(props.filterDefaultValues, filterDefaultValues)\n    ) {\n      setFilterDefaultValues({ ...filterDefaultValues, ...props.filterDefaultValues });\n    }\n    if (_.isEmpty(props.filterDefaultValues)) {\n      setFilterDefaultValues({})\n    }\n  }, [props.filterDefaultValues]);\n\n  useEffect(() => {\n    if (filterDefaultValues && permitFetch) {\n      getData({\n        query: {\n          $limit: LIMIT,\n          ...filterDefaultValues,\n          ...filters,\n          $sort: sorter || filterDefaultValues.$sort,\n          $skip: custom\n            ? pagination.current || pagination.defaultCurrent || 1\n            : undefined\n        }\n      });\n    } else {\n      setDataSource([]);\n    }\n  }, [filterDefaultValues, updateSource]);\n\n\n\n  const gridColumns = [\n    ...columns\n      .map(item => ({\n        ...item,\n        align: \"left\",\n        display:\n          typeof item.display !== \"undefined\" ? item.display : true\n      }))\n      .filter(item => item.display),\n  ];\n\n  if (!_.isEmpty(actions)) {\n    gridColumns.push(\n      {\n        type: \"actions\",\n        width: !actions.extra ? 100 : 150,\n        title: \"Acciones\",\n        /* align: \"center\", */\n        fixed: props.fixed\n          ? typeof props.fixed === \"boolean\"\n            ? props.fixed\n              ? \"right\"\n              : false\n            : props.fixed\n          : \"right\",\n        render: record => {\n          return (\n            <Row\n              type=\"flex\"\n              justify=\"center\"\n              align=\"middle\"\n              gutter={0}\n            >\n              {edit && actions.edit && (\n                <Col>\n                  <Tooltip\n                    className=\"btn-inline\"\n                    placement=\"bottom\"\n                    title=\"Edit\"\n                  >\n                    <Button\n                      type=\"link\"\n                      icon={<AiOutlineEdit />}\n                      onClick={() => {\n                        setRecord(record);\n                        setVisible(true);\n                        if (props.onChange) props.onChange(record);\n                        if (mode === \"default\") {\n                          let query = props.location.search;\n\n                          navigate(\n                            `/${props.basePath ||\n                            \"dashboard\"}${path || \"/\" + source}/${record.id\n                            }${query ? query : \"\"}`\n                          );\n                        }\n                      }}\n                    />\n                  </Tooltip>\n                </Col>\n              )}\n              {actions.delete && (\n                <Col>\n                  <Tooltip\n                    className=\"btn-inline\"\n                    placement=\"bottom\"\n                    title=\"Delete\"\n                  >\n                    <Button\n                      onClick={() => handleDelete(record.id, record)}\n                      type=\"link\"\n                    >\n                      <Icon\n                        type=\"delete\"\n                        theme=\"twoTone\"\n                        twoToneColor=\"#eb2f96\"\n                      />\n                    </Button>\n                  </Tooltip>\n                </Col>\n              )}\n              {actions.show && (\n                <Col>\n                  <Tooltip\n                    className=\"btn-inline\"\n                    placement=\"bottom\"\n                    title=\"Show\"\n                  >\n                    <Button\n                      onClick={() => {\n                        return navigate(\n                          `/${props.basePath || \"dashboard\"}${path ||\n                          \"/\" + source}/${record.id}`\n                        );\n                      }}\n                      type=\"link\"\n                    >\n                      <Icon\n                        type=\"eye\"\n                        theme=\"twoTone\"\n                        twoToneColor=\"#6610f2\"\n                      />\n                    </Button>\n                  </Tooltip>\n                </Col>\n              )}\n              {actions.extra && Array.isArray(actions.extra)\n                ? actions.extra.map((item, index) => {\n                  return (\n                    <Col key={index}>\n                      <Button\n                        icon={item.icon}\n                        onClick={() => {\n                          handleActions(record);\n                        }}\n                        type=\"dashed\"\n                        shape=\"circle\"\n                        {...item}\n                      />\n                    </Col>\n                  );\n                })\n                : actions.extra &&\n                actions.extra.props &&\n                React.Children.map(\n                  actions.extra.props.children,\n                  (child, index) => {\n                    return (\n                      <Col key={index}>\n                        {React.cloneElement(child, {\n                          record,\n                          onClick: () => {\n                            if (child.props.onClick) {\n                              child.props.onClick(record);\n                            }\n                          }\n                        })}\n                      </Col>\n                    );\n                  }\n                )}\n            </Row>\n          );\n        }\n      }\n    )\n  }\n\n  return (\n    <Wrapper >\n      <Row gutter={4}>\n        {visible && mode === \"inner\" && (\n          <Col id={idComponent} {...itemLayout.formCol}>\n            <div ref={myRef}>\n              {record && record.id && edit\n                ? React.cloneElement(edit, {\n                  id: record.id,\n                  initialValues,\n                  redirect: false,\n                  record,\n                  onSubmit: handleOnSubmit\n                })\n                : React.cloneElement(create, {\n                  redirect: false,\n                  initialValues,\n                  onSubmit: handleOnSubmit\n                })}\n            </div>\n          </Col>\n        )}\n        <Col {...itemLayout.gridCol}>\n          <Box show title={props.listTitle || props.title || undefined} transparent={transparent}>\n            <Row align={'top'} justify={'space-between'} wrap={false}>\n              <Col flex={'auto'}>\n                <Row\n                  style={{\n                    margin: 10,\n                  }}\n                  gutter={[16, 16]}\n                  type=\"flex\"\n                  justify=\"space-between\"\n                  align=\"middle\"\n                >\n                  <Col>\n                    <Row type=\"flex\" gutter={[16, 16]}>\n                      {searchById && (\n                        <Col>\n                          <SearchBox\n                            allowClear={true}\n                            placeholder={\"Id\"}\n                            name='id'\n                            onSearch={value => handleSearch(value, 'id')}\n                            onChange={e => {\n                              let { value } = e.target;\n                              if (!value) handleSearch(value, 'id');\n                            }}\n                          />\n                        </Col>\n                      )}\n                      {search && (\n                        <Col>\n                          <SearchBox\n                            allowClear={true}\n                            placeholder={searchText || \"Search...\"}\n                            onSearch={value => handleSearch(value)}\n                            onChange={e => {\n                              let { value } = e.target;\n                              if (!value) handleSearch(value);\n                            }}\n                          />\n                        </Col>\n                      )}\n                      {title}\n                      {props.filters &&\n                        React.Children.map(\n                          props.filters.props.children,\n                          (it, index) => {\n                            if (!it) return null;\n                            let { name } = it.props;\n                            return (\n                              <Col key={index}>\n                                {React.cloneElement(it, {\n                                  onChange: (e, value) => {\n                                    value = e && e.target ? e.target.value : value;\n                                    onChange(name || \"field-\" + index, value ? value === '' ? undefined : value : e);\n                                  }\n                                })}\n                              </Col>\n                            );\n                          }\n                        )}\n                      \n                    </Row>\n                  </Col>\n                  <Col>\n                    {extra}\n                  </Col>\n                </Row>\n              </Col>\n              <Col>\n                <Row wrap={false}>\n                  {exportCsv && (\n                    <Tooltip\n                      className=\"btn-inline\"\n                      placement=\"bottom\"\n                      title=\"Exportar excel\"\n                    >\n                      <RoundedButton\n                        loading={exporting}\n                        style={{\n                          margin: \"0px 10px\",\n                          background: \"#1dbf73\",\n                          border: \"1px solid #1dbf73\"\n                        }}\n                        icon=\"file-excel\"\n                        type=\"primary\"\n                        onClick={() => {\n                          setIsVisisibleModalExport(true);\n                        }}\n                      >\n                        Exportar excel\n                      </RoundedButton>\n                    </Tooltip>\n                  )}\n                  {importCsv && model && (\n                    <Tooltip\n                      className=\"btn-inline\"\n                      placement=\"bottom\"\n                      title=\"Upload Csv\"\n                    >\n                      <FileUploader\n                        {...model}\n                        onSubmit={getData}\n                        loading={exporting}\n                      />\n                    </Tooltip>\n                  )}\n                  {typeof actions == \"boolean\"\n                    ? actions\n                    : create &&\n                    actions.create && (\n                      <RoundedButton\n                        icon={!visible ? <AiOutlinePlus /> : <AiOutlineClose />}\n                        type={!visible ? \"primary\" : \"danger\"}\n                        onClick={() => {\n                          setRecord(null);\n                          setVisible(visible => !visible);\n                          /* window.scrollTo(0, myRef.current ? myRef.current.offsetTop : 0) */\n                          /* window.location.hash = idComponent; */\n                          let query = props.location.search;\n                          if (mode === \"default\")\n                            navigate(\n                              `/${props.basePath || \"dashboard\"}${path ||\n                              \"/\" + source}/create${query ? query : \"\"}`\n                            );\n                        }}\n                      >\n                        {buttomAddText}\n                      </RoundedButton>\n                    )}\n                  {refresh && (\n                    <Tooltip\n                      className=\"btn-inline\"\n                      placement=\"bottom\"\n                      title=\"Refresh\"\n                    >\n                      <Button\n                        shape=\"circle\"\n                        icon={<AiOutlineReload />}\n                        type=\"link\"\n                        loading={loading}\n                        onClick={() => getData()}\n                      />\n                    </Tooltip>\n                  )}\n                </Row>\n              </Col>\n            </Row>\n            {/* \\\\\\\\ */}\n            <Row\n              style={{\n                marginBottom: 8,\n                marginTop: 8,\n              }}\n              justify='end'\n            >\n              {\n                selectedRowKeys.length ? (\n                  <Col>\n                    <span\n                      style={{\n                        marginLeft: 8,\n                      }}\n                    >\n                      {selectedRowKeys.length} registros seleccionados\n                    </span>\n                  </Col>\n                ) : null\n              }\n            </Row>\n            {/* \\\\\\\\ */}\n            <Table\n              rowSelection={ selection && rowSelection}\n              size=\"small\"\n              onChange={handleOnChange}\n              pagination={paginationActive ? pagination : false}\n              rowKey=\"id\"\n              loading={loading}\n              showHeader={props.showHeader}\n              columns={\n                gridColumns.filter(it => {\n                  if (it.type === \"actions\" && typeof actions === \"boolean\") {\n                    return actions;\n                  }\n                  return typeof it != \"undefined\";\n                })}\n              scroll={scroll ? scroll : {\n                y: 600,\n                x: 800\n              }}\n              dataSource={dataSource}\n              expandable={expandable}\n            />\n          </Box>\n        </Col>\n      </Row>\n      {\n        <MyModal\n          title={props.id !== \"create\" ? \"Edit\" : \"Create\"}\n          closabled\n          onCancel={() => setVisible(false)}\n          visible={visible && mode === \"modal\"}\n        >\n          {props.id !== \"create\" && edit\n            ? React.cloneElement(edit, {\n              id: props.id\n            })\n            : create}\n        </MyModal>\n      }\n      {exportCsv && isVisibleModalExport && (\n        <Modal {...modalExportConfig} visible={isVisibleModalExport}>\n          {modalExportConfig.content()}\n        </Modal>\n      )}\n    </Wrapper>\n  );\n};\n\nexport default Grid;\n","import style from \"styled-components\";\n\nexport const Wrapper = style.div`\n`;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  Input,\n  Icon,\n  Button,\n  Row,\n  Col,\n  Steps,\n  InputNumber,\n  Tooltip\n} from \"antd\";\nimport { Wrapper } from \"./Styles\";\nconst NumberInput = ({ steps = 4, maxLength = 13, ...props }) => {\n  const [edit, setEdit] = useState(false);\n  const [items, setItems] = useState([]);\n  const [initialized, setInitialized] = useState(false);\n  const [pasting, setPasting] = useState(false);\n  const [value, setValue] = useState();\n  const [clipboard, setClipBoard] = useState(null);\n  const [form, setForm] = useState(null);\n  const handleOnChange = () => {};\n  const onChange = e => {\n    const { value } = e.target;\n    const reg = /^-?[0-9]*(\\.[0-9]*)?$/;\n\n    if ((!isNaN(value) && reg.test(value)) || value === \"\" || value === \"-\") {\n      console.log(`---> ${value}`);\n      /* if (value.length > maxLength) {\n        value = value.slice(0, maxLength);\n      } */\n      setValue(value);\n      if (props.onChange) props.onChange(value);\n    }\n  };\n  // '.' at the end or only '-' in the input box.\n  const onBlur = () => {\n    const { onBlur, onChange } = props;\n    let valueTemp = value;\n    /* if ((value && value.charAt(value.length - 1) === \".\") || value === \"-\") {\n      valueTemp = value.slice(0, -1);\n    }\n    */\n    setValue(valueTemp);\n    /* if (valueTemp) onChange(valueTemp.replace(/(\\d+)/, \"$1\")); */\n    if (valueTemp) onChange(valueTemp);\n    if (onBlur) {\n      onBlur();\n    }\n  };\n  useEffect(() => {\n    if (props.value && !initialized) {\n      if (props.name && props.record) {\n        console.log(`>>OnChanged: `, props, props.value);\n        setValue(props.record[props.name]);\n        setInitialized(true);\n      }\n    }\n    return () => {};\n  }, [props.record]);\n  const clipboardData = async () => {\n    try {\n      const text = await window.navigator.clipboard.readText();\n      if (text) setClipBoard(text);\n    } catch (error) {\n      console.log(\"ERROR: \", error);\n    }\n  };\n  const formatter = value => {\n    var cleaned = (\"\" + value).replace(/\\D/g, \"\");\n    var match = cleaned.match(/^(\\d{2})(\\d{4})(\\d{3})(\\d{4})$/);\n    if (match) {\n      return match[1] + \"-\" + match[2] + \"-\" + match[3] + \"-\" + match[4];\n    }\n    return null;\n  };\n  useEffect(() => {\n    clipboardData();\n  }, []);\n  return (\n    <Wrapper>\n      {\n        <Row type=\"flex\" justify=\"start\" gutter={4}>\n          <Col span={20}>\n            {edit && (\n              <Input\n                onChange={onChange}\n                onBlur={onBlur}\n                placeholder={props.placeholder}\n                maxLength={13}\n                defaultValue={value}\n                type=\"number\"\n                /* value={value} */\n                /* addonAfter={} */\n                onPaste={e => {\n                  let value = e.clipboardData.getData(\"Text\");\n                  let match = formatter(value);\n                  value = value.replace(/\\-/g, \"\");\n                  setEdit(false);\n                  setValue(value);\n                  setPasting(true);\n                  let timePaste = setTimeout(() => {\n                    setPasting(false);\n                    setEdit(!match);\n                    clearTimeout(timePaste);\n                  }, 800);\n                }}\n              />\n            )}\n            {!edit && (\n              <InputNumber\n                disabled\n                /* value={value} */\n                defaultValue={value}\n                /* onChange={onChange} */\n                style={{\n                  width: \"100%\"\n                }}\n                parser={value => value.replace(/\\$\\s?|(,*)/g, \"\")}\n                formatter={formatter}\n                name=\"ParcelNumber\"\n                initial={undefined}\n                placeholder={props.placeholder}\n              />\n            )}\n          </Col>\n          <Col>\n            {\n              <Button\n                onClick={() => {\n                  if (edit && props.onChange) props.onChange(value);\n                  setEdit(edit => !edit);\n                }}\n                loading={pasting}\n                size=\"large\"\n                icon={!edit ? \"edit\" : \"check\"}\n                type=\"dashed\"\n              />\n            }\n          </Col>\n          {!pasting && (\n            <Col>\n              <Button\n                onClick={async () => {\n                  let value = await window.navigator.clipboard.readText();\n                  let match = formatter(value);\n                  value = value.replace(/\\-/g, \"\");\n                  setEdit(false);\n                  setValue(value);\n                  setPasting(true);\n                  let timePaste = setTimeout(() => {\n                    setPasting(false);\n                    setEdit(!match);\n                    if (props.onChange) props.onChange(value);\n                    clearTimeout(timePaste);\n                  }, 100);\n                  setValue(value);\n                }}\n                loading={pasting}\n                size=\"large\"\n                icon=\"copy\"\n                type=\"dashed\"\n              />\n            </Col>\n          )}\n        </Row>\n      }\n    </Wrapper>\n  );\n};\nexport default NumberInput;\n","import styled from \"styled-components\";\nexport const Wrapper = styled.div`\n  /*  max-width: 500px;\n  max-height: 400px;\n  margin: 10px; */\n  min-height: 350px;\n\n  padding-left: 5px !important;\n  padding-right: 5px !important;\n\n  & .slick-slide {\n    min-height: 350px;\n  }\n  & .slick-track {\n    height: 100% !important;\n  }\n  & .slick-prev {\n    left: 8px !important;\n    z-index: 2 !important;\n  }\n  & .slick-next {\n    right: 8px !important;\n    z-index: 2 !important;\n  }\n  & .slick-dots {\n    bottom: 10px !important;\n  }\n  & .slick-dots button {\n    border-radius: 50% !important;\n    background: transparent;\n    height: 4px;\n    width: 4px;\n    padding: 3px;\n    border: 2px solid #fff;\n  }\n  & .slick-dots .slick-active button {\n    padding: 4px;\n    background: var(--primary) !important;\n  }\n  & .slick-dots button::before {\n    content: none !important;\n  }\n  & .empty-image img {\n    max-width: 400px;\n    min-height: 400px;\n  }\n  & .empty-image {\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  @media (max-width: 768px) {\n    max-width: calc(768px - 50px);\n  }\n`;\nexport const Item = styled.div`\n  width: 100%;\n  padding: 0px;\n  background: #d9d9d9 !important;\n  max-height: 350px !important;\n`;\nexport const Image = styled.img`\n  min-height: 350px;\n  object-fit: contain !important;\n  object-position: center center !important;\n  width: 100% !important;\n\n  @media (max-width: 768px) {\n    object-fit: cover !important;\n  }\n`;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { Wrapper, Item, Image } from \"./Styles\";\nimport Slider from \"react-slick\";\nimport { URL_S3 } from \"../../../constants\";\nimport ReactPlayer from \"react-player\";\nconst settings = {\n  dots: true,\n  infinite: true,\n  speed: 500,\n  slidesToShow: 1,\n  slidesToScroll: 1\n};\nconst Carousel = ({ dataSource, defaultPosition = 0, render, ...props }) => {\n  const [position, setPosition] = useState(defaultPosition);\n  const myRef = useRef(null);\n  useEffect(() => {\n    if (myRef.current) myRef.current.slickGoTo(position);\n  }, []);\n  const defaultRender = (item, index) => {\n    return (\n      <Item>\n        {\n          <Image\n            src={item.MediaURL ? item.MediaURL : `${URL_S3}/${item.url}`}\n          />\n        }\n      </Item>\n    );\n  };\n  return (\n    <Wrapper>\n      {dataSource.length > 0 ? (\n        <Slider ref={myRef} {...settings}>\n          {dataSource.map((item, index) => {\n            if (render) return render(item, index, props);\n            return defaultRender(item, index);\n          })}\n        </Slider>\n      ) : (\n        <div className=\"empty-image\">\n          <img src={`/images/house_searching.svg`} />\n        </div>\n      )}\n    </Wrapper>\n  );\n};\nexport default Carousel;\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  & .ant-menu-item {\n    background: #fff !important;\n  }\n  & .ant-list {\n    margin-top: 8px;\n    background: #e5e5e553 !important;\n    border-radius: 4px !important;\n    padding: 8px !important;\n  }\n  & .ant-list-item {\n    margin-bottom: 4px !important;\n  }\n`;\nexport const ItemWrapper = styled.div`\n  margin: 0px;\n  & .color-container {\n    height: 40px;\n    width: 40px;\n    margin: 0px !important;\n    padding: 4px;\n    border: 4px solid #13000014;\n    box-shadow: 1px 1px 1px #ccc;\n    background: ${props => props.color};\n  }\n\n  & .color-background {\n    background: ${props => props.color};\n  }\n`;\n","import React, { useState } from 'react';\nimport { Button, Popconfirm } from 'antd';\n\nconst AsyncButton = ({ onClick, confirmText, placement, ...rest }) => {\n\n    const [loading, setLoading] = useState(false);\n\n    const handleClick = async () => {\n        if (onClick) {\n            setLoading(true)\n            await Promise.all([onClick()]).then(respuesta => respuesta)\n            setLoading(false)\n        }\n    }\n\n    if (confirmText) {\n        return (\n            <Popconfirm\n                title={confirmText}\n                placement={placement}\n                okText=\"Si\"\n                cancelText=\"No\"\n                disabled={rest.disabled}\n                onConfirm={async () => await handleClick()}\n            >\n                <Button loading={loading} {...rest}/>\n            </Popconfirm>\n        );\n    } else {\n        return (\n            <Button loading={loading} {...rest} onClick={async () => await handleClick()} />\n        );\n    }\n}\nexport default AsyncButton;","import React, { useState, useEffect, useRef } from \"react\";\nimport DinamicForm from \"./DinamicForm\";\nimport { SimpleForm } from \"./SimpleForm\";\nimport { Steps, Button, message, Card, Row, Col } from \"antd\";\nimport styled from \"styled-components\";\n/* import { useHistory } from \"react-router-dom\"; */\nimport propTypes from \"prop-types\";\nconst Wrapper = styled.div`\n  background: #fff !important;\n  padding: 40px 35px !important;\n  border-radius: 30px !important;\n  & .steps-content {\n    margin-top: 0px;\n    border: 1px dashed #e9e9e9;\n    border-radius: 6px;\n    background-color: #fafafa;\n    min-height: 200px;\n    text-align: center;\n    padding-top: 80px;\n  }\n  /* [data-theme=\"compact\"] .site-navigation-steps,\n  .site-navigation-steps {\n    margin-bottom: 60px;\n    box-shadow: 0px -1px 0 0 #e8e8e8 inset;\n  } */\n  & .footer-container {\n    text-align: center;\n  }\n  & .steps-action {\n    margin-top: 0px;\n    height: 60px;\n    width: 100%;\n    text-align: center;\n    margin: 0px auto;\n    display: flex;\n    justify-content: center;\n    margin-bottom: 10px;\n  }\n  & .footer-advanced-form .ant-row-flex {\n    margin-top: 0px !important;\n    align-items: baseline !important;\n  }\n  & .title-steps {\n    /* min-height: 100px; */\n    margin: 10px;\n  }\n  & .ant-steps-item-process .ant-steps-item-icon {\n    background: #13c4a3 !important;\n  }\n  &\n    .ant-steps-item-finish\n    > .ant-steps-item-container\n    > .ant-steps-item-content\n    > .ant-steps-item-title::after {\n    background-color: #36c3ff !important;\n  }\n`;\nconst Form = styled(SimpleForm)`\n  padding: 0 50px 40px !important;\n  border-radius: 0px !important;\n  position: relative !important;\n  transition: all 0.25s ease !important;\n  box-shadow: none !important;\n  border: 0px !important;\n  &.ant-form {\n    padding: 0px 20px !important;\n    width: 400px !important;\n  }\n  & .item-form {\n    padding: 0px 4px !important;\n  }\n  & .footer-advanced-form .ant-btn {\n    /* padding: 15px 20px; */\n    /* margin-top: 20px; */\n    height: 50px !important;\n    margin-bottom: -20px;\n    border-radius: 15px;\n    font-size: 0.95rem;\n    transition: all 0.25s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n`;\nconst HeadTitle = styled.div`\n  h2 {\n    font-size: 1.2rem !important;\n    margin-bottom: 10px !important;\n    font-style: italic;\n    text-align: center;\n    color: #ccc;\n  }\n`;\nconst CardWrapper = styled(Card)`\n  max-width: 400px;\n  border-radius: 8px !important;\n  & .ant-card-meta-detail {\n    text-align: center !important;\n  }\n  & p {\n    font-size: 20px;\n    line-height: 24px;\n    margin-bottom: 28px;\n    color: #454245;\n  }\n  & h2 {\n    font-size: 40px;\n    line-height: 46px;\n    margin-bottom: 4px;\n  }\n`;\nconst HeadLine = styled.div`\n  color: #fff;\n  text-align: center;\n  & h1 {\n    font-size: 1.5em;\n    font-weight: bold;\n    margin-block-start: 0.83em;\n    margin-block-end: 0.83em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    margin: 0px 0px 10px 0px;\n    color: #546067;\n  }\n  & p {\n    font-size: 18px;\n    padding: 0px 10px;\n  }\n  & img {\n    min-width: 180px;\n    object-fit: contain;\n    margin-bottom: 10px;\n    padding: 0px;\n  }\n`;\nconst { Step } = Steps;\nconst SteperForm = props => {\n  const [current, setCurrent] = useState(0);\n  const [steps, setSteps] = useState([]);\n  const [payloads, setPayloads] = useState({});\n  const [submiting, setSubmiting] = useState(false);\n  const [errors, setErrors] = useState();\n  const [action, setAction] = useState();\n\n  const myRef = useRef(null);\n\n  const next = () => {\n    setAction(\"next\");\n    /*  setCurrent(current => current + 1); */\n  };\n  const prev = () => {\n    setAction(\"prev\");\n    /*  setCurrent(current => current - 1); */\n  };\n  const handleSubmit = async (err, data, form) => {\n    switch (action) {\n      case \"next\":\n        if (err) {\n          return message.error(\"Some fields are required!\");\n        }\n        setPayloads({\n          ...payloads,\n          ...data\n        });\n        setCurrent(current => current + 1);\n        break;\n      case \"prev\":\n        setCurrent(current => current - 1);\n        if (props.onChange) {\n          /* form.resetFields(); */\n          const record = form.getFieldsValue();\n          setPayloads({\n            ...payloads,\n            ...record\n          });\n          console.log(\"PAYLOADS:: \", form.getFieldsValue(), payloads);\n          props.onChange(record);\n        }\n        break;\n      default:\n        /* Submit the form */\n        if (err) {\n          return message.error(\"Some fields are required!\");\n        }\n        setSubmiting(true);\n        if (props.onDone) await props.onDone(payloads);\n        setSubmiting(false);\n        break;\n    }\n    setErrors(null);\n    console.log(err, data);\n  };\n  const handleChange = (field, value) => {\n    if (props.onChange)\n      props.onChange({\n        ...payloads,\n        [field]: value\n      });\n    setPayloads({\n      ...payloads,\n      [field]: value\n    });\n  };\n\n  useEffect(() => {\n    if (props.steps) setSteps(props.steps);\n    if (props.current) setCurrent(props.current);\n    if (props.done) {\n      setAction(\"done\");\n    }\n    return () => {};\n  }, [props.steps, props.current, props.done]);\n  return (\n    <Wrapper>\n      {action !== \"done\" && props.title && <HeadLine>{props.title}</HeadLine>}\n      {action !== \"done\" && (\n        <div className=\"title-steps\">\n          <Steps\n            /* className=\"site-navigation-steps\" */\n            flex={1}\n            /* progressDot={customDot} */\n            current={current}\n            size=\"small\"\n          >\n            {steps.map((item, index) => (\n              <Step key={index} /* description={item.description}  */ />\n            ))}\n          </Steps>\n        </div>\n      )}\n      {action !== \"done\" && (\n        <Form\n          submiting={submiting}\n          autoSubmit={false}\n          onChange={handleChange}\n          onSubmit={handleSubmit}\n          footer={\n            <>\n              <div className=\"steps-action\">\n                {current < steps.length - 1 && (\n                  <Button\n                    block={current == 0}\n                    htmlType=\"submit\"\n                    size=\"large\"\n                    type=\"primary\"\n                    onClick={e => {\n                      next();\n                      /* e.preventDefault(); */\n                    }}\n                  >\n                    {`${current == 0 ? \"LET'S GO FOR IT!\" : \"NEXT\"}`}\n                  </Button>\n                )}\n                {current === steps.length - 1 && (\n                  <Button\n                    loading={submiting}\n                    block={submiting}\n                    size=\"large\"\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    onClick={() => {\n                      setAction(\"submit\");\n                    }}\n                  >\n                    {submiting ? \"SENDING...\" : props.textDone || \"DONE\"}\n                  </Button>\n                )}\n                {current > 0 && !submiting && (\n                  <Button\n                    size=\"large\"\n                    htmlType=\"submit\"\n                    style={{ marginLeft: 8 }}\n                    onClick={() => prev()}\n                  >\n                    PREVIOUS\n                  </Button>\n                )}\n              </div>\n              <div className=\"footer-container\">\n                {\" \"}\n                {props.footer && props.footer}\n              </div>\n            </>\n          }\n          title={\n            steps[current] && <HeadTitle>{steps[current].title}</HeadTitle>\n          }\n        >\n          {steps[current] && steps[current].content}\n        </Form>\n      )}\n      {action == \"done\" && (\n        <CardWrapper bordered={false}>\n          {props.doneView && props.doneView}\n          {!props.doneView && (\n            <Card.Meta\n              title={<h2>Ready we are done!</h2>}\n              description={\n                <Row type=\"flex\" justify=\"center\" align=\"middle\">\n                  <Col span={24}>\n                    <p>\n                      Please check your email account to verify your user\n                      account\n                    </p>\n                    <Button\n                      block\n                      size=\"large\"\n                      style={{\n                        backgroundColor: \"rgb(22, 91, 251)\",\n                        color: \"#fff\",\n                        margin: 10,\n                        maxWidth: \"50%\"\n                      }}\n                      onClick={() => {\n                        window.location.href = \"/signin\";\n                      }}\n                    >\n                      Go to SignIn\n                    </Button>\n                  </Col>\n                </Row>\n              }\n            ></Card.Meta>\n          )}\n        </CardWrapper>\n      )}\n    </Wrapper>\n  );\n};\nSteperForm.propTypes = {\n  steps: propTypes.array,\n  current: propTypes.number\n};\nexport default SteperForm;\n","import React, { Component } from \"react\";\n// import { notification , message, Icon } from 'antd';\nimport S3Uploader from \"react-s3-uploader\";\nimport ImageField from \"../ImageField\";\nimport { URL_S3, URL_S3_SERVER } from \"../../../constants\";\nimport styled from \"styled-components\";\nimport { Icon, Progress, message } from \"antd\";\nimport uuid from \"react-uuid\";\n\nconst Wrapper = styled.label`\n  cursor: ${({ disabled }) => (!disabled ? \"pointer\" : \"normal\")};\n\n  height: 40px !important;\n  max-width: 250px;\n  width: auto;\n\n  background: var(--primary);\n  display: block;\n  text-align: center;\n  margin: 0px auto;\n  border-radius: 30px;\n  padding: 10px;\n  color: #fff !important;\n  font-size: 16px;\n\n  & .ant-progress-outer {\n    margin: 10px 0px 0px 0px;\n  }\n  & .s3Button {\n    display: none !important;\n  }\n  & label {\n    color: #fff !important;\n  }\n`;\n\nconst Container = styled.div`\n  /* background: linear-gradient(45deg, #fe6b8b 30%, #ff8e53 90%); */\n  /*  padding: 10px 0px !important;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px !important; */\n  width: 100%;\n\n  & .s3Button {\n    display: none !important;\n  }\n  & .anticon {\n    vertical-align: middle !important;\n  }\n  & label {\n    display: flex !important;\n    justify-content: center !important;\n    align-items: center !important;\n  }\n  & .upload-label i{\n    margin:0px 4px!important;\n  }\n`;\nclass FileUpload extends Component {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(props) {\n    super(props);\n  }\n  state = {\n    progress: 0,\n    file: {},\n    image: null,\n    idComponent: uuid(),\n    onChange: null\n  };\n\n  componentWillReceiveProps({ record, source, value, ...props }) {\n    this.setState({\n      image: record ? record[source] : null\n    });\n  }\n  componentDidMount() {\n    let { record, source, match, value } = this.props;\n\n    this.setState({\n      image: record ? record[source] : null,\n      id: this.props.id || uuid()\n    });\n  }\n  onUploadStart = (file, next) => {\n    let { name, allowTypes, allowAll = false } = this.props;\n    allowTypes = allowTypes || [\"application/pdf\"];\n    if (allowTypes.indexOf(file.type) === -1 && !allowAll)\n      return message.error(\"File type is not allowed!\");\n    console.log(\"UploadFile:\", file.type);\n    this.setState({ name_file: name || file.name, file });\n    next(file);\n  };\n\n  onSignedUrl = (...props) => {};\n\n  onUploadProgress = (progress, ...props) => {\n    this.setState({ progress });\n  };\n\n  onUploadError = error => {\n    message.error(error.message);\n  };\n\n  onUploadFinish = doc => {\n    let { onChange, id, name } = this.props;\n    let image = doc.fileKey;\n    let { file } = this.state;\n    this.setState({\n      image\n    });\n    if (onChange)\n      onChange(\n        {\n          ...file,\n          name: name || file.name,\n          path: doc.fileKey\n        },\n        doc.fileKey,\n        id\n      );\n  };\n\n  render() {\n    let { file = {}, match, label, source } = this.props;\n    const { progress, id } = this.state;\n\n    if (file.name) return <div className=\"s3Button mr-2\">{file.name}</div>;\n    return (\n      <Container className=\"mr-2\">\n        <div className=\"content\">\n          {\n            <Wrapper\n              htmlFor={this.state.idComponent}\n              size=\"large\"\n              className=\"wrapper file-upload\"\n              variant=\"outlined\"\n              type=\"primary\"\n              disabled={this.props.disabled}\n            >\n              {this.props.children ? (\n                this.props.children\n              ) : (\n                <div className=\"upload-label\">\n                  <Icon type=\"upload\" />{\" \"}\n                  <span>{this.props.label && this.props.label}</span>\n                </div>\n              )}\n              {progress > 0 && progress < 100 && (\n                <Progress percent={progress} />\n              )}\n            </Wrapper>\n          }\n        </div>\n        <label className=\"s3Button\">\n          <S3Uploader\n            id={this.state.idComponent}\n            signingUrl=\"/s3Client/sign\"\n            signingUrlMethod=\"GET\"\n            accept=\"*/*\"\n            s3path={`${this.props.path}/${id}/${this.props.finalPath}/`}\n            preprocess={this.onUploadStart}\n            onSignedUrl={this.onSignedUrl}\n            onProgress={this.onUploadProgress}\n            onError={this.onUploadError}\n            onFinish={this.onUploadFinish}\n            disabled={this.props.disabled}\n            signingUrlWithCredentials={true} // in case when need to pass authentication credentials via CORS\n            uploadRequestHeaders={{ \"x-amz-acl\": \"public-read\" }} // this is the default\n            contentDisposition=\"auto\"\n            scrubFilename={filename => filename.replace(/[^\\w\\d_\\-.]+/gi, \"\")}\n            server={URL_S3_SERVER}\n            // inputRef={cmp => this.uploadInput = cmp}\n            autoUpload={true}\n            className=\"s3-uploader\"\n            style={{ visibility: \"hidden\" }}\n          />\n        </label>\n      </Container>\n    );\n  }\n}\n\nexport default FileUpload;\n","import React, { useEffect, useState } from \"react\";\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nconst DateField = ({ value, initialValue, onRender, record, name, ...props }) => {\n  const [initial, setInitialValue] = useState();\n  const [initialized, setInitialized] = useState(false);\n  useEffect(() => {\n    if (!initialized) {\n      /*  if (props.initial) {\n         setInitialValue(moment(props.initial));\n       }\n       if (typeof props[\"data-__meta\"][\"initialValue\"] !== \"undefined\") {\n         let initialValue = moment(props[\"data-__meta\"][\"initialValue\"]);\n         setInitialValue(initialValue);\n         console.log(\"Date: \", props);\n       } */\n      setInitialized(true);\n    }\n    return () => { };\n  }, []);\n  return initialized && <DatePicker {...props} defaultValue={moment(props.initialValue)} />;\n};\nexport default DateField;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Input, AutoComplete, message } from \"antd\";\nimport styled from \"styled-components\";\nimport { getService } from \"../../../services/\";\nimport debounce from \"lodash/debounce\";\nconst Wrapper = styled(AutoComplete)`\n  & .ant-input {\n    border-radius: 20px !important;\n    box-shadow: 3px 3px 3px rgba(224, 224, 224, 0.4) !important;\n    border: 1px solid rgba(224, 224, 224, 0.8) !important;\n  }\n`;\nconst SearchField = ({\n  placeholder,\n  choices,\n  record,\n  initial,\n  defaultValue,\n  defaultFilterValues = {},\n  form,\n  optionText = \"name\",\n  optionValue = \"_id\",\n  searchKey = \"search\",\n  name,\n  source,\n  onData,\n  onReset,\n  ...props\n}) => {\n  const [data, setData] = useState([]);\n  const service = getService(source || \"\");\n  const [loading, setLoading] = useState(false);\n  const [value, setValue] = useState();\n  const [initialized, setInitialized] = useState(false);\n  /* const handleSearch = value => {\n    search(value);\n  }; */\n  const getInitialValue = _id => {\n    if (choices) {\n      setLoading(false);\n      return setData(choices || []);\n    }\n    if (source) {\n      setLoading(true);\n      if (!initial && !_id) {\n        return setLoading(false);\n      }\n      service\n        .get(initial || _id)\n        .then(response => {\n          setLoading(false);\n          setData([response]);\n        })\n        .catch(error => {\n          setLoading(false);\n          message.error(error.message);\n        });\n    }\n  };\n\n  const search = value => {\n    if (!value && onReset) return onReset();\n    if (value && source) {\n      setLoading(true);\n      service\n        .find({\n          query: {\n            [searchKey]: value,\n            ...defaultFilterValues\n          }\n        })\n        .then(({ data }) => {\n          setLoading(false);\n          if (onData) onData(data);\n          if (typeof data === \"object\" && Array.isArray(data)) {\n            setData(data);\n          }\n        })\n        .catch(error => {\n          setLoading(false);\n          message.error(error.message);\n        });\n    }\n  };\n  const handleSearch = debounce(search, 100, { maxWait: 800 });\n  let myRef = useRef();\n  const { Option } = AutoComplete;\n  useEffect(() => {\n    if (!initialized) {\n      let value = props[\"data-__meta\"]\n        ? props[\"data-__meta\"].initialValue\n        : null;\n      if (typeof value != \"undefined\") {\n        getInitialValue(value);\n        setInitialized(true);\n      }\n    }\n  }, [props[\"data-__meta\"]]);\n  return (\n    <>\n      <Wrapper\n        xtype=\"search\"\n        dropdownClassName=\"certain-category-search-dropdown\"\n        dropdownMatchSelectWidth={500}\n        style={{ width: 250, ...props.style }}\n        onSearch={handleSearch}\n        onBlur={() => {\n          if (form) {\n            form.setFieldsValue({\n              [name]: value\n            });\n          }\n        }}\n        onSelect={value => {\n          setValue(value);\n          if (props.onSelectItem) {\n            let record = data.find(item => item.id == value);\n            props.onSelectItem(name, value, record, form);\n          }\n        }}\n        ref={myRef}\n        dataSource={data.map(\n          it =>\n            props.renderItem || (\n              <Option key={it[optionValue]}>\n                {typeof optionText == \"function\"\n                  ? optionText(it[name || optionValue], it)\n                  : it[optionText]}\n              </Option>\n            )\n        )}\n        {...props}\n      >\n        <Input.Search\n          loading={loading}\n          size=\"large\"\n          placeholder={placeholder || \"Search\"}\n        />\n      </Wrapper>\n    </>\n  );\n};\nexport default SearchField;\n","import React from \"react\";\nimport { Switch } from \"antd\";\nconst ToggleField = (props) => {\n  function onChange(checked) {\n    props.onChange(String(checked));\n  }\n  return (\n    <Switch\n      size={\"default\"}\n      defaultChecked={\n        props.initialValue === \"true\" || props.initialValue === \"active\"\n      }\n      onChange={onChange}\n    />\n  );\n};\nexport default ToggleField;\n","import styled from 'styled-components';\nimport {\n  Input,\n  Button\n} from \"antd\";\nconst { Search } = Input;\n\nexport const SearchBox = styled(Search)`\n  width:200;\n  height:100%;\n  border-radius: 0.5rem;\n`;\n\nexport const Wrapper = styled.div`\n    & .ant-table {\n        box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.03) !important;\n        border: 1px solid #e8e8e85e !important;\n        border-radius: 8px !important;\n    }\n`;\n\nexport const RoundedButton = styled(Button)`\n    border-radius: 20px !important;\n    padding: 4px 8px!important;\n    margin: 0px 8px!important;\n`;","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  max-width: 500px;\n  max-height: 400px;\n  margin: 10px;\n  & .image-container {\n    overflow: hidden;\n    border: 1px dashed #d6d6d6;\n    padding: 4px;\n    margin: 4px 0px;\n    background: #f3f3f3;\n    border-radius: 4px;\n  }\n  & .image-container img {\n    height: 240px;\n    object-fit: cover;\n    object-position: center center;\n  }\n  & .image-actions {\n    position: absolute;\n    top: -10px;\n    display: flex;\n    justify-content: flex-end;\n    width: calc(100% + 5px);\n    align-items: center;\n    background: transparent;\n    padding: 4px;\n    gap: 6px;\n  }\n  & .ant-list {\n    & .ant-card-bordered {\n      /* height:150px!important;    */\n    }\n    & .ant-card-body {\n      padding: 4px 0px !important;\n    }\n    & .ant-card-meta-description {\n      margin: 10px !important;\n    }\n    & .ant-card-cover {\n      height: 80px !important;\n      background: #ccc;\n      overflow: hidden !important;\n    }\n    & .ant-card-meta-description > div {\n      width: 100% !important;\n    }\n    & .ant-card-bordered ul.ant-card-actions {\n      display: none !important;\n    }\n    & .ant-card-bordered .ant-btn {\n      background: #fff !important;\n      color: red !important;\n    }\n    & .ant-card-bordered:hover ul.ant-card-actions {\n      position: absolute;\n      top: 0;\n      background: transparent;\n      width: 100%;\n      background: #0c0c0c75;\n      min-height: 82px;\n      display: flex !important;\n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n  & .slick-track {\n    height: 100% !important;\n  }\n  & .slick-prev {\n    left: 8px !important;\n    z-index: 2 !important;\n  }\n  & .slick-next {\n    right: 8px !important;\n    z-index: 2 !important;\n  }\n  @media (max-width: 768px) {\n    max-width: calc(768px - 50px);\n  }\n`;\nexport const Item = styled.div`\n  width: 100%;\n  padding: 0px;\n  max-height: 400px !important;\n`;\nexport const Image = styled.img`\n  max-height: 350px;\n  object-fit: contain !important;\n  object-position: center center !important;\n  width: 100% !important;\n\n  @media (max-width: 768px) {\n    object-fit: cover !important;\n  }\n`;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { Wrapper, Item, Image } from \"./Styles\";\nimport Slider from \"react-slick\";\nimport { URL_S3 } from \"../../../constants\";\nimport ReactPlayer from 'react-player'\n\nconst settings = {\n    dots: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1\n};\nconst Carousel = ({ dataSource, defaultPosition = 0, render, ...props }) => {\n    const [position, setPosition] = useState(defaultPosition);\n    const myRef = useRef(null);\n    useEffect(() => {\n        if (myRef.current)\n            myRef.current.slickGoTo(position);\n    }, [])\n    const defaultRender = (item, index) => {\n        return <Item>\n            {item.type == \"image\" ? <Image src={`${URL_S3}/${item.path}`} /> :\n                <ReactPlayer\n                    controls={true}\n                    width={\"100%\"}\n                    height={300}\n                    url={`${URL_S3}/${item.path}`} />\n            }\n        </Item>;\n    }\n    return (<Wrapper>\n        <Slider\n            ref={myRef}\n            {...settings}>\n            {\n                dataSource.map((item, index) => {\n                    if (render) return render(item, index, props);\n                    return defaultRender(item, index);\n                })\n            }\n        </Slider>\n    </Wrapper>);\n}\nexport default Carousel;","import React, { useState } from \"react\";\nimport {\n  message,\n  List,\n  Avatar,\n  InputNumber,\n  Card,\n  Button,\n  Divider,\n  Popconfirm,\n  Row,\n  Col,\n  Image,\n} from \"antd\";\nimport DragAndDropUploader from \"../../../components/com/DragAndDropUploader\";\nimport { getService } from \"../../../services/\";\nimport { URL_S3, S3_PATH_IMAGE_HANDLER } from \"../../../constants/\";\nimport { Wrapper } from \"./Styles\";\nimport _ from \"lodash\";\nimport { useEffect } from \"react\";\nimport Carousel from \"./Carousel\";\nimport uuid from \"react-uuid\";\n\nimport { AiOutlineEdit, AiOutlineClose } from \"react-icons/ai\";\n\nconst { Meta } = Card;\n\nconst serviceGalleryMedia = getService(\"gallery-media\");\nconst serviceGallery = getService(\"gallery\");\n\nconst GalleryUploader = ({\n  dataSource,\n  onChange,\n  onUpload,\n  source,\n  path = \"galleries\",\n  filterDefaultValues = {},\n  refresh,\n  withCropper,\n  setterVisibleCropper,\n  defaultImage,\n  actionDelete = true,\n  height,\n  width,\n  ...props\n}) => {\n  const [media, setMedia] = useState([]);\n  const [image, setImage] = useState();\n  const [loading, setLoading] = useState(false);\n  const [show, setShow] = useState(false);\n  const [record, setRecord] = useState();\n  const [reference, setReference] = useState();\n\n  const save = (gallery_id) => {\n    if (reference) {\n      const servie = getService(reference);\n      servie\n        .patch(record.id, {\n          [source]: gallery_id,\n        })\n        .then((res) => {\n          refresh(null, res);\n          message.success(\"Gallery updated successfully!\");\n        })\n        .catch((err) => {\n          message.error(err.message);\n        });\n    }\n  };\n\n  const Update = async (file) => {\n    if (!record[\"gallery_id\"]) {\n      let gallery = await serviceGallery.create({});\n      if (onChange) onChange(gallery);\n      if (gallery) record[\"gallery_id\"] = gallery.id;\n      if (gallery && gallery.id) save(gallery.id);\n    }\n    if (file.key)\n      serviceGalleryMedia\n        .create({\n          gallery_id: record[\"gallery_id\"],\n          path: file.key,\n          type: file.type,\n          priority: file.index,\n        })\n        .then((response) => {\n          getMedia();\n          /* setMedia([\n                        ...media,\n                        response\n                    ].filter(it => (it.priority))); */\n        })\n        .catch((err) => message.error(err.message));\n  };\n\n  const handleDelete = (id) => {\n    serviceGalleryMedia\n      .remove(id)\n      .then((response) => {\n        getMedia();\n        message.info(\"Media eliminado!\");\n      })\n      .catch((err) => message.error(err.message));\n  };\n\n  const update = (file) => {\n    let { reference, onChange } = props;\n    /* if (onChange) onChange(source, file.key); */\n    if (reference && record && source) {\n      const service = getService(reference);\n      service\n        .patch(record.id, {\n          [source]: file.key,\n        })\n        .then((res) => {\n          setImage(file.key);\n          setShow(true);\n          refresh(null, res);\n          if (onChange) onChange(source, file);\n          if (onUpload) onUpload(source, file);\n        })\n        .catch((err) => {\n          message.error(err.message);\n        });\n    }\n  };\n\n  const handleOnChange = ({ key, type, ...file }) => {\n    delete file.url;\n    let files = media;\n    file[\"uid\"] = `${files.length}`;\n    file[\"key\"] = key;\n    file[\"type\"] = type;\n    file[\"url\"] = file.location;\n    file[\"path\"] = file.location;\n    file[\"status\"] = file.status === 204 ? \"done\" : \"error\";\n    files.push(file);\n    if (props.form && source)\n      props.form.setFieldsValue({\n        [source]: key,\n      });\n    update(file);\n  };\n\n  const handlePriority = (value, record) => {\n    setMedia([]);\n    if (record.id)\n      serviceGalleryMedia\n        .patch(record.id, {\n          priority: value,\n        })\n        .then((response) => {\n          if (onChange) onChange(response);\n          getMedia();\n          message.success(\"Prioridad Actualizada\");\n        })\n        .catch((err) => message.error(err.message));\n  };\n\n  const getMedia = async () => {\n    if (!source || !record[\"gallery_id\"]) return;\n    if (record[\"gallery_id\"]) {\n      setLoading(true);\n      serviceGalleryMedia\n        .find({\n          query: {\n            gallery_id: record[\"gallery_id\"],\n            $limit: 900000,\n            $sort: {\n              priority: 1,\n            },\n            ...filterDefaultValues,\n          },\n        })\n        .then(({ data }) => {\n          setLoading(false);\n          setMedia(data);\n        })\n        .catch((err) => {\n          setLoading(false);\n          message.error(err.message);\n        });\n    }\n  };\n  var handleOnPriority = _.debounce(handlePriority, 1000, { maxWait: 1000 });\n\n  const renderItems = (record, index) => {\n    let url = record.path || record.url;\n    if (url && url.indexOf(URL_S3) == -1) url = `${URL_S3}/${url}`;\n    return (\n      <List.Item>\n        <Card\n          actions={[\n            <Popconfirm\n              onConfirm={() => handleDelete(record.id)}\n              title=\"Eliminar Media?\"\n              okText=\"Si\"\n              cancelText=\"No\"\n            >\n              <Button shape=\"circle\" type=\"ghost\" icon=\"delete\" />\n            </Popconfirm>,\n          ]}\n          cover={<img src={url} />}\n        >\n          <Meta\n            description={\n              <>\n                <span>Prioridad</span>\n                <InputNumber\n                  min={0}\n                  defaultValue={record.priority}\n                  name=\"priority\"\n                  onChange={(value) => handleOnPriority(value, record)}\n                />\n              </>\n            }\n          />\n        </Card>\n      </List.Item>\n    );\n  };\n\n  useEffect(() => {\n    if (props.reference) {\n      setReference(props.reference);\n    }\n  }, [props.reference]);\n\n  useEffect(() => {\n    if (props.record) {\n      setRecord(props.record);\n      if (source && props.record) {\n        setShow(\n          (typeof props.record.image_gallery?.path !== \"undefined\" &&\n            props.record[source] != null) ||\n            props.record.path_image_main !== null\n        );\n        setImage(\n          props.record[source]\n            ? props.record[source]\n            : props.record.image_gallery?.path ||\n                props.record.path_image_main ||\n                props.record[source]\n        );\n      }\n    }\n  }, [props]);\n\n  if (!record) return <>Record not found</>;\n\n  return (\n    <Wrapper>\n      <Row justify={'center'}>\n        {media && show && (\n          <Col span={24}>\n            <div className=\"image-container\">\n              <Image\n                fallback=\"data:image/png;base64,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\"\n                src={`${S3_PATH_IMAGE_HANDLER}/${window.imageShark({\n                  url: `${defaultImage || image}`,\n                  width: width || 1000,\n                  height: height || 600,\n                })}\n                `}\n                width={width || \"100%\"}\n                height={height || \"250px\"}\n                alt=\"imagen\"\n                preview={{\n                  src: `${URL_S3}${defaultImage || image}`,\n                }}\n              />\n              <div className=\"image-actions\">\n                {/*\n                {withCropper && (\n                  <Button\n                    onClick={() => {\n                      setterVisibleCropper(true);\n                    }}\n                    size=\"small\"\n                    shape=\"circle\"\n                    type=\"primary\"\n                    icon={<AiOutlineEdit />}\n                  />\n                )}\n                */}\n                {actionDelete && (\n                  <Button\n                    onClick={async () => {\n                      const service = getService(reference);\n                      if (props.form && source)\n                        props.form.setFieldsValue({\n                          [source]: null,\n                        });\n                      try {\n                        if (props._id) {\n                          const response = await service.patch(\n                            props._id,\n                            { [source]: null },\n                            {}\n                          );\n                          if (refresh) refresh(null, response);\n                          message.success(\"Imagen eliminada exitosamente\");\n                        }\n                        refresh(null, null);\n                      } catch (e) {\n                        message.error(\"Error al eliminar la imagen\");\n                      }\n                      setShow(false);\n                    }}\n                    size=\"small\"\n                    shape=\"circle\"\n                    type=\"primary\"\n                    icon={<AiOutlineClose />}\n                  />\n                )}\n              </div>\n            </div>\n          </Col>\n        )}\n        {!show && (\n          <Col>\n            <DragAndDropUploader\n              dataSource={media}\n              record={record}\n              onChange={handleOnChange}\n              /*onDelete={handleOnDelete} */\n              path={path}\n            />\n          </Col>\n        )}\n      </Row>\n    </Wrapper>\n  );\n};\nexport default GalleryUploader;\n","import React, { useEffect, useState } from \"react\";\nimport AdvancedForm from \"./AdvancedForm\";\nimport { Row, message } from \"antd\";\nimport styled from \"styled-components\";\nimport { getService } from \"../../../services/services\";\nimport { Spin, Modal } from \"antd\";\nimport _ from \"lodash\";\n\n\nconst { confirm } = Modal;\n\nconst antIcon = <Spin />;\n\nconst Form = styled(AdvancedForm)`\n  min-width: 450px;\n  max-width: 500px;\n  background: #fff;\n  padding: 40px 35px !important;\n  border: 1px solid #ccc;\n\n  box-shadow: 0 2px 10px -1px rgba(69, 90, 100, 0.3);\n  margin-bottom: 30px;\n  transition: box-shadow 0.2s ease-in-out;\n\n  border: 0px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n\n  & .item-form {\n    padding: 5px 20px !important;\n  }\n  \n  & .ant-form-item input:focus {\n    box-shadow: none !important;\n  }\n  & .ant-form-item {\n    padding-bottom: 5px !important;\n    margin-bottom: 5px !important;\n  }\n  & .item-form.item-hidden{\n    padding: 0px !important;\n    height: 0px !important;\n    margin-bottom:0px!important;\n  }\n  & .ant-input-prefix i {\n    color: rgba(0, 0, 0, 0.25) !important;\n    font-size: var(--font-size-tiny) !important;\n  }\n  & .ant-select-search__field {\n    /* border: 0px !important; */\n  }\n  & .ant-input-number.ant-input-number-lg,\n  .ant-select-selection {\n    /* border: 0px !important; */\n  }\n  & .ant-select {\n    /* border-bottom: 1px solid #ccc; */\n  }\n  & .ant-divider-horizontal {\n    margin: 10px 0 !important;\n    color: #ccc!important;\n    font-style: italic!important;\n  }\n  & .ant-card-bordered {\n    /* box-shadow: 3px 3px 3px #ccc !important; */\n    border-radius: 10px !important;\n  }\n\n  & .ant-form-explain{\n    \n    position: absolute!important  ;\n    bottom: -17px!important ;\n    left: 10px!important  ;\n\n    /* background: rgba(255,78,78,.1)!important; */\n    color: #ff4e4e!important;\n    /* padding: 8px!important;\n    border-radius: 0px 8px!important;\n    border-radius: 20px!important; */\n  }\n  & .search .ant-select-arrow{\n    height: 100%!important;\n    background: #73dcc9!important;\n    top: 5px!important;\n    width: 35px!important;\n    right: 0!important;\n    border-radius: 0px 8px 8px 0px!important;\n    display: flex!important;\n    justify-content: center!important;\n    align-items: center!important;\n    color: #fff!important;\n    font-size: 1.2rem!important;\n    padding: 0px 5px!important;\n    border: 2px solid #73dcc9!important;\n  }\n  & .footer-advanced-form .ant-btn {\n    /* padding: 15px 20px; */\n    /* margin-top: 20px; */\n    height: 50px !important;\n    min-height: 50px !important;\n    margin-bottom: -20px;\n    border-radius: 30px!important;\n    font-size: 0.95rem;\n    transition: all 0.25s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  & .ant-btn-default,\n  .ant-btn-default:hover\n  {\n    color: rgba(0, 0, 0, 0.65)!important;\n    background-color: var(--color-gray-light)!important;\n  }\n\n  & .ant-form-item input,\n  textarea {\n    /* border: 0px;\n    border-radius: 0px;\n    border-bottom: 1px solid #ccc; */\n\n    /* padding: 0.625rem 1.1875rem; */\n    /* font-size: 0.875rem; */\n    font-weight: 400;\n    line-height: 1.5;\n    /* padding: 10px 4px 8px 30px!important; */\n    /* font-size: 1.2em!important; */\n  }\n  & .login-form-button {\n    text-transform: uppercase;\n    font-weight: bold;\n    margin-bottom:0px!important;\n    margin-top:0px!important;\n    //border: 1px solid transparent !important;\n    padding: 0.625rem 1.1875rem !important;\n    font-size: 0.875rem !important;\n    line-height: 1.5 !important;\n    border-radius: 2px !important;\n  }\n  & > .ant-form-item label {\n    position: relative !important;\n    color: var(--color-gray)!important;\n  }\n\n  & .ant-row.footer-advanced-form div:last-child {\n      margin-top: 0px!important;\n  }\n\n  & .ant-form-item input:hover,\n  .ant-select-selection:hover,\n  textarea.ant-input:hover\n  {\n    background: #e5ecee!important\n  }\n  & .ant-form-item input,\n  .ant-select-selection,\n  textarea.ant-input\n  {\n    border-radius: 4px!important;\n  }\n  .ant-input-number-handler-wrap{\n    visibility:hidden!important;\n  }\n  .ant-select-focused .ant-select-selection,\n  .ant-select-selection:focus,\n  .ant-select-selection:active,\n  .ant-input:hover,\n  .ant-input:focus,\n  .ant-input:active,\n  .ant-input-number,\n  textarea.ant-input,\n  .ant-select-open .ant-select-selection {\n    box-shadow: none!important;\n  }\n  & .ant-col-12.item-form {\n    padding: 5px 4px;\n  }\n& .form-fields{\n  margin-left: 8px!important;\n  margin-right: 8px!important;\n}\n& .ant-form{\n    box-shadow:none!important;\n    min-width:100%!important;\n    padding: 0px!important;\n}\n& .login-form-button{\n    width: auto!important;\n    padding: 4px 50px!important;\n}\n& .footer-advanced-form {\n    margin: 0px!important;\n    padding: 0px!important;\n}\n& .card-closed .ant-card-body {\n    padding: 0px!important;\n}\n& .ant-card-body {\n    padding: 10px 20px!important;\n}\n& .ant-card-head{\n    min-height: auto!important;\n    padding: 0 10px!important;\n    background-color:var(--gray-dark-1)!important;\n    color:#fff!important;\n}\n& .card-closed .ant-card-head{\n    background-color:var(--gray-dark)!important;\n}\n&  .ant-card-head-title {\n    padding: 4px 0!important;\n    text-transform: uppercase!important;\n}\n& .btn-submit{\n    min-width: 150px;\n    height: 45px!important;\n    font-size: 18px;\n    font-weight: bold;\n}\n& .address-container input{\n    margin: 10px 0px!important;\n}\n/* Form */\n&.ant-form{\n  box-shadow:none!important;\n  min-width:100%!important;\n  padding: 0px!important;\n}\n& .login-form-button{\n  width: auto!important;\n  padding: 4px 50px!important;\n}\n& .footer-advanced-form {\n  margin: 0px!important;\n  padding: 0px!important;\n}\n\n& .btn-submit{\n  min-width: 150px;\n  height: 45px!important;\n  font-size: 18px;\n  font-weight: bold;\n}\n& .address-container input{\n  margin: 10px 0px!important;\n}\n\n& .ant-select-lg .ant-select-selection--single, \n.ant-select-auto-complete.ant-select .ant-select-selection--single{\n  min-height: 40px!important;\n}\n& .ant-select-auto-complete.ant-select .ant-form-item input{\n  height: 40px!important;\n}\n& .ant-select-selection--multiple .ant-select-search--inline .ant-select-search__field {\n    /* width: 100%; */\n    /* min-width: 100%!important; */\n    /* padding: 4px 8px!important; */\n    margin: 0px 8px!important;\n    height: auto!important;\n}\n& .ant-select-search__field__wrap input{\n  background:transparent!important;\n}\n\n& .ant-card-head{\n  min-height: 30px;\n  color: #535353;\n  background:#FFF!important;\n}\n& .head-title{\n  background: #f0f6fb!important;\n  border-radius: 8px!important;\n\n}\n& .ant-card-head{\n  border-bottom:0px!important;\n}\n& .ant-switch {\n    width: 50px!important;\n}\n& .item-form {\n  padding: 8px 4px !important;\n}\n`;\n\nconst Loader = styled.div`\n  text-align: center;\n  background: rgba(0, 0, 0, 0.05);\n  border-radius: 4px;\n  margin-bottom: 20px;\n  padding: 30px 50px;\n  margin: 20px 0;\n  min-height: 400px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst HeadLine = styled.div`\n  text-align: center;\n  & h2 {\n    font-size: 1.5rem;\n  }\n  & img {\n    margin-bottom: 1.5rem !important;\n  }\n`;\nconst Footer = styled(Row)`\n  & .ant-col {\n    margin-bottom: 0.5rem !important;\n  }\n`;\n\nexport const SimpleForm = ({\n  source = \"\",\n  title,\n  header,\n  footer,\n  children,\n  onSubmit,\n  style,\n  id,\n  idKey = \"_id\",\n  layout = \"vertical\",\n  width = \"100%\",\n  textAcceptButton,\n  autoSubmit = true,\n  owner = false,\n  ownerId = \"user_id\",\n  query,\n  allowNull,\n  ...props\n}) => {\n  const [service, setService] = useState();\n  const [record, setRecord] = useState(props.record || {});\n  const [submitting, setSubmitting] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [_id, setID] = useState();\n  const [initialValues, setInitialValues] = useState(_.mapValues(props.initialValues, (value) => { if (value !== null) { return value; } }));\n\n\n  const save = async (payloads) => {\n    return new Promise((resolve, reject) => {\n      setSubmitting(true);\n      if (_id) {\n        return service\n          .patch(_id, payloads)\n          .then(({ msg, ...rest }) => {\n            message.success(msg || \"Actualizado exitosamente\");\n            resolve(rest);\n            setInitialValues();\n            setRecord();\n            setSubmitting(false);\n            if (props.onAfterSubmit) props.onAfterSubmit(rest);\n          })\n          .catch((err) => {\n            reject(err);\n            setSubmitting(false);\n            message.error(err.message);\n          });\n      }\n      service\n        .create(payloads)\n        .then((response) => {\n          message.success(\n            response.message || props.message || \"Creado exitosamente\"\n          );\n          resolve(response);\n          setInitialValues();\n          setRecord();\n          setSubmitting(false);\n        })\n        .catch((err) => {\n          reject(err);\n          message.error(err.message);\n          setSubmitting(false);\n        });\n    });\n  };\n\n  const handleSubmit = async (err, data, form) => {\n    if (err) return;\n    delete data.avatar_gallery;\n    delete data.apparta_menu_linktree_background;\n\n    data = _.mapValues(data, (value, key) => {\n      if (initialValues[key] !== value || (source === 'users' && (key === 'email' || key === 'phone'))) {\n        if ((allowNull && value === null) || value !== null) {\n          return value === undefined ? null : value;\n        }\n      }\n    });\n\n    if (!_.values(data).some(value => value !== undefined)) {\n      return;\n    }\n    if (autoSubmit && source) {\n      const response = await save(data);\n      if (onSubmit) onSubmit(err, response, form);\n    } else {\n      setSubmitting(true);\n      if (onSubmit)\n        await Promise.resolve(\n          onSubmit(err, data, form)\n        ).then(() => {\n          setSubmitting(false);\n        }).catch(err => {\n          setSubmitting(false);\n        })\n    }\n  };\n\n\n  const handleDelete = () => {\n    if (source && id) {\n      confirm({\n        title: \"¿Estas seguro de eliminar el registro?\",\n        content: \"Oprime OK para eliminar.\",\n        onOk() {\n          service\n            .remove(id)\n            .then(response => {\n              if (onSubmit)\n                onSubmit();\n              getData();\n              message.info(\"Record deleted\");\n            })\n            .catch(err => message.error(err.message));\n        },\n        onCancel() { }\n      });\n    }\n  };\n\n  const getData = () => {\n    if (source && id && !props.initialValues) {\n      const service = getService(source);\n      service\n        .get(id, { query: query })\n        .then((response) => {\n          try {\n            response = _.mapValues(response, (value) => { if (value !== null) { return value; } });\n            setInitialValues(response);\n            setRecord(response);\n            if (props.onLoad) props.onLoad(response);\n          } catch (error) {\n            message.error(error);\n          }\n        })\n        .catch((err) => message.error(err));\n    }\n  };\n\n  useEffect(() => {\n    setService(getService(source));\n    let { match } = props;\n    if (match && !id) {\n      let { params } = match;\n      if (params) {\n        id = params.id;\n      }\n    }\n    setID(id);\n    getData();\n    return () => { };\n  }, [id]);\n\n  useEffect(() => {\n    setLoading(props.loading);\n  }, [props.loading]);\n\n  if (loading)\n    return (\n      <Loader>\n        <Spin indicator={antIcon} tip=\"Cargando...\" />\n      </Loader>\n    );\n\n  return (\n    <Form\n      {...props}\n      onSubmit={handleSubmit}\n      onDelete={handleDelete}\n      style={{\n        ...style,\n      }}\n      autoSubmit={autoSubmit}\n      layout={layout}\n      formLayout={layout}\n      initialValues={initialValues}\n      submitting={submitting}\n      textAcceptButton={\n        textAcceptButton ? textAcceptButton : _id ? \"Actualizar\" : \"Crear\"\n      }\n      footer={\n        <Footer type=\"flex\" justify=\"center\" align=\"middle\">\n          {footer}\n        </Footer>\n      }\n      record={record}\n      title={\n        title ? (\n          <HeadLine\n            style={{\n              width: \"100%\",\n            }}\n          >\n            {title}\n          </HeadLine>\n        ) : (\n          header\n        )\n      }\n    >\n      <>\n        {React.Children.map(children, (child, index) => {\n          if (!child) return null;\n          return React.cloneElement(child, {\n            record,\n          });\n        })}\n      </>\n    </Form>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Icon, Input, message, Select } from \"antd\";\nimport { getService } from \"../../../services\";\nimport _ from \"lodash\";\nimport { WrapperSelect } from \"./Styles\";\n\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\nconst { Option } = Select;\nconst defaultActions = {\n  create: false,\n};\nconst SelectField = ({\n  optionValue = \"id\",\n  autoSelect = false,\n  optionText = \"name\",\n  defaultValue,\n  defaultValues = {},\n  onBlur,\n  actions = defaultActions,\n  onSelect,\n  minWidth = 150,\n  onSelectItem,\n  showSearch,\n  resource,\n  reference,\n  source,\n  record,\n  form,\n  placeholder,\n  name,\n  onChange,\n  onSearch,\n  ...props\n}) => {\n  const [initialized, setInitialized] = useState(false);\n  const [filterDefaultValues, setFilterDefaultValue] = useState();\n  const [initialValue, setInitialValue] = useState();\n  const [onInitialized, setOnInitialized] = useState();\n  const [choices, setChoices] = useState(props.choices || []);\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [add, setAdd] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [value, setValue] = useState();\n\n  const getInitialValue = (data) => {\n    let dataSource = data || choices;\n    let item;\n    if (dataSource) {\n      if (autoSelect && !initialized) {\n        item = dataSource.find((item, index) => index === 0);\n        /*  if (onChange)\n                     onChange(defaultValue || item[optionValue]); */\n        setInitialized(true);\n      }\n\n      if (record && record[source])\n        item = dataSource.find((item, index) => {\n          return source && record && item[optionValue] === record[source];\n        });\n      if (item) {\n        setValue(defaultValue || item[optionValue]);\n        setInitialValue(defaultValue || item[optionValue]);\n        if (onInitialized) onInitialized(\"EL CITO ES GAY!\");\n      }\n    }\n  };\n\n  const getData = async () => {\n    if (resource || reference) {\n      const service = getService(resource || reference);\n      let token = localStorage.getItem(\"feathers-jwt\");\n      if (!token) return;\n      setLoading(true);\n      if (!loading)\n        return service\n          .find({\n            query: {\n              ...filterDefaultValues,\n              $limit: 500000,\n            },\n          })\n          .then((res) => {\n            let data = Array.isArray(res) ? res : res.data;\n            setChoices(data);\n            getInitialValue(data);\n            setLoading(false);\n          })\n          .catch((err) => {\n            setLoading(false);\n            message.error(err.message);\n          });\n    }\n  };\n\n  const addItem = () => {\n    if ((resource || reference) && value) {\n      const service = getService(reference || resource);\n      setSubmitting(true);\n      service\n        .create({\n          [source || name]: value,\n          ...defaultValues,\n        })\n        .then(async (res) => {\n          message.success(\"Registro agregado con éxito!\");\n          if (value) setInitialValue(value);\n          setAdd(false);\n          setOpen(false);\n          setSubmitting(false);\n          await getData();\n          if (onSelect) {\n            onSelect(res[optionValue], res);\n          }\n        })\n        .catch((err) => {\n          message.error(err.message);\n        });\n    }\n  };\n\n  const cancelItem = () => {\n    setAdd(false);\n  };\n\n  useEffect(() => {\n    if (props.onInitialized) setOnInitialized(props.onInitialized);\n  }, [props.onInitialized]);\n\n  useEffect(() => {\n    if (props.defaultValue) getInitialValue();\n  }, [props.defaultValue]);\n\n  useEffect(() => {\n    if (filterDefaultValues) getData();\n  }, [filterDefaultValues]);\n\n  useEffect(() => {\n    if (typeof props.filterDefaultValues == \"undefined\") {\n      setFilterDefaultValue(props.filterDefaultValues || {});\n    } else if (!_.isEqual(props.filterDefaultValues, filterDefaultValues)) {\n      setFilterDefaultValue(props.filterDefaultValues);\n    }\n  }, [props.filterDefaultValues]);\n\n  useEffect(() => {\n    if (defaultValue) {\n      setInitialValue(defaultValue);\n    }\n  }, [defaultValue]);\n\n  useEffect(() => {\n    if (props.choices) setChoices(props.choices);\n  }, [props.choices]);\n\n  useEffect(() => {\n    setLoading(props.loading);\n  }, [props.loading]);\n\n  useEffect(() => {\n    if (props.value) setValue(props.value);\n  }, [props.value]);\n\n  const onNameChange = (e) => {\n    let { value } = e.target;\n    setValue(value);\n  };\n  const handleOnChange = (value) => {\n    setValue(value);\n    if (onChange) onChange(value);\n    if (onSelectItem) {\n      let record = choices.find((it) => it[optionValue] == value);\n      onSelectItem(source || name, value, record);\n    }\n  };\n  const handleOnSelect = (value) => {\n    if (value) setValue(value);\n    if (choices) {\n      let item = choices.find((item) => item && item[optionValue] == value);\n      setOpen(false);\n      if (onSelect && item) onSelect(value, item);\n    }\n  };\n  const handleOnClear = () => {\n    setInitialValue(null);\n    if (props.onClear) props.onClear();\n  };\n  const handleSelect = _.debounce(handleOnSelect, 800, { maxWait: 800 });\n  const handleChange = _.debounce(handleOnChange, 800, { maxWait: 800 });\n\n  if (submitting) return <span>Loading...</span>;\n  return (\n    <WrapperSelect display={actions.create && !add ? \"flex\" : \"block\"}>\n      {!add && (\n        <Select\n          {...props}\n          value={choices && value}\n          style={{\n            minWidth,\n            ...props.style,\n          }}\n          initial={initialValue}\n          defaultValue={defaultValue}\n          loading={submitting || loading}\n          showSearch\n          size={props.size || \"large\"}\n          placeholder={placeholder || \"Seleccionar\"}\n          optionFilterProp=\"children\"\n          onChange={handleChange}\n          onSelect={handleSelect}\n          onSearch={onSearch}\n          allowClear={props.allowClear || true}\n          filterOption={(input, option) =>\n            option.props.children.toLowerCase().indexOf(input.toLowerCase()) >=\n            0\n          }\n          /* onBlur={() => {\n                setOpen(open => !open);\n            }}\n            onFocus={() => {\n                setOpen(open => !open);\n            }}\n            open={open} */\n          clearIcon={\n            <Button\n              onClick={handleOnClear}\n              style={{\n                margin: 0,\n                padding: 0,\n                position: \"absolute\",\n                left: -10,\n                top: -4,\n              }}\n              size=\"small\"\n              shape=\"circle\"\n              type=\"default\"\n              icon={<AiOutlineCloseCircle />}\n            />\n          }\n          name={name || source}\n        /* dropdownRender={actions.create ? menu => (\n              <div>\n                  {menu}\n                  <Divider style={{ margin: '4px 0' }} />\n                  <div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\n                      <Input\n                          style={{ flex: 'auto' }} value={value}\n                          placeholder={props.addPlaceholder}\n                          onChange={onNameChange} />\n                      <a\n                          style={{ flex: 'none', padding: '8px', display: 'block', cursor: 'pointer' }}\n                          onClick={addItem}\n                      >\n                          <Icon type=\"plus\" /> Agregar\n                      </a>\n                  </div>\n              </div>\n          ) : undefined} */\n        >\n          {choices &&\n            choices.map((it, index) => {\n              return (\n                <Option key={index} value={it && it[optionValue || \"id\"]}>\n                  {it && typeof optionText == \"function\"\n                    ? optionText(it)\n                    : it[optionText || \"name\"]}\n                </Option>\n              );\n            })}\n        </Select>\n      )}\n      {actions.create && !add && (\n        <Button\n          className=\"container-button-plus\"\n          onClick={() => setAdd((add) => !add)}\n          type=\"primary\"\n        >\n          {!add ? \"Add\" : \"save\"}\n        </Button>\n      )}\n      {actions.create && add && (\n        <div className={\"\"}>\n          <div\n            style={{\n              display: \"flex\",\n              flexWrap: \"nowrap\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n              padding: 8,\n            }}\n          >\n            <Input\n              /* style={{ flex: 'auto' }} */\n              value={value}\n              placeholder={props.addPlaceholder}\n              onChange={onNameChange}\n              size=\"large\"\n            />\n            <Button\n              className=\"container-button-plus\"\n              disabled={!value}\n              /* style={{ flex: 'none', padding: '8px', display: 'block', cursor: 'pointer' }} */\n              type=\"primary\"\n              onClick={addItem}\n            >\n              Save\n            </Button>\n            <Button\n              className=\"container-button-plus\"\n              disabled={!value}\n              /* style={{ flex: 'none', padding: '8px', display: 'block', cursor: 'pointer' }} */\n              type=\"danger\"\n              onClick={cancelItem}\n            >\n              <AiOutlineCloseCircle />\n              Cancelar\n            </Button>\n          </div>\n        </div>\n      )}\n    </WrapperSelect>\n  );\n};\n\nexport default SelectField;\n","import React, { useState, useEffect } from \"react\";\nimport { Modal, Button } from \"antd\";\nimport styled from \"styled-components\";\n\nconst Container = styled(Modal)`\n  & .ant-modal-content {\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;\n    margin-bottom: 25px !important;\n    border-radius: 20px !important;\n  }\n\n  & .ant-modal-header {\n    background: var(--primary) !important;\n    border-radius: 20px!important;\n    min-height: 60px !important;\n  }\n  & .ant-modal-body {\n    box-sizing: border-box !important;\n    padding-bottom: 0px !important;\n  }\n\n  & .ant-modal-title {\n    color: var(--white) !important;\n    font-size: 1.125rem !important;\n    font-weight: 700 !important;\n  }\n  /* & .modal-content.headline {\n    transform: translate(0px, -60px);\n  } */\n  & .modal-content {\n    /* width: calc(100% - 50px); */\n\n    /* border-radius: 3px !important; */\n    margin-bottom: 0px !important;\n\n    /* box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important; */\n    /* min-height: 80px; */\n    overflow: hidden;\n\n    /*  position: absolute; */\n    display: block;\n\n    /* background: var(--white) !important; */\n    padding: 20px 5% 20px 5%;\n    margin-left: auto;\n    margin-right: auto;\n    overflow-y: scroll;\n    box-sizing: border-box !important;\n  }\n\n  & .modal-content > .ant-form {\n    padding: 0px !important;\n    margin: 0px !important;\n    margin-bottom: 10px!important;\n    border: 0px !important;\n    box-shadow: none !important;\n    width: 100% !important;\n  }\n  & .ant-modal-close {\n    top: 15px !important;\n    right: 15px !important;\n  }\n  & .ant-modal-close-x {\n    color: var(--primary) !important;\n    background: #C4A8FB !important;\n    border-radius: 9999px;\n    max-height: 25px;\n    max-width: 25px;\n    justify-content: center !important;\n    align-items: center;\n    display: flex;\n  }\n`;\nexport const MyModal = ({\n  children,\n  title,\n  maskClosable = true,\n  destroyOnClose = true,\n  closable = true,\n  onOk = null,\n  onCancel = null,\n  footer = null,\n  width = 650,\n  ...props\n}) => {\n  const [visible, setVisible] = useState(props.visible);\n\n  useEffect(() => {\n    setVisible(props.visible);\n    return () => { };\n  }, [props.visible]);\n  return (\n    <Container\n      centered\n      width={width}\n      destroyOnClose={destroyOnClose}\n      maskClosable={maskClosable}\n      closable={closable}\n      title={title}\n      style={{ top: 20 }}\n      visible={visible}\n      onOk={onOk}\n      onCancel={() => {\n        Modal.destroyAll();\n        setVisible(false);\n        if (onCancel) onCancel();\n      }}\n      footer={footer}\n    >\n      {children}\n    </Container>\n  );\n};\n","import { ExportToCsv } from \"export-to-csv\";\nimport jsPDF from \"jspdf\";\nimport momentTZ from \"moment\";\nimport 'moment/locale/es';\n\nvar currency = require(\"currency-formatter\");\nconst TOKEN_KEY = \"feathers-jwt\";\nexport const moment = (locale) => {\n  momentTZ.locale(locale || \"es\");\n  return momentTZ;\n};\nexport const exportToCsv = (data, options) => {\n  const headers = options.headers;\n  options = {\n    fieldSeparator: options.fieldSeparator || \";\",\n    quoteStrings: '\"',\n    decimalSeparator: options.decimalSeparator || \".\",\n    showLabels: true,\n    showTitle: true,\n    title: options.title || \"Report\",\n    useTextFile: false,\n    useBom: true,\n    useKeysAsHeaders: headers ? false : true,\n    headers\n    // headers: ['Column 1', 'Column 2', etc...] <-- Won't work with useKeysAsHeaders present!\n  };\n  const csvExporter = new ExportToCsv(options);\n  if (data.length == 0) return;\n  csvExporter.generateCsv(data);\n};\nexport const exportTableToPdf = (data, options) => {\n  let excludes = [\"_id\", \"role\", \"status\", \"updatedAt\", \"createdAt\"];\n  let headers =\n    options.headers || data.length\n      ? Object.keys(data[0]).filter(key => excludes.indexOf(key) == -1)\n      : [];\n\n  if (!options.headers) {\n    headers = headers.map(key => ({\n      id: key,\n      name: key,\n      prompt: key,\n      width: 35,\n      align: \"center\",\n      padding: 0\n    }));\n  }\n  var doc = new jsPDF({ putOnlyUsedFonts: true, orientation: \"landscape\" });\n  doc.table(1, 1, data, headers);\n  doc.save(options.name || \"report.pdf\");\n};\nexport const money = (value, decimalSeparator) => {\n  return currency.format(value, {\n    code: \"USD\",\n    decimalDigits: 0,\n    precision: 0,\n    decimalSeparator: \".\"\n  });\n};\nexport const decimal = (value, decimal = \",\") => {\n  return currency.format(value, {\n    symbol: \"\",\n    decimal,\n    precision: 0,\n    format: \"%v %s\" // %s is the symbol and %v is the value\n  });\n};\n\nexport const parseFormData = params => {\n  const formData = new FormData();\n  for (var s in params) {\n    formData.append(s, params[s]);\n  }\n  return formData;\n};\nexport const generateGET = options => {\n  // Create string for GET requests in a url\n  var payloads = \"?\";\n\n  var i = 1;\n  for (var key in options) {\n    payloads += key + \"=\" + options[key];\n\n    // Append & separator to all but last value\n    if (i !== Object.keys(options).length) payloads += \"&\";\n\n    i++;\n  }\n\n  return payloads;\n};\n/*\n ** Funcion Debounce:\n ** Mejora la Experiencia de usuario. ya que se ejecuta solo una vez al terminar de escribir.\n */\nexport const debounce = (fn, tiempo) => {\n  let timeoutId;\n  return function () {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    const context = this;\n    const args = arguments;\n    timeoutId = setTimeout(() => {\n      fn.apply(context, args);\n    }, tiempo);\n  };\n};\nexport const autocomplete = (inp, arr) => {\n  if (typeof inp === \"string\") inp = document.getElementById(inp);\n  /*the autocomplete function takes two arguments,\n        the text field element and an array of possible autocompleted values:*/\n  var currentFocus;\n  /*execute a function when someone writes in the text field:*/\n  inp.addEventListener(\"input\", function (e) {\n    var a,\n      b,\n      i,\n      val = this.value;\n    /*close any already open lists of autocompleted values*/\n    closeAllLists();\n    if (!val) {\n      return false;\n    }\n    currentFocus = -1;\n    /*create a DIV element that will contain the items (values):*/\n    a = document.createElement(\"DIV\");\n    a.setAttribute(\"id\", this.id + \"autocomplete-list\");\n    a.setAttribute(\"class\", \"autocomplete-items\");\n    /*append the DIV element as a child of the autocomplete container:*/\n    this.parentNode.appendChild(a);\n    /*for each item in the array...*/\n    for (i = 0; i < arr.length; i++) {\n      /*check if the item starts with the same letters as the text field value:*/\n      if (arr[i].substr(0, val.length).toUpperCase() === val.toUpperCase()) {\n        /*create a DIV element for each matching element:*/\n        b = document.createElement(\"DIV\");\n        /*make the matching letters bold:*/\n        b.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\n        b.innerHTML += arr[i].substr(val.length);\n        /*insert a input field that will hold the current array item's value:*/\n        b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\n        /*execute a function when someone clicks on the item value (DIV element):*/\n        b.addEventListener(\"click\", function (e) {\n          /*insert the value for the autocomplete text field:*/\n          inp.value = this.getElementsByTagName(\"input\")[0].value;\n          /*close the list of autocompleted values,\n                    (or any other open lists of autocompleted values:*/\n          closeAllLists();\n        });\n        a.appendChild(b);\n      }\n    }\n  });\n  /*execute a function presses a key on the keyboard:*/\n  inp.addEventListener(\"keydown\", function (e) {\n    var x = document.getElementById(this.id + \"autocomplete-list\");\n    if (x) x = x.getElementsByTagName(\"div\");\n    if (e.keyCode === 40) {\n      /*If the arrow DOWN key is pressed,\n              increase the currentFocus variable:*/\n      currentFocus++;\n      /*and and make the current item more visible:*/\n      addActive(x);\n    } else if (e.keyCode === 38) {\n      //up\n      /*If the arrow UP key is pressed,\n              decrease the currentFocus variable:*/\n      currentFocus--;\n      /*and and make the current item more visible:*/\n      addActive(x);\n    } else if (e.keyCode === 13) {\n      /*If the ENTER key is pressed, prevent the form from being submitted,*/\n      e.preventDefault();\n      if (currentFocus > -1) {\n        /*and simulate a click on the \"active\" item:*/\n        if (x) x[currentFocus].click();\n      }\n    }\n  });\n  function addActive(x) {\n    /*a function to classify an item as \"active\":*/\n    if (!x) return false;\n    /*start by removing the \"active\" class on all items:*/\n    removeActive(x);\n    if (currentFocus >= x.length) currentFocus = 0;\n    if (currentFocus < 0) currentFocus = x.length - 1;\n    /*add class \"autocomplete-active\":*/\n    x[currentFocus].classList.add(\"autocomplete-active\");\n  }\n  function removeActive(x) {\n    /*a function to remove the \"active\" class from all autocomplete items:*/\n    for (var i = 0; i < x.length; i++) {\n      x[i].classList.remove(\"autocomplete-active\");\n    }\n  }\n  function closeAllLists(elmnt) {\n    /*close all autocomplete lists in the document,\n          except the one passed as an argument:*/\n    var x = document.getElementsByClassName(\"autocomplete-items\");\n    for (var i = 0; i < x.length; i++) {\n      if (elmnt !== x[i] && elmnt !== inp) {\n        x[i].parentNode.removeChild(x[i]);\n      }\n    }\n  }\n  /*execute a function when someone clicks in the document:*/\n  document.addEventListener(\"click\", function (e) {\n    closeAllLists(e.target);\n  });\n};\nexport const capitalize = value => {\n  return value.replace(/(W)+/g, \"#\");\n};\n/* Agregado por fvargas */\nexport const CamelCaseSplit = word => {\n  if (typeof word !== \"string\") return word;\n  let match = word.match(new RegExp(/(([A-Z]{1})([a-z]+))([\\,])?/g));\n  if (match) word = match.join(\" \");\n  return word;\n};\nexport const isLogin = () => {\n  if (localStorage.getItem(TOKEN_KEY)) {\n    return true;\n  }\n  return false;\n};\nexport const isAdmin = user => {\n  user = user || localStorage.getItem(\"user\");\n  if (user) {\n    if (typeof user == \"string\") user = JSON.parse(user);\n    return user.role === \"admin\";\n  }\n  return false;\n};\nexport const allowAccess = permissions => {\n  if (!permissions) return true;\n  let user = localStorage.getItem(\"user\");\n  if (user) {\n    user = JSON.parse(user);\n    if (!user.role) return false;\n    return permissions.includes(user.role.toLowerCase());\n  }\n  return false;\n};\n","import React, { useState, useEffect } from \"react\";\nimport { SimpleForm } from \"./SimpleForm\";\nimport styled from \"styled-components\";\nimport qs from \"qs\";\nimport {\n  Input,\n  Select,\n  InputNumber,\n  Divider,\n  Checkbox,\n  DatePicker,\n  TimePicker,\n  Button,\n  Col,\n  Row,\n  message,\n  Icon,\n  Radio\n} from \"antd\";\nimport { SelectField } from \"./\";\nimport FileUploader from \"./FileUploader\";\nimport GalleryUploader from \"../gallery/GalleryUploader\";\nimport {\n  CustomField,\n  RadioField,\n  StatusField,\n  MoneyField,\n  SwitchField\n} from \"../fields/\";\nimport { getService } from \"../../../services\";\nimport _ from \"lodash\";\n\nconst { TextArea } = Input;\n\nconst Form = styled(SimpleForm)`\n  &.ant-form {\n    width: 100% !important;\n    max-width: 100% !important;\n  }\n  & .ant-form {\n    width: 100% !important;\n  }\n`;\nconst HeadLine = styled.h2`\n  color: rgb(0, 0, 0, 0.8);\n  font-size: 24px;\n  text-align: center;\n  margin-bottom: 0px !important;\n`;\nconst SubHeadLine = styled.h2`\n  font-style: italic;\n  color: rgb(0, 0, 0, 0.5);\n`;\nconst DividerHeadLine = props => (\n  <div {...props} flex={1}>\n    <SubHeadLine\n      style={{\n        marginBottom: 0,\n        ...props.style\n      }}\n    >\n      {props.text}\n    </SubHeadLine>\n  </div>\n);\nconst Combo = ({\n  data = [],\n  valueField = \"value\",\n  displayField = \"text\",\n  ...props\n}) => {\n  const { Option } = Select;\n  return (\n    <Select {...props} size=\"large\" style={{ width: \"100%\", minWidth: 220 }}>\n      {data.map((item, index) => (\n        <Option key={item[valueField] || index}>\n          {item[displayField] || \"--- None ---\"}\n        </Option>\n      ))}\n    </Select>\n  );\n};\n\nconst Builder = ({ xtype = \"text\", onDisable, ...props }, index) => {\n  let { required, conditional } = props;\n  if (required) {\n    props[\"validations\"] = props[\"validations\"] || [];\n    props[\"validations\"].push({\n      required: props.required,\n      message: props.message || `This field is required`\n    });\n    delete props.required;\n  }\n  switch (xtype) {\n    case \"textfield\":\n      if (props.multiline)\n        return (\n          <Input.TextArea\n            key={index}\n            size=\"large\"\n            autoSize={{ minRows: 3, maxRows: 5 }}\n            {...props}\n            name={props.source || props.name}\n          />\n        );\n      return (\n        <Input\n          size=\"large\"\n          key={index}\n          {...props}\n          name={props.source || props.name}\n        />\n      );\n      break;\n    case \"filefield\":\n      if (props.multiple || props.dragAndDrop)\n        return (\n          <GalleryUploader\n            flex={1}\n            size=\"large\"\n            key={index}\n            {...props}\n            reference={props.reference}\n            name={props.source || props.name}\n          />\n        );\n      return (\n        <FileUploader\n          size=\"large\"\n          key={index}\n          {...props}\n          name={props.source || props.name}\n        />\n      );\n      break;\n    case \"numberfield\":\n      return (\n        <InputNumber\n          size=\"large\"\n          key={index}\n          {...props}\n          name={props.source || props.name}\n        />\n      );\n      break;\n    case \"customfieldprice\":\n      return (\n        <Row gutter={[24, 12]} flex={1} key={index}>\n          <Col\n            span={conditional ? 12 : 24}\n            style={{ width: conditional ? \"70%\" : \"100%\" }}\n          >\n            <InputNumber\n              style={{ width: \"100%\" }}\n              size=\"large\"\n              disabled={conditional}\n              value={props?.toValue}\n              key={index}\n              {...props}\n              name=\"price_tax_excl\"\n            />\n          </Col>\n          {conditional && (\n            <Col span={12} align=\"right\" style={{ width: \"30%\" }}>\n              <Button\n                type=\"link\"\n                icon=\"edit\"\n                onClick={() => {\n                  props.changebutton(!props?.statusButton);\n                }}\n              >\n                Editar\n              </Button>\n            </Col>\n          )}\n          <div key={index}>\n            {props.initial > 0 ||\n              (props?.statusButton === true && (\n                <>\n                  <Col\n                    span={12}\n                    style={{\n                      width: \"70%\"\n                    }}\n                    key={index}\n                  >\n                    <p\n                      style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        gap: 6,\n                        width: \"100%\",\n                        overflow: \"hidden\"\n                      }}\n                      key={index}\n                    >\n                      <Icon\n                        type=\"warning\"\n                        theme=\"filled\"\n                        style={{ color: \"#FFCC00\" }}\n                        key={index}\n                      />\n                      Este cambio solo aplica para el restaurante seleccionado\n                    </p>\n                    <InputNumber\n                      size=\"large\"\n                      style={{ width: \"100%\" }}\n                      key={index}\n                      name=\"price_tax_excl\"\n                      {...props}\n                    />\n                  </Col>\n                  <Col span={12} align=\"right\" style={{ width: \"30%\" }}>\n                    <Button\n                      type=\"link\"\n                      icon=\"delete\"\n                      style={{ marginTop: \"4rem\" }}\n                      key={index}\n                      onClick={async () => {\n                        const service = getService(props.reference);\n                        try {\n                          await service.patch(\n                            props?.idEditable,\n                            { price_tax_excl: null, price_tax_incl: null },\n                            {}\n                          );\n                          message.success(\"Overwrite eliminado extiosamente\");\n                        } catch (e) {\n                          message.error(e.message);\n                        }\n                      }}\n                    >\n                      Eliminar\n                    </Button>\n                  </Col>\n                </>\n              ))}\n          </div>\n        </Row>\n      );\n      break;\n    case \"selectfieldcustom\":\n      if (conditional === true) {\n        return (\n          <SelectField\n            size=\"large\"\n            key={index}\n            {...props}\n            name={props.source || props.name}\n          />\n        );\n      }\n      break;\n    case \"moneyfield\":\n      return <MoneyField {...props} name={props.source || props.name} />;\n      break;\n    case \"selectfield\":\n      return (\n        <Select\n          size=\"large\"\n          key={index}\n          name={props.source || props.name}\n          showSearch\n          allowClear\n          optionFilterProp=\"children\"\n          filterOption={(input, option) =>\n            option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n          }\n          {...props}\n        >\n          {\n            _.map(props.choices, ({ id, name }, index) =>\n              <Select.Option\n                key={index}\n                value={id}\n              >\n                {name}\n              </Select.Option>\n            )\n          }\n        </Select>\n      );\n      break;\n    case \"customfield\":\n      return (\n        <CustomField\n          key={index}\n          {...props}\n          name={props.source || props.name}\n          flex={props.flex || 1}\n        />\n      );\n      break;\n    case \"statusfield\":\n      return (\n        <StatusField key={index} {...props} name={props.source || props.name} />\n      );\n      break;\n    case \"textarea\":\n      return (\n        <TextArea\n          size=\"large\"\n          key={index}\n          {...props}\n          name={props.source || props.name}\n        />\n      );\n      break;\n    case \"date\":\n      return (\n        <DatePicker key={index} {...props} name={props.source || props.name} />\n      );\n      break;\n    case \"checkbox\":\n      return (\n        <Checkbox\n          key={index}\n          xtype={xtype}\n          {...props}\n          name={props.source || props.name}\n        >\n          <>{props.text && <span>{props.text}</span>}</>\n        </Checkbox>\n      );\n      break;\n    case \"switch\":\n      return <SwitchField size=\"large\" key={index} {...props} />;\n\n      break;\n    case \"combo\":\n      return <Combo key={index} {...props} name={props.source || props.name} />;\n      break;\n    case \"number\":\n      return (\n        <InputNumber\n          size=\"large\"\n          key={index}\n          {...props}\n          name={props.source || props.name}\n        />\n      );\n      break;\n    case \"divider\":\n      return props.text ? (\n        <DividerHeadLine\n          {...props}\n          name={props.source || props.name}\n          flex={1}\n        />\n      ) : (\n        <Divider\n          key={index}\n          {...props}\n          name={props.source || props.name}\n          flex={1}\n        />\n      );\n      break;\n    case \"headline\":\n      return props.text ? (\n        <HeadLine {...props} name={props.source || props.name} flex={1}>\n          {props.text}\n        </HeadLine>\n      ) : (\n        <Divider\n          key={index}\n          {...props}\n          name={props.source || props.name}\n          flex={1}\n        />\n      );\n      break;\n    case \"span\":\n      return props.text ? (\n        <span {...props} flex={1}>\n          {props.text}\n        </span>\n      ) : (\n        <Divider\n          key={index}\n          {...props}\n          name={props.source || props.name}\n          flex={1}\n        />\n      );\n      break;\n    case \"referenceinput\":\n      return (\n        <Input\n          type=\"hidden\"\n          key={index}\n          {...props}\n          name={props.source || props.name}\n        />\n      );\n      break;\n    case \"hidden\":\n      return (\n        <Input\n          type=\"hidden\"\n          key={index}\n          {...props}\n          name={props.source || props.name}\n        />\n      );\n      break;\n    case \"radiofield\":\n      return (\n        <RadioField\n          key={index}\n          {...props}\n          name={props.source || props.name}\n          defaultValue={props.source}\n        />\n      );\n      break;\n    case \"radiogroupfield\":\n      return (\n        <Radio.Group\n          key={index}\n          {...props}\n          options={props.options}\n          name={props.source || props.name}\n        />\n      );\n      break;\n    case \"timefield\":\n      return (\n        <TimePicker\n          size=\"large\"\n          key={index}\n          {...props}\n          options={props.options}\n          name={props.source || props.name}\n        />\n      );\n      break;\n    default:\n      return (\n        <Input\n          size=\"medium\"\n          key={index}\n          {...props}\n          name={props.source || props.name}\n        />\n      );\n      break;\n  }\n};\n\nexport const DinamicForm = ({ fields, ...props }) => {\n\n\n\n  const [record, setRecord] = useState();\n  const [items, setItems] = useState([]);\n\n  const getFields = () => {\n    if (!fields) return null;\n\n    return fields\n      .filter(item => typeof item != \"undefined\" && typeof item !== \"boolean\")\n      .filter(item => (item.showByEdit ? item.showByEdit && props.id : true))\n      .map((item, index) => {\n        item[\"record\"] = record || {};\n        return Builder(item, index);\n      });\n  };\n\n  const handleLoad = record => {\n    setRecord(record);\n  };\n\n  useEffect(() => {\n    setItems(getFields());\n  }, [record]);\n\n  useEffect(() => {\n    if (fields) setItems(getFields());\n  }, [fields]);\n\n  return (\n    <div>\n      <Form onLoad={handleLoad} autoSubmit={true} {...props}>\n        {[...items]}\n      </Form>\n    </div>\n  );\n};\n","import styled from \"styled-components\";\nimport { Tag } from \"antd\";\nexport const TagWrapper = styled(Tag)`\n  border-radius:0px !important;\n  border:0px !important;\n  padding: 4px !important;\n  line-height: 8px !important;\n  font-size: 14px !important;\n  text-transform: none !important;\n  background:transparent!important;\n  /* color:var(--green)!important; */\n  font-weight:normal !important;\n  &.ant-tag::after {\n    content: none !important;\n  }\n  &.inactive{\n    color:var(--red)!important;\n  }\n  &.status.completed{\n    color:var(--green)!important;\n   } \n  ${({ disabled }) => disabled && `\n      color:#ccc!important;\n  `}\n\n\n`;\nexport const WrapperField = styled.div`\n.swatch {\n  padding: \"5px\";\n  background: \"#fff\";\n  border-radius: \"1px\";\n  box-shadow: \"0 0 0 1px rgba(0,0,0,.1)\";\n  display: \"inline-block\";\n  cursor: \"pointer\";\n}\n`;\nexport const WrapperFileField = styled.div`\n\n`;\nexport const WrappercolorFields = styled.div`\n  & .color{\n    background:${({ color }) => `${color || \"#FFF\"}`};\n    height:40px;\n    border:1px solid #ccc;\n    width: \"36px\",\n    height: \"14px\",\n    borderRadius: \"2px\"\n  }\n  & .swatch{\n    padding: \"5px\",\n    background: \"#fff\",\n    border-Radius: \"1px\",\n    box-Shadow: \"0 0 0 1px rgba(0,0,0,.1)\",\n    display: \"inline-block\",\n    cursor: \"pointer\"\n  }\n  & .popover: {\n    position: \"absolute\",\n    zIndex: \"2\"\n  },\n  & .cover: {\n    position: \"fixed\",\n    top: \"0px\",\n    right: \"0px\",\n    bottom: \"0px\",\n    left: \"0px\"\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const WrapperSelect = styled.div`\n    ${({ display }) => {\n        return `display:${display}`;\n    }}\n    align-items:center;\n  \n    & .container-button-plus{\n        margin-left: 10px;\n    }\n`;\n\nexport const Tools = styled.div`\n  display: flex;\n  & .ant-btn {\n    margin: 0px 4px;\n  }\n`;\nexport const HeadTitle = styled.div`\n  h2 {\n    font-size: 24px !important;\n    font-style: italic !important;\n    text-align: center !important;\n    color: #ccc !important;\n  }\n`;","import React from 'react';\nimport { InputNumber } from \"antd\";\nconst PhoneField = ({ input = false, record, name, ...props }) => {\n\n    const formatter = value => {\n        var cleaned = ('' + value).replace(/\\D/g, '')\n        var match = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/)\n        if (match) {\n            return '(' + match[1] + ') ' + match[2] + '-' + match[3]\n        }\n        return null;\n    }\n    if (!input) {\n        return <>\n            {record && formatter(record[name])}\n        </>\n    }\n    return (<InputNumber\n        parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\n        formatter={formatter}\n        {...props} />)\n}\nexport default PhoneField;","import React, { useState, useEffect } from \"react\";\nimport { Select, Button, Row, Col } from \"antd\";\nimport { TagWrapper } from \"./Styles\";\nconst { Option } = Select;\nconst statusDefautls = [\n  {\n    id: \"active\",\n    name: \"Activo\"\n  },\n  {\n    id: \"inactive\",\n    name: \"Inactivo\"\n  },\n]\nconst StatusField = ({\n  editable = false,\n  input = false,\n  initial,\n  record,\n  name,\n  source,\n  disabled,\n  optionValue = \"id\",\n  optionText = \"name\",\n  ...props\n}) => {\n  const [choices, setChoices] = useState([]);\n  const [value, setValue] = useState();\n  const [current_value, setCurrentValue] = useState();\n  const [edit, setEdit] = useState(false);\n  const [item, setItem] = useState({});\n  const getInitialValue = () => {\n    let initialValue = choices.find(item => {\n      return item[optionValue] == initial || item[optionValue] == record[name || source];\n    });\n    setItem(initialValue);\n    initialValue = initialValue ? initialValue[optionText] : \"\";\n    setValue(initialValue);\n    setCurrentValue(initialValue);\n  };\n  const handleEdit = () => {\n    setEdit(edit => !edit);\n  };\n  const handleSelect = value => {\n    if (source) {\n      setCurrentValue(value);\n      let find = choices.find(item => item[optionValue] == value);\n      if (find) setValue(find[optionText]);\n      setEdit(false);\n      if (props.onItemSelect && record)\n        props.onItemSelect(source, value, record);\n    }\n  };\n  useEffect(() => {\n    if (props.choices) {\n      setChoices(props.choices);\n    } else {\n      setChoices(statusDefautls)\n    }\n  }, [props.choices]);\n  useEffect(() => {\n    if (choices.length > 0 && record)\n      getInitialValue();\n  }, [choices]);\n  if (!input) {\n    if (!value) return null;\n    return (\n      <Row type=\"flex\" justify=\"start\" align=\"middle\">\n        <Col>\n          {!edit ? (\n            <TagWrapper\n              disabled={disabled}\n              className={`status ${record ? record[name || source] : \"\"}`}\n            /*  style={{\n               color: item.color || \"#87d068\"\n             }}\n             color={item.background || \"transparent\"} */\n            >\n              {record[name || source]}\n              {value}\n            </TagWrapper>\n          ) : (\n            <Select\n              choices={choices}\n              defaultValue={current_value}\n              parser={value => value.replace(/\\$\\s?|(,*)/g, \"\")}\n              onSelect={handleSelect}\n              style={{\n                minWidth: 150\n              }}\n              {...props}\n            >\n              {choices &&\n                choices.map(item => (\n                  <Option key={item[optionValue]} value={item[optionValue]}>\n                    {typeof optionText == \"function\"\n                      ? optionText(name, item)\n                      : item[optionText]}\n                  </Option>\n                ))}\n            </Select>\n          )}\n        </Col>\n        <Col>\n          {editable && (\n            <Button\n              type=\"link\"\n              icon={!edit ? \"edit\" : \"close\"}\n              onClick={handleEdit}\n            />\n          )}\n        </Col>\n      </Row>\n    );\n  }\n  return (\n    <Select\n      dataSource={choices}\n      parser={value => value.replace(/\\$\\s?|(,*)/g, \"\")}\n      {...props}\n    >\n      {choices &&\n        choices.map(item => (\n          <Option key={item[optionValue]} value={item[optionValue]}>\n            {typeof optionText == \"function\"\n              ? optionText(name, item)\n              : item[optionText]}\n          </Option>\n        ))}\n    </Select>\n  );\n};\nexport default StatusField;\n","import React from 'react';\nimport { WrapperField } from \"./Styles\";\nconst CustomField = ({ input = false, render, record, name, children, ...props }) => {\n    return (<WrapperField flex={props.flex || 1} className=\"custom-field\">\n        {render && render(record)}\n    </WrapperField>);\n}\nexport default CustomField;","import React, { useState, useEffect } from 'react';\nimport { Radio } from 'antd';\nimport { WrapperField } from \"./Styles\";\nconst RadioField = ({ input = false, optionText = \"name\", optionValue = \"id\", source, render, record, name, children, ...props }) => {\n    const [choices, setChoices] = useState([]);\n    const [initialvalue, setInitialValue] = useState();\n    const handleOnChange = e => {\n        let { value } = e.target;\n        if (source) {\n            if (props.onChange) props.onChange(value, source);\n        }\n    }\n    const renderItems = item => {\n        return <Radio value={item[optionValue]}>{item[optionText]}</Radio>\n    }\n    useEffect(() => {\n        if (props.choices) {\n            setChoices(props.choices);\n        }\n    }, [props.choices]);\n    useEffect(() => {\n        if (record && record[source]) {\n            setInitialValue(record[source]);\n        }\n    }, [record]);\n    return (<WrapperField flex={props.flex || 1} className=\"custom-field\">\n        <Radio.Group\n            defaultValue={initialvalue}\n            onChange={handleOnChange} /* value={value} */>\n            {\n                choices.map(item => renderItems(item))\n            }\n        </Radio.Group>\n    </WrapperField>);\n}\nexport default RadioField;","import React, { useEffect, useState } from 'react';\nimport { InputNumber } from 'antd';\nimport { WrapperField } from \"./Styles\";\nconst MoneyField = ({ input = false, render, record, name, source, children, ...props }) => {\n    const [value, setValue] = useState();\n    /*  useEffect(() => {\n         if (record && record[source || name]) {\n             setDefaultValue(Number(record[source || name]))\n         }\n     }, [record]) */\n    const handleChange = value => {\n        if (props.onChange) props.onChange(value);\n    }\n    useEffect(() => {\n        if (props.initial || props.defaultValue || record) {\n            let value = Number(props.initial || props.defaultValue || record[source || name]);\n            if (!isNaN(value)) {\n                setValue(value);\n                handleChange(value);\n            }\n        }\n    }, [props.initial, props.defaultValue, record]);\n    return (<WrapperField flex={props.flex || 1} className=\"custom-field\">\n        <InputNumber\n            {...props}\n            size=\"large\"\n            xtype=\"number\"\n            /*  formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n             parser={value => value.replace(/\\$\\s?|(,*)/g, '')} */\n            onChange={handleChange}\n            value={value}\n            min={props.min || 0}\n            name={source || name} />\n    </WrapperField>);\n}\nexport default MoneyField;","import React, { useState, useEffect } from 'react';\nimport { Switch } from \"antd\";\nconst SwitchField = ({ source, name, ...props }) => {\n    const [value, setValue] = useState();\n    const handleChange = checked => {\n        setValue(checked)\n        if (props.onChange) props.onChange(String(checked));\n    }\n    useEffect(() => {\n        if (props.record) {\n            let value = props.record[source || name];\n            value = (value == \"true\");\n            setValue(value);\n        }\n    }, [props.record])\n    return (<div>\n        {<Switch\n            {...props}\n            checked={typeof value != \"undefined\" ? Boolean(value) : false}\n            onChange={handleChange}\n            name={props.source || props.name}\n        >\n            <>{props.text && <span>{props.text}</span>}</>\n        </Switch>}\n    </div >);\n}\nexport default SwitchField;","import styled from 'styled-components';\nimport { Col } from \"antd\";\n\nexport const Container = styled(Col)`\n    /* margin:8px 0px!important; */\n    & .ant-card{\n      box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\n      background: #fff ;\n    }\n    & .ant-card-extra{\n        padding:0px!important;\n        margin:0px!important;\n    }\n    & .ant-card-head{\n      min-height: 48px;\n     /*  margin-bottom: -1px; */\n      padding: 0 16px;\n      color: #535353;\n      background:#FFF!important;\n      font-weight: 500;\n      font-size: 18px;\n      border-bottom: 1px solid #e8e8e8;\n      border-radius: 6px 6px 0 0;\n    }\n    & .ant-card-bordered {\n      border-radius: 1rem !important;\n    }\n    & .ant-card-head-title, .head-title {\n      padding: 4px 0!important;\n      color: #535353!important;\n      padding: 4px!important;\n    }\n    & .btn-show{\n        color:#fff!important;\n    }\n    & .head-title{\n        cursor:pointer;\n        /* color: var(--antd-wave-shadow-color)!important; */\n    }\n    & .ant-form-horizontal{\n      display:flex!important;\n    }\n    & .ant-form-horizontal .footer-advanced-form .ant-row-flex .ant-divider  {\n        display:none!important;\n    }\n    & .ant-form-horizontal .footer-advanced-form .login-form-button{\n      margin: 15px 0px!important;\n      font-size: 24px!important;\n      width: auto!important;\n      border-radius: 4px!important;\n      padding: 4px 10px!important;\n      min-height: auto!important; \n      height: auto!important;\n      margin-top: 27px!important;\n      margin-bottom: 0px!important;\n    }\n    & .ant-form-horizontal .footer-advanced-form {\n        margin: 10px!important;\n        padding: 10px!important;\n        height: auto!important;\n    }\n    & .card-closed .ant-card-body {\n      padding: 0px!important;\n    }\n    & .ant-card-body {\n      padding: 10px 20px!important;\n    }\n    & .card-closed .ant-card-head{\n      background-color:#f5f5f5!important;\n    }\n    ${({ xtype }) => {\n    if (xtype == \"fieldset\")\n      return `\n        & .card-closed .ant-card-head{\n          background-color:#FFF!important;\n        }\n        & .head-title{\n          text-transform: capitalize!important;\n        }\n        & .btn-show{\n          color:#535353!important;\n        }\n      `;\n  }\n  }\n`;","import React, { useState, useEffect } from 'react';\nimport { Card, Button, Col } from \"antd\";\nimport { Container } from \"./Styles\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Box = ({ children, ...props }) => {\n    const [show, setShow] = useState(props.show || false);\n    const [goBack, setGoBack] = useState(false);\n    const navigate = useNavigate();\n    \n    const handleShowHidde = () => {\n        if (props.xtype)\n            setShow(show => (!show));\n    }\n    useEffect(() => {\n        if (props.goBack || props.resource)\n            setGoBack(props.goBack || typeof props.resource != \"undefined\");\n    }, [props.goBack])\n\n    return (\n        <Container xtype={props.xtype} className={props.className}>\n            {!props.transparent\n                ? <Card\n                    bordered={typeof props.xtype == \"undefined\"}\n                    className={`card-${show ? \"opened\" : \"closed\"}`}\n                    title={\n                        props.title &&\n                        <div\n                            className=\"head-title\"\n                            onClick={handleShowHidde}\n                        >\n                            {\n                                goBack && <Button type=\"link\" size=\"large\" icon=\"arrow-left\" onClick={() => {\n                                    let query = props.location.search;\n\n                                    navigate(props.resource ? `/dashboard/${props.resource}${query ? query : \"\"}` : '../', { replace: true })\n                                }} />\n                            }\n                            {\n                                props.xtype && <Button\n                                    style={{\n                                        width: 30\n                                    }}\n                                    className=\"btn-show\" icon={show ? \"up\" : \"down\"} type=\"link\"\n                                    onClick={handleShowHidde} />\n                            }\n                            <span>\n                                {props.title}\n                            </span>\n                        </div>\n                    }\n                >\n                    <>{show && children}</>\n                </Card>\n                : <Col span={24}>{show && children}</Col>\n            }\n        </Container>\n    );\n}\nexport default Box;","export const COLORS = [\n    {\n        background: \"#f5276d\",\n        color: \"#fff\",\n    },\n    {\n        background: \"#ffa117\",\n        color: \"#fff\",\n    },\n    {\n        background: \"#2196f3\",\n        color: \"#fff\",\n    },\n    {\n        background: \"#6f63f4\",\n        color: \"#fff\",\n    },\n    {\n        background: \"#56b475\",\n        color: \"#fff\",\n    },\n    {\n        background: \"#795548\",\n        color: \"#fff\",\n    },\n    {\n        background: \"#795548\",\n        color: \"#fff\",\n    },\n    {\n        background: \"#ffea30\",\n        color: \"#172533\",\n    },\n    {\n        background: \"#d4d9dd\",\n        color: \"#172533\",\n    },\n    {\n        background: \"#19c3d8\",\n        color: \"#fff\",\n    },\n];\nexport * from \"./Helper\";","import React, { Component } from \"react\";\nimport { Form, Row, Col, Button } from \"antd\";\nimport \"./form.css\";\nimport moment from \"moment\";\nimport { Tools, HeadTitle } from './Styles';\n\nclass AdvancedForm extends Component {\n\n  formRef =  React.createRef();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      expand: false,\n      formLayout: \"vertical\"\n    };\n  }\n\n  handleFormatterPhone = value => {\n    var cleaned = (\"\" + value).replace(/\\D/g, \"\");\n    var match = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n    if (match) {\n      return \"(\" + match[1] + \") \" + match[2] + \"-\" + match[3];\n    }\n    return null;\n  };\n\n  handleSubmit = async (e) => {\n    if (typeof this.props.onSubmit !== \"undefined\") {\n      if (e.path_image_main)\n        delete e.path_image_main\n      if (e.banner_path)\n        delete e.banner_path\n      if (e.apparta_menu_branch_list_background_path)\n        delete e.apparta_menu_branch_list_background_path\n      this.props.onSubmit(undefined, e, this.props.form, e);\n    }\n  };\n\n  getFields() {\n    const me = this;\n    const { children, initialValues } = this.props;\n    let childrens = [];\n\n    let { formLayout } = this.state;\n    formLayout = this.props.formLayout || formLayout;\n\n    const formItemLayout =\n      formLayout === \"vertical\"\n        ? {\n          labelCol: {\n            span: 4,\n          },\n          wrapperCol: {\n            span: 14,\n          },\n        }\n        : null;\n\n    if (typeof children !== \"undefined\") {\n      try {\n        let { props } = children;\n        let childNodes = props.children || [];\n        childrens = React.Children.map(childNodes, (child, index) => {\n          if (!child) return child;\n          let {\n            name,\n            label,\n            labelAlign,\n            help,\n            required,\n            message,\n            validations,\n            style,\n            initial,\n            initialValue,\n            valuePropName=\"value\",\n            onChange,\n            type,\n            xtype,\n            next_reference,\n            flex,\n            className,\n            format,\n            mode,\n            feedback = false,\n            onRender\n          } = child.props;\n\n          name = typeof name === \"undefined\" ? `field_${index}` : name;\n\n          style = style || {};\n\n          /* InitialValue Map */\n          let { latName = \"lat\", lngName = \"lng\" } = child.props;\n          let { form } = me.props;\n          if (xtype === \"map\") {\n            // initialValue = Object.values(values);\n          }\n\n          if (initialValues) initialValue = initialValues[name];\n\n          if (xtype === \"date\" && initialValues) {\n            if (initialValues[name]) initialValue = moment(initialValues[name]);\n          }\n          if (xtype === \"number\" && initialValues) {\n            if (initialValues[name]) initialValue = Number(initialValues[name]);\n          }\n          validations = validations || [\n            {\n              required: required || this.props.allRequired || false,\n              message: message || `${label} es requerido`\n            }\n          ];\n\n          if (next_reference) {\n            if (validations.filter(it => it.validator).length === 0) {\n              validations.push({\n                validator: (rule, value, callback) => {\n                  if (value && value !== form.getFieldValue(next_reference)) {\n                    callback(\"Two passwords that you enter is inconsistent!\");\n                  } else {\n                    callback();\n                  }\n                }\n              });\n            }\n          }\n          if (type === \"email\") {\n            validations.push({\n              type: \"regexp\",\n              pattern: new RegExp(\n                \"^([a-zd.-]+)@([a-zd-]+).([a-z]{2,8})(.[a-z]{2,8})?$\"\n              ),\n              message: \"Wrong format!\"\n            });\n          }\n          if (xtype === \"password\") {\n            if (validations.filter(it => it.validator).length === 0) {\n              validations.push({\n                validator: async (rule, value) => {\n                  var mediumRegex = new RegExp(\n                    \"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})\"\n                  );\n                  if (mediumRegex.test(value)) {\n\n                  } else {\n                    throw new Error(\n                      value\n                        ? \"Badly formed password!!\"\n                        : \"The password is required\"\n                    );\n                  }\n                }\n              });\n            }\n          }\n          if (xtype === \"phone\") {\n          }\n          delete child.value;\n          if (type === \"hidden\") {\n            style = {\n              display: \"none\"\n            };\n          }\n          if (flex <= 1) style[\"width\"] = `${flex * 100}%`;\n          if (!child.type || typeof child == \"undefined\") {\n            return null;\n          }\n          return (\n            <Col\n              {...formItemLayout}\n              key={name || `field-${index}`}\n              style={{ padding: 5, display: \"inline-block\", ...style }}\n              className={`${typeof className !== \"undefined\"\n                ? \"item-form \" + className\n                : \"item-form\"\n                } ${type === \"hidden\" ? \"item-hidden\" : \"\"} ${xtype === \"fieldset\" ? \"field-set\" : \"\"\n                }`}\n            >\n              <Form.Item\n                enableReinitialize\n                label={label}\n                labelAlign={labelAlign || \"right\"}\n                hasFeedback={next_reference != null}\n                help={help}\n                name={name || `field-${index}`}\n                initialValue={initialValue || initial}\n                validateTrigger=\"onChange\"\n                valuePropName={valuePropName}\n                rules={validations}\n              >\n                {\n                  React.cloneElement(child, {\n                    style: { width: \"100%\" },\n                    trigger: \"focus\",\n                    onBlur: e => {\n                      if (xtype === \"capitalize\") {\n                        let value = e.target.value;\n                        form.setFieldsValue({\n                          [name]:\n                            typeof value == \"string\"\n                              ? value.capitalize()\n                              : value\n                        });\n                      }\n                      if (xtype === \"phonefield\") {\n                        let value = e.target.value;\n                        form.setFieldsValue({\n                          [name]:\n                            typeof value == \"string\"\n                              ? this.handleFormatterPhone(value)\n                              : value\n                        });\n                      }\n                    },\n                    form\n                  })\n                }\n              </Form.Item>\n            </Col >\n          );\n        });\n      } catch (err) {\n        console.log(\"ERROR: \", err);\n      }\n    }\n\n    return childrens;\n  }\n\n  componentDidMount() {\n    let { formLayout } = this.props;\n    if (typeof formLayout !== \"undefined\")\n      this.setState({\n        formLayout\n      });\n\n    if (this.props.onMount && this.formRef) this.props.onMount(this.formRef.current);\n\n    let { initialValues } = this.props;\n    if(this.props.form){\n      this.props.form?.setFieldsValue(initialValues)\n    }\n\n  }\n\n  componentWillReceiveProps(nexProps) {\n    let { initialValues } = nexProps;\n    if (!this.props.form && this.formRef && this.formRef.current) {\n      this.formRef.current?.setFieldsValue(initialValues);\n    }\n  }\n\n  render() {\n    const { formLayout } = this.state;\n    let {\n      footer,\n      title,\n      titleStyle,\n      className,\n      style,\n      autoSubmit = true,\n      textAcceptButton = \"SAVE\",\n      initialValues,\n      actions,\n      form,\n      noAcceptButtonBlock = false,\n    } = this.props;\n\n    // if (!this.props.form && this.formRef.current){\n    //   this.formRef.current?.setFieldsValue(initialValues);\n    // }\n\n    if (this.props.form) {\n      return (\n        <Form\n          form={this.props.form}\n          scrollToFirstError\n          name=\"search_form\"\n          className={className}\n          layout={formLayout}\n          onFinish={this.handleSubmit}\n          style={style || { margin: 20 }}\n          // initialValues={initialValues}\n          onFieldsChange={(field,allFields,)=>{\n            if(this.props.onFieldsChange){\n              this.props.onFieldsChange(field,allFields);\n            }\n          }}\n        >\n          {title && <HeadTitle className=\"head-title\">{title}</HeadTitle>}\n          <Row className=\"form-fields\" gutter={24}>\n            {this.getFields()}\n          </Row>\n          <Row justify=\"center\">\n            <Button\n              type=\"primary\"\n              disabled={this.props.disabled}\n              loading={this.props.submitting}\n              size=\"large\"\n              block={noAcceptButtonBlock ? false : true}\n              htmlType=\"submit\"\n              style={{ borderRadius: \"0.5rem\", marginBottom: '1rem' }}\n            >\n              {textAcceptButton}\n            </Button>\n\n          </Row>\n          {actions && (\n            <Tools\n              style={{\n                margin: \"10px 4px\"\n              }}\n            >\n              {actions &&\n                actions.props &&\n                React.Children.map(actions.props.children, (child, index) => {\n                  let { onClick } = child.props;\n                  return React.cloneElement(child, {\n                    onClick: e => {\n                      if (onClick) onClick(e, form);\n                    }\n                  });\n                })}\n            </Tools>\n          )}\n        </Form>\n      )\n    }\n    else {\n      return (\n        <Form\n          ref={this.formRef}\n          scrollToFirstError\n          name=\"search_form\"\n          className={className}\n          layout={formLayout}\n          onFinish={this.handleSubmit}\n          style={style || { margin: 20 }}\n          // initialValues={initialValues}\n        >\n          {title && <HeadTitle className=\"head-title\">{title}</HeadTitle>}\n          <Row className=\"form-fields\" gutter={24}>\n            {this.getFields()}\n          </Row>\n          <Row justify=\"center\">\n            <Button\n              type=\"primary\"\n              disabled={this.props.disabled}\n              loading={this.props.submitting}\n              size=\"large\"\n              block={noAcceptButtonBlock ? false : true}\n              htmlType=\"submit\"\n              style={{ borderRadius: \"0.5rem\", marginBottom: '1rem' }}\n            >\n              {textAcceptButton}\n            </Button>\n\n          </Row>\n          {actions && (\n            <Tools\n              style={{\n                margin: \"10px 4px\"\n              }}\n            >\n              {actions &&\n                actions.props &&\n                React.Children.map(actions.props.children, (child, index) => {\n                  let { onClick } = child.props;\n                  return React.cloneElement(child, {\n                    onClick: e => {\n                      if (onClick) onClick(e, form);\n                    }\n                  });\n                })}\n            </Tools>\n          )}\n        </Form>\n      );\n    }\n\n  }\n}\n\nexport default AdvancedForm;","import React, { Component } from \"react\";\n// import { notification , message, Icon } from 'antd';\nimport S3Uploader from \"react-s3-uploader\";\nimport ImageField from \"../ImageField\";\nimport { URL_S3, URL_S3_SERVER } from \"../../../constants\";\nimport styled from \"styled-components\";\nimport { Icon, Progress, message, Avatar } from \"antd\";\nimport uuid from \"react-uuid\";\nimport { getService } from \"../../../services\";\nimport _ from \"lodash\";\n\nconst Wrapper = styled.label`\n  cursor: ${({ disabled }) => (!disabled ? \"pointer\" : \"normal\")};\n\n  /* height: 40px !important; */\n  max-width: 250px;\n  min-height: 32px;\n  width: auto;\n\n  background: var(--primary);\n  display: block;\n  text-align: center;\n  margin: 0px auto;\n  border-radius: 30px;\n  padding: 5px 10px;\n  color: #fff !important;\n  font-size: 14px;\n\n  & .ant-progress-outer {\n    margin: 10px 0px 0px 0px;\n  }\n  & .s3Button {\n    display: none !important;\n  }\n  & label {\n    color: #fff !important;\n  }\n`;\n\nconst Container = styled.div`\n  /* background: linear-gradient(45deg, #fe6b8b 30%, #ff8e53 90%); */\n  /*  padding: 10px 0px !important;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px !important; */\n  width: 100%;\n\n  & .s3Button {\n    display: none !important;\n  }\n  & .anticon {\n    vertical-align: middle !important;\n  }\n  & label {\n    display: flex !important;\n    justify-content: center !important;\n    align-items: center !important;\n  }\n  & .upload-label i {\n    margin: 0px 4px !important;\n  }\n`;\nclass FileUploader extends Component {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(props) {\n    super(props);\n  }\n  state = {\n    progress: 0,\n    file: {},\n    record: null,\n    image: null,\n    idComponent: uuid(),\n    onChange: null,\n  };\n\n  componentWillReceiveProps({ record, source, value, ...props }) {\n    if (!this.state.image && record && record[source]?.path)\n      this.setState({\n        record,\n        image: record[source].path,\n      });\n  }\n  componentDidMount() {\n    let { record, source, match, value } = this.props;\n\n    this.setState({\n      image: record ? record[source] : null,\n      id: this.props.id || uuid(),\n    });\n    // alert(\"hello\")\n  }\n  onUploadStart = (file, next) => {\n    const blob = file.slice(0, file.size, file.type);\n    const newFile = new File(\n      [blob],\n      `${new Date().valueOf()}.${_.last(_.split(file.name, \".\"))}`,\n      { type: file.type }\n    );\n\n    let { name, allowTypes, allowAll = false } = this.props;\n    allowTypes = allowTypes || [\n      \"image/jpg\",\n      \"image/png\",\n      \"image/jpeg\",\n      \"image/svg\",\n    ];\n    if (allowTypes.indexOf(newFile.type) === -1 && !allowAll) {\n      message.error(\"File type is not allowed!\");\n      return;\n    }\n    this.setState({ name_file: name || newFile.name, file: newFile });\n    next(newFile);\n  };\n\n  onSignedUrl = (...props) => {};\n\n  onUploadProgress = (progress, ...props) => {\n    this.setState({ progress });\n  };\n\n  onUploadError = (error) => {\n    message.error(\"No se pudo cargar el archivo! \", error.message);\n  };\n\n  update = (id, file) => {\n    let { reference, record, source, onChange } = this.props;\n    if (reference && record) {\n      const service = getService(reference);\n      service\n        .patch(record.id, {\n          [source]: file,\n        })\n        .then((res) => {\n          if (onChange) onChange(source, file);\n        })\n        .catch((err) => {\n          message.error(err.message);\n        });\n    }\n  };\n\n  onUploadFinish = async (doc) => {\n    let { onChange, id, name, reference, onFinish } = this.props;\n    let image = doc.fileKey;\n    let { file } = this.state;\n    this.setState({\n      image,\n    });\n    if (reference) {\n      message.success(\"Foto subida con éxito!\");\n      this.update(id, doc.fileKey);\n    }\n    if (onChange)\n      onChange(\n        {\n          ...file,\n          name: name || file.name,\n          path: doc.fileKey,\n        },\n        doc.fileKey,\n        id\n      );\n    if (onFinish) onFinish(image, file);\n  };\n\n  render() {\n    let { file = {}, match, label, source, preview = true } = this.props;\n    const { progress, id, record, image } = this.state;\n    if (file.name) return <div className=\"s3Button mr-2\">{file.name}</div>;\n    return (\n      <Container className=\"mr-2\">\n        {image && preview && (\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n            }}\n          >\n            <Avatar\n              shape=\"circle\"\n              size={200}\n              src={`${URL_S3}${image}`}\n              alt=\"main-image\"\n            />\n          </div>\n        )}\n        <div className=\"content\">\n          {\n            <Wrapper\n              htmlFor={this.state.idComponent}\n              size=\"large\"\n              className=\"wrapper file-upload\"\n              variant=\"outlined\"\n              type=\"primary\"\n              disabled={this.props.disabled}\n              style={{ borderRadius: \"0.5rem\" }}\n            >\n              {progress > 0 && progress < 100 ? (\n                <Progress percent={progress} />\n              ) : (\n                <>\n                  {this.props.children ? (\n                    this.props.children\n                  ) : (\n                    <div className=\"upload-label\">\n                      {/* <Icon type=\"upload\" />{\" \"} */}\n                      <span>\n                        {(this.props.title && this.props.title) ||\n                          \"Subir Imagen\"}\n                      </span>\n                    </div>\n                  )}\n                </>\n              )}\n            </Wrapper>\n          }\n        </div>\n        <label className=\"s3Button\">\n          <S3Uploader\n            id={this.state.idComponent}\n            signingUrl=\"/s3Client/sign\"\n            signingUrlMethod=\"GET\"\n            accept=\"*/*\"\n            s3path={this.props.path}\n            preprocess={this.onUploadStart}\n            onSignedUrl={this.onSignedUrl}\n            onProgress={this.onUploadProgress}\n            onError={this.onUploadError}\n            onFinish={this.onUploadFinish}\n            disabled={this.props.disabled}\n            signingUrlWithCredentials={true} // in case when need to pass authentication credentials via CORS\n            uploadRequestHeaders={{ \"x-amz-acl\": \"public-read\" }} // this is the default\n            contentDisposition=\"auto\"\n            scrubFilename={(filename) => filename.replace(/[^\\w\\d_\\-.]+/gi, \"\")}\n            server={URL_S3_SERVER}\n            // inputRef={cmp => this.uploadInput = cmp}\n            autoUpload={true}\n            className=\"s3-uploader\"\n            style={{ visibility: \"hidden\" }}\n          />\n        </label>\n      </Container>\n    );\n  }\n}\n\nexport default FileUploader;\n","import React, { useEffect, useState } from \"react\";\nimport { SketchPicker, CirclePicker } from \"react-color\";\nimport { Popover, Avatar, Button } from \"antd\";\nimport { WrappercolorFields } from \"./Styles\";\nimport reactCSS from \"reactcss\";\nimport _ from \"lodash\";\n\nconst formatRgbString = (color) => {\n  const { r, g, b, a } =\n    typeof color === \"string\" ? { r: 0, g: 0, b: 0, a: 100 } : color;\n  return `rgb(${r},${g},${b},${a})`;\n};\n\nfunction obtenerComponentesRGBA(colorRGB) {\n    // Se elimina el formato \"rgb(\" y \")\" del string\n    colorRGB = colorRGB.substring(4, colorRGB.length - 1);\n\n    // Se separan los valores de las componentes por las comas\n    const componentes = colorRGB.split(\",\");\n\n    // Se obtienen los valores de r, g y b\n    const r = parseInt(componentes[0]);\n    const g = parseInt(componentes[1]);\n    const b = parseInt(componentes[2]);\n\n    // Se establece la opacidad predeterminada (alpha) como 1 si no está presente\n    let a = 1;\n    if (componentes.length === 4) {\n        // Si hay un cuarto valor, se trata como el valor alpha\n        a = parseFloat(componentes[3]);\n    }\n\n    // Se retorna un objeto con las componentes RGB y A\n    return { r, g, b, a };\n}\n\nconst ColorField = ({\n  onChange,\n  render,\n  record,\n  name,\n  source,\n  children,\n  presetColors,\n  ...props\n}) => {\n  const [background, setBackground] = useState();\n  const [state, setState] = useState({\n    color: props.initial || \"#6B24F8\",\n    displayColorPicker: false,\n  });\n  const handleChange = (color) => {\n    setState({ ...state, color: formatRgbString(color.rgb) });\n    _handleOnChange(formatRgbString(color.rgb));\n  };\n  const handleChangeComplete = (color) => {\n    setState({ ...state, color: formatRgbString(color.rgb) });\n  };\n  const handleOnChange = (color) => {\n    if (onChange) onChange(color);\n  };\n  const _handleOnChange = _.debounce(handleOnChange, 1000, { maxWait: 1000 });\n\n  const handleClick = () => {\n\n    setState({ ...state, displayColorPicker: !state.displayColorPicker });\n  };\n\n  const handleClose = () => {\n    setState({ ...state, displayColorPicker: false });\n  };\n  useEffect(() => {\n    if (record && record[source || name])\n      setState({\n        ...state,\n        color: record[name || source],\n      });\n  }, [record]);\n\n  return (\n    <WrappercolorFields color={state.color}>\n      <Popover\n        content={\n          <div>\n            <SketchPicker\n              color={`${state.color}`.includes('#') ? state.color : obtenerComponentesRGBA(state.color) }\n              onChange={handleChange}\n              onChangeComplete={handleChangeComplete}\n                name={source || name}\n                presetColors={presetColors}\n            />\n          </div>\n        }\n        style={{ width: \"50px\" }}\n      >\n        <div className=\"swatch\" onClick={handleClick} style={{ width: \"50px\" }}>\n          <div className=\"color\" style={{ width: \"50px\", height: \"50px\" }} />\n        </div>\n      </Popover>\n    </WrappercolorFields>\n  );\n};\nexport default ColorField;\n","import React from 'react';\nimport SunEditor from 'suneditor-react';\nimport 'suneditor/dist/css/suneditor.min.css';\nimport CodeMirror from 'codemirror';\nimport 'codemirror/mode/htmlmixed/htmlmixed';\nimport 'codemirror/lib/codemirror.css';\n\nconst RichTextField = (props) => {\n    return (\n        <SunEditor\n            height=\"200px\"\n            setOptions={{\n                codeMirror: CodeMirror\n            }}\n            {...props}\n        />\n    );\n}\n\nexport default RichTextField;","import React from \"react\";\n\nconst Orders = React.lazy(() => import(\"./views/orders/Orders\"));\nconst MenuCategories = React.lazy(() => import(\"./views/menu-categories/MenuCategories\"));\nconst ReservationsHistory = React.lazy(() => import(\"./views/reservationsHistory\"));\nconst EstablishmentRatings = React.lazy(() => import(\"./views/establishmentRatings\"));\nconst DiscountSpecifics = React.lazy(() => import(\"./views/discounts/specific\"));\nconst DiscountTemplates = React.lazy(() => import(\"./views/discounts/templates\"));\nconst DiscountDeals = React.lazy(() => import(\"./views/discounts/deals\"));\nconst Billing = React.lazy(() => import(\"./views/billing\"));\nconst InvoicesDetails = React.lazy(() => import(\"./views/billing/view/old-invoices/invoiceDetails\"));\nconst Transfer = React.lazy(() => import(\"./views/Transfer\"));\nconst AppartaPayHistory = React.lazy(()=> import(\"./views/payAccountHistory\"));\n\nconst Users = React.lazy(() => import(\"./views/users/Users\"));\nconst UserForm = React.lazy(() => import(\"./components/users/UserForm\"));\nconst Configurations = React.lazy(() => import(\"./views/configurations/Configurations\"));\nconst ConfigurationsForm = React.lazy(() => import(\"./views/configurations/ConfigurationsForm\"));\n\nconst EstablishmentsPosition = React.lazy(() => import(\"./views/establishments-position\"));\nconst Banners = React.lazy(() => import(\"./views/banners\"));\nconst Groups = React.lazy(() => import(\"./views/groups\"));\nconst Campaigns = React.lazy(() => import(\"./views/campaigns\"));\nconst AppartaPayCoupons = React.lazy(() => import(\"./views/appartaPayCoupons\"));\nconst Zones = React.lazy(() => import(\"./views/zones\"));\nconst ReportZones = React.lazy(() => import(\"./views/reports-zones\"));\nconst Cms = React.lazy(() => import(\"./views/cms\"));\nconst Establishments = React.lazy(() => import(\"./views/establishments\"));\nconst EstablishmentDetails = React.lazy(() => import(\"./views/establishments/EstablishmentDetails\"));\nconst Places = React.lazy(() => import(\"./views/places\"));\nconst Categories = React.lazy(() => import(\"./views/categories\"));\nconst Reservations = React.lazy(() => import(\"./views/reservations\"));\nconst Coupons = React.lazy(() => import(\"./views/coupons\"));\nconst ReservationsOnDemand = React.lazy(() => import(\"./views/reservationsOnDemand\"));\nconst PayAccounts = React.lazy(() => import(\"./views/payAccounts\"));\nconst PaymentsDetails = React.lazy(() => import(\"./views/payAccounts/paymentsDetails\"));\nconst GlobalTemplate = React.lazy(() => import(\"./views/globalTemplates\"));\nconst TemplateDetails = React.lazy(() => import(\"./views/globalTemplates/TemplateDetails\"));\nconst Fidelizations = React.lazy(() => import(\"./views/fidelizations\"));\nconst UserRating = React.lazy(() => import(\"./views/users-ratings\"));\nconst MenuBanners = React.lazy(() => import(\"./views/menu-banners\"));\nconst MenuGroupProfile = React.lazy(() => import(\"./views/menu-banners/GroupProfileDetails\"));\n\nconst PayBenefitDetails = React.lazy(() => import(\"./views/payAccounts/payBenefitDetails\"))\n\nconst Tickets = React.lazy(() => import(\"./views/tickets\"));\nconst TicketsForm = React.lazy(() => import(\"./views/tickets/TicketsForm\"));\n\nconst OnBoarding = React.lazy(() => import(\"./views/OnBoarding\"));\nconst OnBoardingScreens = React.lazy(() => import(\"./views/OnBoarding/OnBoardingScreens\"));\n\nconst Security = React.lazy(() => import(\"./views/security\"));\n\nconst AdminInvoices = React.lazy(() => import(\"./views/adminInvoices\"));\n\nconst Blogs = React.lazy(() => import(\"./views/blogs/Blogs\"));\nconst BlogsForm = React.lazy(() => import(\"./views/blogs/BlogsForm\"));\nconst PopUp = React.lazy(() => import(\"./views/pop-up\"));\nconst EstablishmentsPositionTmp =React.lazy(() => import(\"./views/establishments-position-tmp\"));\n\nconst routes = [\n  {\n    path: \"/dashboard/management/users\",\n    name: \"users\",\n    permissions: [\"admin\"],\n    component: Users,\n    edit: {\n      path: \"/dashboard/management/users/:id\",\n      name: \"users\",\n      component: UserForm,\n    },\n    create: {\n      path: \"/dashboard/management/users/create\",\n      name: \"users\",\n      component: UserForm,\n    },\n  },\n  {\n    path: \"/dashboard/management/configurations\",\n    name: \"Configurations\",\n    permissions: [\"admin\"],\n    component: Configurations,\n    edit: {\n      path: \"/dashboard/management/configurations/:id\",\n      name: \"configurations\",\n      component: ConfigurationsForm,\n    },\n    create: {\n      path: \"/dashboard/management/configurations/create\",\n      name: \"configurations\",\n      component: ConfigurationsForm,\n    },\n  },\n  {\n    path: \"/dashboard/management/blogs\",\n    name: \"blogs\",\n    permissions: [\"admin\"],\n    component: Blogs,\n    edit: {\n      path: \"/dashboard/management/blogs/:id\",\n      name: \"blogs\",\n      component: BlogsForm,\n    },\n    create: {\n      path: \"/dashboard/management/blogs/create\",\n      name: \"blogs\",\n      component: BlogsForm,\n    },\n  },\n  {\n    path: \"/dashboard/management/support-tickets\",\n    name: \"support-tickets\",\n    permissions: [\"admin\"],\n    component: Tickets,\n    create: {\n      path: \"/dashboard/management/support-tickets/create\",\n      name: \"tickets\",\n      component: TicketsForm,\n    },\n  },\n  {\n    path: \"/dashboard/management/pay-accounts\",\n    name: \"pay-accounts\",\n    permissions: [\"admin\"],\n    component: PayAccounts,\n  },\n  {\n    path: \"/dashboard/management/pay-accounts/details\",\n    name: \"payments-details\",\n    permissions: [\"admin\"],\n    component: PaymentsDetails,\n  },\n  {\n    path: \"/dashboard/management/pay-accounts/benefit\",\n    name: \"pay-benefit\",\n    permissions: [\"admin\"],\n    component: PayBenefitDetails,\n  },\n  {\n    path: \"/dashboard/management/reservations-on-demand\",\n    name: \"reservations-on-demand\",\n    permissions: [\"admin\"],\n    component: ReservationsOnDemand,\n  },\n  {\n    path: \"/dashboard/management/banners\",\n    name: \"banners\",\n    permissions: [\"admin\"],\n    component: Banners,\n  },\n  {\n    path: \"/dashboard/management/menu-banners\",\n    name: \"menu-banners\",\n    permissions: [\"admin\"],\n    component: MenuBanners,\n  },\n  {\n    path: \"/dashboard/management/menu-banners/profile-group-details\",\n    name: \"menu-groups-profile\",\n    permissions: [\"admin\"],\n    component: MenuGroupProfile,\n  },\n  {\n    path: \"/dashboard/management/campaigns\",\n    name: \"campaigns\",\n    permissions: [\"admin\"],\n    component: Campaigns,\n  },\n  {\n    path: \"/dashboard/management/establishments-position\",\n    name: \"establishments-position\",\n    permissions: [\"admin\"],\n    component: EstablishmentsPosition,\n  },\n  {\n    path: \"/dashboard/management/establishments-position-tmp\",\n    name: \"establishments-position-tmp\",\n    permissions: [\"admin\"],\n    component: EstablishmentsPositionTmp,\n  },\n  \n  {\n    path: \"/dashboard/management/appartapay-coupons\",\n    name: \"appartapay-coupons\",\n    permissions: [\"admin\"],\n    component: AppartaPayCoupons,\n  },\n  {\n    path: \"/dashboard/management/zones\",\n    name: \"zones\",\n    permissions: [\"admin\"],\n    component: Zones,\n  },\n  {\n    path: \"/dashboard/management/reports-zones\",\n    name: \"reports-zones\",\n    permissions: [\"admin\"],\n    component: ReportZones,\n  },\n  {\n    path: \"/dashboard/management/cms\",\n    name: \"cms\",\n    permissions: [\"admin\"],\n    component: Cms,\n  },\n  {\n    path: \"/dashboard/management/security\",\n    name: \"security\",\n    permissions: [\"admin\"],\n    component: Security,\n  },\n  {\n    path: \"/dashboard/management/places\",\n    name: \"places\",\n    permissions: [\"admin\"],\n    component: Places,\n  },\n  {\n    path: \"/dashboard/management/on-boarding\",\n    name: \"OnBoarding\",\n    permissions: [\"admin\"],\n    component: OnBoarding,\n  },\n  {\n    path: \"/dashboard/management/on-boarding/screens\",\n    name: \"OnBoardingScreens\",\n    permissions: [\"admin\"],\n    component: OnBoardingScreens,\n  },\n  {\n    path: \"/dashboard/management/categories\",\n    name: \"categories\",\n    permissions: [\"admin\"],\n    component: Categories,\n  },\n  {\n    path: \"/dashboard/management/global-templates\",\n    name: \"global-templates\",\n    permissions: [\"admin\"],\n    component: GlobalTemplate,\n  },\n  {\n    path: \"/dashboard/management/global-templates/details\",\n    name: \"global-templates-details\",\n    permissions: [\"admin\"],\n    component: TemplateDetails,\n  },\n  {\n    path: \"/dashboard/management/establishments\",\n    name: \"establishments\",\n    permissions: [\"admin\"],\n    component: Establishments,\n  },\n  {\n    path: \"/dashboard/management/establishments/:establishmentId\",\n    name: \"establishments\",\n    permissions: [\"admin\"],\n    component: EstablishmentDetails,\n  },\n  {\n    path: \"/dashboard/management/reservations\",\n    name: \"reservations\",\n    permissions: [\"admin\"],\n    component: Reservations,\n  },\n  {\n    path: \"/dashboard/management/coupons\",\n    name: \"coupons\",\n    permissions: [\"admin\"],\n    component: Coupons,\n  },\n  {\n    path: \"/dashboard/management/invoices\",\n    name: \"invoices\",\n    permissions: [\"admin\"],\n    component: AdminInvoices,\n  },\n  {\n    path: \"/dashboard/management/fidelizations\",\n    name: \"fidelizations\",\n    permissions: [\"admin\"],\n    component: Fidelizations,\n  },\n  {\n    path: \"/dashboard/management/users-ratings\",\n    name: \"users-ratings\",\n    permissions: [\"admin\"],\n    component: UserRating,\n  },\n  {\n    path: \"/\",\n    name: \"orders\",\n    permissions: [\"admin\", \"user\"],\n    component: Orders,\n  },\n  {\n    path: \"/dashboard/establishment/menu\",\n    name: \"menu-categories\",\n    permissions: [\"admin\", \"user\"],\n    component: MenuCategories,\n  },\n  {\n    path: \"/dashboard/reservations/history\",\n    name: \"reservations-history\",\n    permissions: [\"admin\", \"user\"],\n    component: ReservationsHistory,\n  },\n  {\n    path: \"/dashboard/establishment/ratings\",\n    name: \"reservations-history\",\n    permissions: [\"admin\", \"user\"],\n    component: EstablishmentRatings,\n  },\n  {\n    path: \"/dashboard/establishment/discounts/specific\",\n    name: \"discounts-specific\",\n    permissions: [\"admin\", \"user\"],\n    component: DiscountSpecifics,\n  },\n  {\n    path: \"/dashboard/establishment/discounts/templates\",\n    name: \"discounts-templates\",\n    permissions: [\"admin\", \"user\"],\n    component: DiscountTemplates,\n  },\n  {\n    path: \"/dashboard/establishment/discounts/deals\",\n    name: \"discounts-templates\",\n    permissions: [\"admin\", \"user\"],\n    component: DiscountDeals,\n  },\n  {\n    path: \"/dashboard/establishment/billing\",\n    name: \"billing\",\n    permissions: [\"admin\", \"user\"],\n    component: Billing,\n  },\n  {\n    path: \"/dashboard/establishment/billing/invoice/detail/:id\",\n    name: \"invoices-details\",\n    permissions: [\"admin\", \"user\"],\n    component: InvoicesDetails,\n  },\n  {\n    path: \"/dashboard/establishment/transfer\",\n    name: \"transfer\",\n    permissions: [\"admin\", \"user\"],\n    component: Transfer,\n  },\n  {\n    path: \"/dashboard/establishment/apparta-pay-history\",\n    name: \"appartaPayHistory\",\n    permissions: [\"admin\", \"user\"],\n    component: AppartaPayHistory,\n  },\n  {\n    path: \"/dashboard/management/groups\",\n    name: \"banners\",\n    permissions: [\"admin\"],\n    component: Groups,\n  },\n  {\n    path: \"/dashboard/management/pop-up\",\n    name: \"pop-up\",\n    permissions: [\"admin\"],\n    component: PopUp,\n  },\n];\nexport default routes;\n","import React from \"react\";\nimport { Layout } from \"antd\";\nimport styled from \"styled-components\";\nconst { Sider } = Layout;\n\nexport const WrapperPanelLayout = styled.div`\n  & .ant-layout{\n    background: #fff!important;\n  }\n  & > .ant-layout{\n    border-radius: 8px!important;\n    box-shadow: 2px 2px 2px #ccc!important;\n    padding:0px 10px;\n  }\n`;\nexport const Wrapperlayout = styled(Layout)`\n  & footer {\n    background: ${props =>\n    props.background ? props.background : \"#f3f3f3\"}!important;\n    color: ${props =>\n    props.background ? props.color || \"#d9d9d94f\" : \"#292b2c\"}!important;\n  }\n`;\nexport const LogoContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  overflow-x: hidden !important;\n\n  padding: 20px 5px 20px 5px;\n  height: 64px;\n\n  & .trigger {\n    font-size: 20px !important;\n    height: 32px !important;\n    width: 32px !important;\n  }\n  & .trigger:hover {\n    background: ${props =>\n    props.background || \"var(--color-primary)\"}!important;\n  }\n  & .trigger i {\n    vertical-align: text-top;\n  }\n`;\nexport const Copy = styled.p`\n  text-align: center;\n`;\nexport const SideBar = styled.div`\n  /* max-width: 350px; */\n  background: white!important;\n  overflow-x: hidden !important;\n  height: 100%;\n`;\nexport const SiderContainer = styled(Sider)`\n  \n  &.ant-layout-sider {\n    background:  ${props => props.position === 'right' ? 'transparent' : '#fff'};\n    position: absolute;\n    height: 93vh;\n    z-index:101;\n    right: ${props => props.position === 'right' ? 0 : 'auto'};\n    width: 350px;\n    box-shadow: ${props => props.position === 'right' ? 0 : '0 2px 10px -1px rgba(69, 90, 100, 0.3)'};\n    overflow:auto !important;\n  }\n\n`;\nexport const HeaderContainer = styled.div`\n  & h2 {\n    color: #fff;\n    margin-bottom: 0px;\n  }\n`;\n","import { message, Progress, Tooltip } from 'antd';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { getService } from '../../services';\n\nconst MinuteProgress = ({\n    myInterval,\n    fullWidth,\n    record,\n    onFinish,\n    ...props\n}) => {\n\n    const interval = 1000;\n    const { createdAt, current_server_hour } = record;\n    const eventTime = moment(createdAt).toDate().getTime();\n    const currentTime = moment(current_server_hour).toDate().getTime();\n\n    let duration = moment.duration(\n        moment(currentTime) - moment(eventTime),\n        \"milliseconds\"\n    );\n\n    const [totalTime, setTotalTime] = useState(0);\n    const [leftTime, setLeftTime] = useState();\n    const [successPercent, setSuccessPercent] = useState();\n\n    const [minsToAutoApproveReservation, setMinsToAutoApproveReservation] = useState();\n\n    const startTimer = (value) => {\n        let total = 1000 * 60 * value;\n        let time = duration.asMilliseconds();\n\n        setTotalTime(total);\n        if (time >= 0 && time <= total) {\n            duration = moment.duration(moment(total) - time, \"milliseconds\");\n            time = duration.asMilliseconds();\n            let percent = (time / total) * 100;\n\n            setSuccessPercent(percent);\n            myInterval = setInterval(function () {\n                if (duration.asSeconds() <= 0) {\n                    if (onFinish)\n                        onFinish();\n                    setSuccessPercent(0);\n                    clearInterval(myInterval);\n                }\n                duration = duration.subtract(1, \"seconds\");\n                time = duration.asMilliseconds();\n                percent = (time / total) * 100;\n                setSuccessPercent(percent);\n                setLeftTime(duration);\n            }, interval);\n        } else {\n            if (onFinish)\n                onFinish();\n            setSuccessPercent(0);\n        }\n    };\n\n    const getConfiguration = (id = 9) => {\n        const service = getService(\"configurations\");\n        service\n            .get(id)\n            .then(({ value }) => {\n                startTimer(value);\n                setMinsToAutoApproveReservation(Number(value));\n            })\n            .catch((err) => message.error(err.message));\n    };\n\n    useEffect(() => {\n        getConfiguration();\n    }, []);\n\n    useEffect(() => {\n        return () => {\n            if (myInterval) {\n                clearInterval(myInterval);\n            }\n        };\n    }, []);\n\n    useEffect(() => {\n        if (successPercent <= 0) {\n        }\n    }, [successPercent]);\n\n    return (\n        <>\n            {successPercent > 0 && (\n                <Tooltip\n                    title={\n                        leftTime &&\n                        `\n                  Restan ${leftTime && leftTime.minutes() > 0\n                            ? leftTime.minutes() + \" min\"\n                            : \"\"\n                        } \n                       ${leftTime && leftTime.seconds() + \"s\"}\n                  de ${totalTime && moment.duration(totalTime).humanize()}\n              `\n                    }\n                    placement=\"leftTop\"\n                >\n                    <Progress\n                        size=\"small\"\n                        type=\"circle\"\n                        strokeWidth={10}\n                        percent={successPercent}\n                        showInfo\n                        strokeColor={{\n                            \"0%\": \"#F98F66\",\n                            \"100%\": \"#F98F66\",\n                        }}\n                        format={(percent, success) => (\n                            <span>\n                                {leftTime && (\n                                    <>\n                                        {leftTime.minutes() > 0 && (\n                                            <span>\n                                                {leftTime.minutes()}\n                                                <br />\n                                                Min\n                                            </span>\n                                        )}\n                                        {leftTime.minutes() === 0 && leftTime.seconds() > 0 && (\n                                            <span>\n                                                {leftTime.seconds()}\n                                                <br />\n                                                Seg\n                                            </span>\n                                        )}\n                                    </>\n                                )}\n                            </span>\n                        )}\n                        status={successPercent > 0 ? \"active\" : \"exception\"}\n                        style={{ stroke: 'transparent' }}\n                        {...props}\n                    />\n                </Tooltip>\n            )}\n        </>\n    );\n};\n\nexport default MinuteProgress;","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { URL_S3 } from \"../../constants\";\nconst Container = styled.div`\n  /* background: linear-gradient(45deg, #fe6b8b 30%, #ff8e53 90%); */\n  border: 0;\n  border-radius: 8px !important;\n  minwidth: 250px !important;\n  width:calc(100% - 30px)!importantheight: auto !important;\n  overflow: hidden;\n  padding: 0px !important;\n  margin: 10px !important;\n\n  box-shadow: 0 3px 5px 2px rgba(220, 220, 220, 0.3);\n  & .image-bg {\n    width: 100%;\n    height: 200px !important;\n    /* background-size: cover !important; */\n    background-repeat: no-repeat !important;\n    background-position: center center !important;\n  }\n`;\n\nexport default class ImageField extends Component {\n  constructor(props) {\n    super(props);\n  }\n  state = {\n    image: null\n  };\n  componentDidMount() {\n    //alert(JSON.stringify(this.props));\n  }\n  componentWillMount() {\n    let { value, record, source } = this.props;\n\n    this.setState({\n      image: value || record ? record[source] : null\n    });\n  }\n  componentWillReceiveProps(nextProps) {\n    let { source, record = {}, value } = nextProps;\n    let { image } = this.state;\n    if (value !== image) {\n      this.setState({\n        image: value || record[source]\n      });\n    }\n  }\n  render() {\n    let { image } = this.state;\n    return (\n      <>\n        {image && (\n          <Container className=\"image-container\">\n            <div\n              className=\"image-bg\"\n              style={{\n                background: `url(https://appartaapp.s3.amazonaws.com/users/1/avatarplaceholder.png)`,\n                backgroundSize: \"contain\"\n              }}\n            />\n          </Container>\n        )}\n      </>\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Upload, message, Icon, Spin, Button, Row, Col } from \"antd\";\nimport S3 from \"aws-s3\";\nimport {\n  URL_S3,\n  ACCESS_KEY_ID,\n  SECRET_ACCESS_KEY,\n  BUCKET\n} from \"../../constants\";\nimport _ from \"lodash\";\nimport { MyModal } from \"./MyModal\";\n\nimport { AiOutlineInbox } from \"react-icons/ai\";\nimport { onUploadFileVersionHurgot } from \"../../utils/FileUploader.js\";\n\nconst defaultFormats = [\"image/jpeg\", \"image/jpg\", \"image/png\"];\nconst { Dragger } = Upload;\n\nconst DragAndDropUploader = ({\n  path,\n  dragger = true,\n  multiple = true,\n  autoIncrement = true,\n  showUploadList = true,\n  showRemoveIcon,\n  name,\n  formats = defaultFormats,\n  maxFiles,\n  onChange,\n  onDelete,\n  onFinish,\n  ...props\n}) => {\n\n\n  const [previewVisible, setPreviewVisible] = useState();\n  const [previewImage, setPreviewImage] = useState();\n  const [currentfile, setCurrentFile] = useState({});\n  const [fileList, setFileList] = useState([]);\n  const [progress, setProgress] = useState(0);\n\n\n  const getBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  };\n\n  const getMax = (arr = []) => {\n    return _.maxBy(arr, it => {\n      return it.index;\n    });\n  };\n\n  const getMaxIndex = (arr = []) => {\n    if (!autoIncrement) {\n      return props.fileList.length;\n    }\n    if (arr.length === 0) return -1;\n    const max = getMax(arr);\n    return max.index;\n  };\n\n  function onProgress(value) {\n    setProgress(value);\n  }\n\n  const uploadFile = async (unExtractFiles) => {\n    const files = _.map(unExtractFiles, ({originFileObj})=> originFileObj);\n    setProgress(0);\n    await onUploadFileVersionHurgot(\n      files,\n      _.merge(\n        {},\n        props.fileName ? { name: props.fileName } : {},\n        props.filePath ? { path: props.filePath } : {},\n        props.fileMatch ? { validate: { match: props.fileMatch } } : {},\n        props.fileMaxSize\n          ? { validate: { maxSize: props.fileMaxSize } }\n          : {},\n        { onProgress: onProgress }\n      )\n    ).subscribe({\n      next: async (files) => {\n        if (onFinish) {\n          await onFinish(files);\n        }\n        setProgress(0);\n        setFileList([]);\n      },\n      error: (error) => {\n        setProgress(0);\n        message.error(error?.message || 'Upps! intenta nuevamente');\n      },\n    })\n  };\n\n  const beforeUpload = file => {\n    return false;\n  };\n\n  const handleRemove = file => {\n    const tempFileList = _.filter(fileList, ({ uid }) => uid !== file?.uid);\n    console.log(tempFileList)\n    // setFileList(tempFileList);\n  };\n\n  const handleChange = info => {\n    const { file, fileList: newFileList, event } = info;\n    const tempFileList = [...newFileList];\n    const sliceFileList = (maxFiles && tempFileList?.length) > maxFiles ? _.slice(tempFileList, 0, maxFiles) : tempFileList;\n    setFileList(sliceFileList || []);\n  };\n\n  const handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n    setPreviewVisible(true);\n    setCurrentFile(file);\n    setPreviewImage(file.url || file.preview);\n  };\n\n  return (\n    <div style={{ width: '100%' }}>\n      {dragger ? (\n        <Spin spinning={progress !== 0}>\n          <Dragger\n            fileList={fileList}\n            listType=\"picture-card\"\n            showRemoveIcon={showRemoveIcon || false}\n            showUploadList={showUploadList}\n            multiple={multiple}\n            beforeUpload={beforeUpload}\n            onRemove={handleRemove}\n            onPreview={handlePreview}\n            onChange={handleChange}\n            loadin\n            disabled={progress !== 0}\n            style={{ width: '100%' }}\n          >\n            <div style={{ width: '100%', padding: '0 12rem' }}>\n              <p className=\"ant-upload-drag-icon\">\n                <AiOutlineInbox />\n              </p>\n              <p className=\"ant-upload-text\">\n                Cargar imagen\n              </p>\n              <p className=\"ant-upload-hint\">\n                Formatos Permitidos:{\" \"}\n                {formats.toString().replace(/(image\\/)/g, \"\")}\n              </p>\n            </div>\n          </Dragger>\n        </Spin>\n      ) : (\n        <Upload\n          fileList={fileList}\n          showUploadList={false}\n          showRemoveIcon={showRemoveIcon || false}\n          name=\"avatar\"\n          listType=\"picture-card\"\n          className=\"avatar-uploader\"\n          action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n          beforeUpload={beforeUpload}\n          onPreview={handlePreview}\n          onChange={handleChange}\n        >\n          Upload\n        </Upload>\n      )}\n      <Row justify=\"center\" style={{ marginTop: '2rem' }} >\n        <Col>\n          <Button\n            disabled={fileList?.length === 0}\n            loading={progress !== 0}\n            type=\"primary\" style={{ borderRadius: '5px' }}\n            onClick={() => uploadFile(fileList)}\n          >\n            Subir Archivos\n          </Button>\n        </Col>\n      </Row>\n      <MyModal\n        closable={true}\n        width={\"calc(75% - 20px)\"}\n        title={currentfile.name || \"Preview\"}\n        onCancel={() => setPreviewVisible(false)}\n        visible={previewVisible}\n      >\n        <img\n          alt=\"example\"\n          style={{ width: \"100%\", margin: \"0px 0px 20px 0px\" }}\n          src={previewImage}\n        />\n      </MyModal>\n    </div>\n  );\n};\n\nexport default DragAndDropUploader;\n","\n\n\nimport React from 'react';\nimport lodash from 'lodash';\n\nimport {forkJoin, Observable} from 'rxjs';\n// @ts-ignore\nimport * as S3Upload from 'react-s3-uploader/s3upload';\n\nconst URL_S3_SERVER = \"https://api.apparta.co/\";\n\n\n\n\n\nconst DEFAULT_UPLOAD_OPTIONS = {\n  name: false,\n  path: 'files',\n  validate: {\n    match: '',\n    maxSize: 48828.125,\n  },\n  onProgress: (progress) => {},\n};\n\nconst DEFAULT_OPTIONS = {\n  name: null,\n  path: 'files',\n  validate: {\n    match: '',\n    maxSize: 48828.125,\n  },\n};\n\nexport class ErrorFile extends Error {\n  source;\n  constructor(message, source) {\n    super(message)\n    this.name = 'ErrorFile';\n    this.message = message || 'File invalid';\n    this.source = source;\n    this.stack = new Error().stack;\n  }\n}\n\nexport function getFileName(fileName) {\n  const _fileName = fileName.split('.');\n  if (_fileName.length === 1) {\n    return _fileName[0];\n  }\n  _fileName.pop();\n  return _fileName.join('.');\n}\n\nexport function getFileType(fileName) {\n  const _fileName = fileName.split('.');\n  if (_fileName.length === 1) {\n    return '';\n  }\n  return `.${_fileName.pop()}`;\n}\n\nexport function validateFile(options) {\n  return (file, callBack) => {\n    if (file.size / 1024 > options.maxSize) {\n      throw new ErrorFile(\n        'Tamaño maximo exedido',\n        {file: {name: file.name, size: file.size}},\n      );\n    }\n\n    const match = new RegExp(options.match);\n    const notAllowed = /(\\.0XE|\\.73K|\\.89K|\\.8CK|\\.A6P|\\.A7R|\\.AC|\\.ACC|\\.ACR|\\.ACTC|\\.ACTION|\\.ACTM|\\.AHK|\\.AIR|\\.APK|\\.APP|\\.APPIMAGE|\\.APPLESCRIPT|\\.ARSCRIPT|\\.ASB|\\.AZW2|\\.BA_|\\.BAT|\\.BEAM|\\.BIN|\\.BTM|\\.CACTION|\\.CEL|\\.CELX|\\.CGI|\\.CMD|\\.COF|\\.COFFEE|\\.COM|\\.COMMAND|\\.CSH|\\.CYW|\\.DEK|\\.DLD|\\.DMC|\\.DS|\\.DXL|\\.E_E|\\.EAR|\\.EBM|\\.EBS|\\.EBS2|\\.ECF|\\.EHAM|\\.ELF|\\.EPK|\\.ES|\\.ESH|\\.EX4|\\.EX5|\\.EX_|\\.EXE|\\.EXE1|\\.EXOPC|\\.EZS|\\.EZT|\\.FAS|\\.FKY|\\.FPI|\\.FRS|\\.FXP|\\.GADGET|\\.GPE|\\.GPU|\\.GS|\\.HAM|\\.HMS|\\.HPF|\\.HTA|\\.ICD|\\.IIM|\\.IPA|\\.IPF|\\.ISU|\\.ITA|\\.JAR|\\.JS|\\.JSE|\\.JSF|\\.JSX|\\.KIX|\\.KSH|\\.KX|\\.LO|\\.LS|\\.M3G|\\.MAC|\\.MAM|\\.MCR|\\.MEL|\\.MEM|\\.MIO|\\.MLX|\\.MM|\\.MRC|\\.MRP|\\.MS|\\.MSL|\\.MXE|\\.N|\\.NCL|\\.NEXE|\\.ORE|\\.OSX|\\.OTM|\\.OUT|\\.PAF|\\.PAF.EXE|\\.PEX|\\.PHAR|\\.PIF|\\.PLSC|\\.PLX|\\.PRC|\\.PRG|\\.PS1|\\.PVD|\\.PWC|\\.PYC|\\.PYO|\\.QIT|\\.QPX|\\.RBF|\\.RBX|\\.RFU|\\.RGS|\\.ROX|\\.RPJ|\\.RUN|\\.RXE|\\.S2A|\\.SBS|\\.SCA|\\.SCAR|\\.SCB|\\.SCPT|\\.SCPTD|\\.SCR|\\.SCRIPT|\\.SCT|\\.SEED|\\.SERVER|\\.SHB|\\.SMM|\\.SPR|\\.TCP|\\.THM|\\.TIAPP|\\.TMS|\\.U3P|\\.UDF|\\.UPX|\\.VBE|\\.VBS|\\.VBSCRIPT|\\.VDO|\\.VEXE|\\.VLX|\\.VPM|\\.VXP|\\.WCM|\\.WIDGET|\\.WIZ|\\.WORKFLOW|\\.WPK|\\.WPM|\\.WS|\\.WSF|\\.WSH|\\.X86|\\.XAP|\\.XBAP|\\.XLM|\\.XQT|\\.XYS|\\.ZL9)$/gi;\n    if (options.match && !match.test(file.name)) {\n      throw new ErrorFile(\n        `Formato invalido. (${file.name})`,\n        {file: {name: file.name, size: file.size}},\n      );\n    }\n\n    if (notAllowed.test(file.name)) {\n      throw new ErrorFile(\n        `Archivo no permitido. (${file.name})`,\n        {file: {name: file.name, size: file.size}},\n      );\n    }\n\n    callBack(file);\n  };\n}\n\nexport function uploadFile(file, options = DEFAULT_UPLOAD_OPTIONS) {\n  const _options = lodash.merge({}, DEFAULT_UPLOAD_OPTIONS, options);\n\n  return new Observable((subscriber) => {\n    new S3Upload({\n      fileElement: {files: [file]},\n      signingUrl: 's3Client/sign',\n      preprocess: validateFile(_options.validate),\n      onProgress: _options.onProgress,\n      onFinishS3Put: (fileS3) => {\n        subscriber.next({\n          ...fileS3,\n          originName: file.name,\n          userName: _options.name,\n        });\n        subscriber.complete();\n      },\n      onError: (error) => subscriber.error(error),\n      signingUrlMethod: 'GET',\n      signingUrlWithCredentials: true,\n      uploadRequestHeaders: {'x-amz-acl': 'public-read'},\n      contentDisposition: 'auto',\n      server: URL_S3_SERVER,\n      scrubFilename: (filename) =>\n        `${new Date().valueOf()}-${_options.name || getFileName(filename)}${getFileType(filename)}`,\n      s3path: `AppartaWeb/static/${_options.path}/${\n        _options.name ? `${_options.name}/` : ''\n      }`,\n    });\n  });\n}\n\nexport function onUploadFile(event, options) {\n  console.log({event})\n  const _options = lodash.merge({}, DEFAULT_OPTIONS, options);\n  // stop event\n  event.stopPropagation();\n  event.preventDefault();\n\n  const fileKeys = Object.keys(event.target.files || {});\n\n  return forkJoin(\n    fileKeys.map((file) => !!event.target.files &&\n      uploadFile(event.target.files[Number(file)], _options),\n    ),\n  );\n}\n\nexport function onUploadFileVersionHurgot(files, _options) {\n  const fileKeys = Object.keys(files || {});\n\n  return forkJoin(\n    fileKeys.map((file) => files &&\n      uploadFile(files[Number(file)], _options),\n    ),\n  );\n}","import styled from \"styled-components\";\n\nexport const WrapperList = styled.div`\n  & .header-section {\n    display: flex;\n    justify-content: start;\n    align-items: center;\n  }\n  & .header-section h3 {\n    font-size: 20px;\n    margin-right: 4px;\n    margin-bottom: 0px;\n    margin-left: 8px;\n  }\n`;\nexport const FormWrapper = styled.div`\n  & .ant-row.form-fields .ant-col.ant-col-12.item-form.item-hidden:first-child {\n    margin-bottom: 20px !important;\n    margin-left: -18px !important;\n  }\n`;\nexport const WrapperSection = styled.div`\n  & .list-container {\n    border: 1px solid rgb(243, 243, 243) !important;\n    margin-bottom: 10px !important;\n  }\n  & > h2 {\n    font-size: 18px;\n    color: rgba(0, 0, 0, 0.85);\n    margin-bottom: 16px !important;\n    border-bottom: 1px solid #cccccc78;\n    padding: 10px 0px;\n  }\n`;\nexport const WrapperItemList = styled.div`\n\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\n  border-radius:1rem;\n  background: #fff ;\n  padding: 1rem;\n  margin:1rem;\n\n  /* padding: 0px;\n  ${({ bordered }) =>\n    bordered && `border-right: 3px solid rgba(216, 216, 216, 0.53);`}\n  ${({ fullHeight }) =>\n    fullHeight && `min-height:100vh;`}\n    min-width: 200px !important; */\n\n  & .list-footer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 4px 10px;\n  }\n  & .list-footer button.ant-btn {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  & .list-title {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 10px 16px 4px 10px;\n  }\n  & .item-head-cotainer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  & .item-head-cotainer .head-actions i {\n    font-size: var(--font-size-medium);\n  }\n  & em.ant-list-item-action-split {\n    display: none !important;\n    width: 0px !important;\n    margin: 0px !important;\n    padding: 0px !important;\n  }\n  & .ant-list-item-action > li {\n    padding: 0px !important;\n  }\n  & .list-title h2 {\n    line-height: 1;\n    margin-bottom: 0px;\n    font-size: 18px;\n    color: rgba(0, 0, 0, 0.75);\n  }\n  & .list-description span {\n    font-size: 12px;\n    padding-left: 10px;\n  }\n`;\nexport const WrapperGroupList = styled.div``;\nexport const WrapperItem = styled.div`\n  background: #fff;\n  & .item-container {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    min-height: 50px;\n\n    border-left: 3px solid var(--color-white);\n    padding: 8px 0 !important;\n    padding-left: 8px !important;\n    cursor: pointer;\n    height: 49px !important;\n    background: #fff;\n\n    border-bottom: 1px solid #e8e8e8;\n\n    -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n    -khtml-user-select: none; /* Konqueror HTML */\n    -moz-user-select: none; /* Old versions of Firefox */\n    -ms-user-select: none; /* Internet Explorer/Edge */\n    user-select: none; /* Non-prefixed version, currently\n                                      supported by Chrome, Edge, Opera and Firefox */\n  }\n  &.item-selected .item-container,\n  & .item-container:hover {\n    border-left: 3px solid #6B24F8 !important;\n    background-color: var(--color-pink-light) !important;\n  }\n  & .avatar .anticon {\n    font-size: 12px !important;\n    color: #c0c0c0 !important;\n    margin-right: 4px;\n    font-weight: bold;\n    font-size: 20px;\n  }\n  & .avatar {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  & .ant-avatar {\n    margin-right: 4px;\n  }\n  & .content {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    flex: 1;\n  }\n  & .item-container .drag-handle {\n    display: none;\n    transition-property: opacity;\n    transition-duration: 0.25s;\n  }\n  & .icon-drag {\n    font-size: 30px !important;\n    cursor: move;\n  }\n  & .item-container:hover .icon-right {\n    display: none !important;\n  }\n  & .item-container:hover .drag-handle {\n    /* background: #bfbfbf6e; */\n    width: 22px;\n    display: flex;\n    justify-content: center;\n    border-radius: 4px;\n    margin-right: 4px;\n    color: #636363;\n    font-size: 20px;\n    padding: 0px;\n    display: flex !important;\n  }\n  & .title {\n    flex: 1;\n    padding: 18px 0px;\n  }\n\n  & .title h4 {\n    margin-bottom: 0px !important;\n    font-size: 12px !important;\n    line-height: 13px !important;\n  }\n`;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport {\n  List,\n  Switch,\n  Menu,\n  Avatar,\n  Icon,\n  message,\n  Button,\n  Dropdown,\n  ConfigProvider,\n  Tag,\n  Typography,\n  Input\n} from \"antd\";\nimport { getService } from \"../../services/services\";\nimport qs from \"qs\";\nimport {\n  DEFAULT_IMAGE,\n  S3_PATH_IMAGE_HANDLER,\n  URL_PLACEHOLDER,\n  URL_S3,\n} from \"../../constants/\";\nimport { WrapperItem, WrapperItemList } from \"./Styles\";\nimport { money } from \"../../utils\";\nimport _ from \"lodash\";\nimport {\n  SortableContainer,\n  SortableElement,\n  SortableHandle,\n} from \"react-sortable-hoc\";\nimport arrayMove from \"array-move\";\nimport { DinamicForm, FileUploader, SelectField, SimpleForm } from \"../com/form/\";\nimport { MyModal } from \"../com\";\n\n// Icons\nimport { AiOutlineReload, AiOutlinePlus, AiOutlineEdit, AiOutlineDelete, AiOutlineSmile, AiOutlineDrag, AiOutlineRight } from 'react-icons/ai';\nimport { FiMoreVertical } from 'react-icons/fi';\nimport GalleryUploader from \"../com/gallery/GalleryUploader\";\n\n\nconst DragHandle = SortableHandle(({ children }) => (\n  <span className=\"drag-handle\">{children}</span>\n));\n\nconst defaultActions = {\n  create: true,\n  edit: true,\n  delete: false,\n  disable: false,\n};\n\nconst APPARTA_CATEGORIES = [\n  {\n    name: \"Entradas\",\n    id: \"entradas\",\n    path: \"https://mejorconsalud.as.com/wp-content/uploads/2016/02/Elegir-aperitivos-bajos-en-calor%C3%ADas.jpg\",\n  },\n  {\n    name: \"Desayunos\",\n    id: \"desayunos\",\n    path: \"https://www.cocinayvino.com/wp-content/uploads/2016/09/full-english-breakfast.jpg\",\n  },\n  {\n    name: \"Sopas\",\n    id: \"sopas\",\n    path: \"https://elgourmet.s3.amazonaws.com/recetas/cover/sopa-_k1VoM4cvUxpZ0SWRX2a5trJ86mwhjl.png\",\n  },\n  {\n    name: \"Ensaladas\",\n    id: \"ensaladas\",\n    path: \"https://static3.depositphotos.com/1003814/174/i/450/depositphotos_1747679-stock-photo-vegetable-salad-with-cheese.jpg\",\n  },\n  {\n    name: \"Platos fuertes\",\n    id: \"platos fuertes\",\n    path: \"https://i.blogs.es/5c4adf/1366_2000-24/1366_2000.jpg\",\n  },\n  {\n    name: \"Acompañamientos\",\n    id: \"acompañamientos\",\n    path: \"https://www.rebanando.com/cache/content/232354.jpg/600x397.jpg\",\n  },\n  {\n    name: \"Bebidas\",\n    id: \"bebidas\",\n    path: \"https://i2.wp.com/www.diegocoquillat.com/wp-content/uploads/2018/06/tapa_bebidas.png?w=700&ssl=1\",\n  },\n  {\n    name: \"Postres\",\n    id: \"postres\",\n    path: \"https://img.vixdata.io/pd/webp-large/es/sites/default/files/imj/elgranchef/l/los-mejores-postres-sin-chocolate-1.jpg\",\n  },\n  {\n    name: \"Licores\",\n    id: \"licores\",\n    path: \"https://www.losvinos.com.ar/wp-content/uploads/2019/08/licores-de-dulces-930x620.jpg?ezimgfmt=ng%3Awebp%2Fngcb13%2Frs%3Adevice%2Frscb13-1\",\n  },\n  {\n    name: \"Otros\",\n    id: \"otros\",\n    path: \"https://www.cocinacaserayfacil.net/wp-content/uploads/2020/03/Recetas-de-comida-para-llevar-al-trabajo.jpg\",\n  },\n];\n\nconst layouts = [\n  {\n    id: \"Grid2by2WithImage\",\n    name: \"Producto con imágenes\"\n  },\n  {\n    id: \"FullWidthNoImage\",\n    name: \"Producto sin imágenes\"\n  }\n];\n\n\nconst ListItems = ({\n  title,\n  header,\n  footer,\n  description,\n  bordered = true,\n  fullHeight = true,\n  createTitle,\n  editTitle,\n  fields,\n  source,\n  createButtonText,\n  editButtonText,\n  actionCreateText = \"Agregar\",\n  reference,\n  onLoad,\n  onAdd,\n  onRemove,\n  onEdit,\n  defaultKeySelected = 0,\n  valueField = \"position\",\n  showAvatar = true,\n  type = \"primary\",\n  mode = \"modal\",\n  actions = defaultActions,\n  icon,\n  cover_field = \"banner_path\",\n  filter,\n  onSelect,\n  refinement,\n  refresh,\n  filteres,\n  onDisable,\n  goTop = true,\n  initialValues = {},\n  setterIsVisibleModalAdmin,\n  setterItem,\n  departament_id,\n  defaultCategory,\n  setEstablishmentCategories,\n  defaultElement = [],\n  establishment_id,\n  ...props\n}) => {\n\n  const [dragId, setDragId] = useState();\n  const [loading, setLoading] = useState(true);\n  const [visible, setVisible] = useState(false);\n  const [selectedId, setSelectedId] = useState();\n  const [selectedData, setSelectedData] = useState();\n  const [submitting, setSubmitting] = useState(false);\n  const [dataSource, setDataSource] = useState([]);\n  const [filterDefaultValues, setFilterDefaultValues] = useState({});\n\n\n  let query = qs.parse(window.location.search.replace(/\\?/, \"\"));\n  const myRef = useRef(null);\n\n  const handleClick = (id, record, item) => {\n    if (selectedId !== id) {\n      setSelectedId(id);\n      if (onSelect) onSelect({ id, item, record });\n    }\n    if (goTop) window.document.body.scrollTo(0, 0);\n  };\n\n  const handleOnDisabled = (value, item) => {\n\n    if (onDisable) return onDisable(value, item);\n\n    const service = getService(reference);\n    service\n      .patch(item.id, {\n        status: value === true ? \"active\" : \"inactive\",\n      })\n      .then((res) => { })\n      .catch((err) => {\n        message.error(err.message);\n      });\n  };\n\n  const update = (id, params) => {\n    if (reference && !defaultCategory && id !== -1) {\n      const service = getService(reference);\n      return service\n        .patch(id, {\n          ...params,\n        })\n        .then((res) => { })\n        .catch((err) => {\n          message.error(err.message);\n        });\n    }\n  };\n\n  const onStart = ({ node, index, collection, isKeySorting }, e) => {\n    setDragId(node.id);\n  };\n\n  const onSortEnd = async ({ oldIndex, newIndex, collection }, e) => {\n    try {\n      if (oldIndex === newIndex) {\n        let item = dataSource.find((item, index) => index === newIndex);\n        if (item) setSelectedId(item.id);\n        return;\n      }\n      let new_array = arrayMove(dataSource, oldIndex, newIndex);\n      setDataSource(new_array);\n      let count = 0;\n      setSubmitting(true);\n      new_array.forEach(async (item, index) => {\n        await update(item.id, {\n          [valueField]: index,\n        });\n        count++;\n        if (count === new_array.length) {\n          setSubmitting(false);\n          /* message.success(\"Updated!\"); */\n        }\n      });\n    } catch (err) {\n      message.error(err.message);\n    }\n  };\n\n  const renderItem = (item, index) => {\n    let record = item;\n    const temp =\n      item?.menu_items_restaurant_overwrite?.length > 0\n        ? !!item.menu_items_restaurant_overwrite.find(\n          (it) => Number(it.restaurant_id) === Number(query.restaurant_id)\n        )\n        : false;\n    const tempItem = temp\n      ? item.menu_items_restaurant_overwrite.find(\n        (it) => Number(it.restaurant_id) === Number(query.restaurant_id)\n      )\n      : {};\n\n    if (refinement) record = refinement(record);\n    let extra_actions = [];\n    actions.extra = actions.extra || [];\n    if (actions.extra.length > 0)\n      actions.extra = React.Children.map(actions.extra, (child, index) => {\n        let { onClick } = child.props;\n        return React.cloneElement(child, {\n          onClick: (e) => {\n            e.preventDefault();\n            if (onClick) onClick(item);\n          },\n          key: index,\n        });\n      });\n    if (actions.admin && +window.localStorage.getItem(\"branch_length\") >= 2) {\n      extra_actions.push(\n        <Button\n          type=\"link\"\n          style={{ marginRight: 6 }}\n          onClick={() => {\n            setterIsVisibleModalAdmin(true);\n            setterItem(record);\n          }}\n        >\n          Administrar\n        </Button>\n      );\n    }\n    if (actions.disable && item.id !== -1 && +window.localStorage.getItem(\"branch_length\") <= 1) {\n      extra_actions.push(\n        <Switch\n          defaultChecked={\n            query?.restaurant_id !== \"\"\n              ? temp\n                ? tempItem.status === \"active\"\n                : item.status === \"active\"\n              : item.status === \"active\"\n          }\n          onChange={(value) => handleOnDisabled(value, item)}\n        />\n      );\n    }\n    extra_actions = [\n      ...extra_actions,\n      ...actions.extra,\n      (actions.edit || actions.delete) && item.id !== -1 && (\n        <Dropdown\n          trigger={[\"click\"]}\n          overlay={() => <MenuItems record={item} />}\n        >\n          <Button type=\"link\">\n            <FiMoreVertical />\n          </Button>\n        </Dropdown>\n      ),\n    ];\n    return (\n      <SortableItem\n        key={`item-${record.id}`}\n        index={index}\n        record={record}\n        item={item}\n        extra_actions={extra_actions}\n      />\n    );\n  };\n\n  const customizeRenderEmpty = () => (\n    <div style={{ textAlign: \"center\" }}>\n      <AiOutlineSmile style={{ fontSize: 20 }} />\n      <p>Data Not Found</p>\n    </div>\n  );\n\n  const getData = () => {\n    if (reference && !defaultCategory) {\n      const service = getService(reference);\n      setLoading(true);\n      service\n        .find({\n          query: {\n            $sort: {\n              [valueField]: 1,\n            },\n            ...filterDefaultValues,\n          },\n        })\n        .then(({ data }) => {\n          data = data.map((it, index) => ({\n            ...it,\n          }));\n          setDataSource(filter ? [...defaultElement, ...data.filter(filter)] : [...defaultElement, ...data]);\n          if (setEstablishmentCategories)\n            setEstablishmentCategories(filter ? data.filter(filter) : data);\n          if (onLoad) onLoad(data);\n          setLoading(false);\n        })\n        .catch((err) => {\n          message.error(err.message);\n          setLoading(false);\n        });\n    }\n  };\n\n  useEffect(() => {\n    if (departament_id !== undefined) {\n      // alert('consultar')\n      if (reference) {\n        const service = getService('categories');\n        setLoading(true);\n        service\n          .find({\n            query: {\n              $sort: {\n                [valueField]: 1,\n              },\n              ...filterDefaultValues,\n              menu_items_department_id:\n                departament_id > 0 ? departament_id : undefined,\n            },\n          })\n          .then(({ data }) => {\n            data = data.map((it, index) => ({\n              ...it,\n              [valueField]: index,\n            }));\n            setDataSource(filter ? data.filter(filter) : data);\n            if (onLoad) onLoad(data);\n            setLoading(false);\n          })\n          .catch((err) => {\n            message.error(err.message);\n            setLoading(false);\n          });\n      }\n    }\n  }, [departament_id]);\n\n  const remove = (id) => {\n    if (reference) {\n      const service = getService(reference);\n      service\n        .remove(id)\n        .then((res) => {\n          message.success(\"Registro eliminado!\");\n          if (onRemove) onRemove(res);\n          getData();\n        })\n        .catch((err) => {\n          message.error(err.message);\n        });\n    } else {\n      if (onRemove) onRemove(id);\n    }\n  };\n\n  const handleMenuClick = (key, record) => {\n    switch (key) {\n      case \"delete\":\n        remove(record.id);\n        break;\n      case \"edit\":\n        if (onEdit) return onEdit(record);\n        setSelectedId(record.id);\n        setSelectedData(record);\n        setVisible(true);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleAdd = () => {\n    setSelectedId(null);\n    setSelectedData();\n    if (mode === \"modal\") setVisible(true);\n    if (onAdd) onAdd(source, reference, mode);\n  };\n\n  const MenuItems = (props) => (\n    <Menu\n      className={props.className || \"list-menu\"}\n      onClick={({ key }) => handleMenuClick(key, props.record)}\n      items={[\n        actions.edit && { key: \"edit\", label: 'Editar', icon: <AiOutlineEdit /> },\n        actions.delete && { key: \"delete\", label: 'Eliminar', icon: <AiOutlineDelete /> }\n      ]}\n    />\n  );\n\n  const SortableItem = SortableElement(({ record, item, extra_actions }) => {\n    const temp =\n      item?.menu_items_restaurant_overwrite?.length > 0\n        ? !!item.menu_items_restaurant_overwrite.find(\n          (it) => Number(it.restaurant_id) === Number(query.restaurant_id)\n        )\n        : false;\n    const tempItem = temp\n      ? item.menu_items_restaurant_overwrite.find(\n        (it) => Number(it.restaurant_id) === Number(query.restaurant_id)\n      )\n      : {};\n\n    let cover;\n\n    let isSelected = selectedId\n      ? item.id === selectedId\n      : item.id === defaultKeySelected;\n\n    if (cover_field === 'path')\n      cover = record[cover_field]\n    else if (record[cover_field])\n      cover = `${record[cover_field]}`\n    else\n      cover = DEFAULT_IMAGE\n\n    cover = `${S3_PATH_IMAGE_HANDLER}/${window.imageShark({\n      url: cover,\n      width: 100,\n      height: 100,\n    })}`;\n\n    return (\n      <WrapperItem\n        className={`item item-${type}  ${isSelected ? \"item-selected\" : \"\"}`}\n        key={item.id}\n      >\n        <div className=\"item-container\"\n        >\n          <div\n            onClick={() => handleClick(item.id, record, item)}\n            className=\"avatar\"\n          >\n            {type === \"primary\" && (\n              <AiOutlineRight className=\"icon-right\" />\n            )}\n            <DragHandle className=\"container-draghandle\">\n              <AiOutlineDrag className=\"icon-drag\" />\n            </DragHandle>\n            {showAvatar && record.id !== -1 && <Avatar size=\"large\" shape=\"square\" src={cover} />}\n          </div>\n          <div className=\"content\">\n            <div\n              onClick={() => handleClick(item.id, record, item)}\n              className=\"title\"\n            >\n              <h4> {record.name}</h4>\n              {(record.instore === \"true\" ||\n                record.delivery === \"true\" ||\n                record.pickup === \"true\" ||\n                tempItem.instore === \"true\" ||\n                tempItem.delivery === \"true\" ||\n                tempItem.pickup === \"true\") && (\n                  <div>\n                    {(record.instore === \"true\" ||\n                      tempItem.instore === \"true\") && (\n                        <Tag color=\"green\" className=\"type\">\n                          {query?.restaurant_id !== \"\" &&\n                            tempItem?.instore === \"true\"\n                            ? \"INSTORE\"\n                            : null || record.instore === \"true\"\n                              ? \"INSTORE\"\n                              : null}\n                        </Tag>\n                      )}\n\n                    {(record.delivery === \"true\" ||\n                      (tempItem.delivery === \"true\" &&\n                        query?.restaurant_id !== \"\")) && (\n                        <Tag color=\"cyan\" className=\"type\">\n                          {query?.restaurant_id !== \"\" &&\n                            tempItem?.delivery === \"true\"\n                            ? \"DELIVERY\"\n                            : null || record.delivery === \"true\"\n                              ? \"DELIVERY\"\n                              : null}\n                        </Tag>\n                      )}\n                    {(record.pickup === \"true\" || tempItem.pickup === \"true\") && (\n                      <Tag color=\"blue\" className=\"type\">\n                        {query?.restaurant_id !== \"\" &&\n                          tempItem?.pickup === \"true\"\n                          ? \"PICKUP\"\n                          : null || record.pickup === \"true\"\n                            ? \"PICKUP\"\n                            : null}\n                      </Tag>\n                    )}\n                  </div>\n                )}\n            </div>\n            <div className=\"actions\">{extra_actions}</div>\n          </div>\n        </div>\n      </WrapperItem>\n    );\n  });\n\n  const SortableList = SortableContainer(({ items }) => {\n    return (\n      <WrapperItemList\n        ref={myRef}\n        className=\"list-container\"\n        fullHeight={fullHeight}\n        bordered={bordered}\n      >\n        <div className=\"head-list\">\n          {title && !header && (\n            <div className=\"list-title\">\n              {title && <Typography.Title level={5}>{title}</Typography.Title>}\n              {reference && (\n                <Button\n                  onClick={() => getData()}\n                  type=\"link\"\n                  loading={submitting || loading}\n                  icon={<AiOutlineReload />}\n                />\n              )}\n            </div>\n          )}\n          {header && <Typography.Title level={5}>{header}</Typography.Title>}\n          {description && (\n            <div className=\"list-description\">\n              <span>{description}</span>\n            </div>\n          )}\n        </div>\n        <div className=\"list-footer\">\n          {!loading && (\n            <div>\n              {actions.create && (\n                <div className=\"add-container\">\n                  <Button onClick={handleAdd} type=\"link\" icon={<AiOutlinePlus />}>\n                    {actionCreateText}\n                  </Button>\n                </div>\n              )}\n              {footer}\n            </div>\n          )}\n        </div>\n        <div className=\"lit-items-content\">\n          {items.map(props.renderItem || renderItem)}\n        </div>\n        {mode === \"modal\" && (\n          <MyModal\n            title={`${selectedId ? editTitle || \"Editar\" : createTitle || \"Crear\"\n              }`}\n            onCancel={() => {\n              setVisible(false);\n              setSelectedId(null);\n              setSelectedData();\n            }}\n            visible={visible}\n          >\n            <SimpleForm\n              id={selectedId}\n              source={reference}\n              record={initialValues}\n              textAcceptButton={selectedId ? editButtonText : createButtonText}\n              onSubmit={(err, record) => {\n                getData();\n                setSelectedId(null);\n                setSelectedData();\n                setVisible(false);\n                /* if (onSelect && !selectedId) onSelect(record.id, record, record); */\n              }}\n            >\n              {fields}\n              <Input\n                size=\"large\"\n                label=\"Nombre de Categoría\"\n                placeholder=\"Nombre de Categoría\"\n                flex={1}\n                name=\"name\"\n              />\n              <SelectField\n                size=\"large\"\n                label=\"Formato de Visualización\"\n                placeholder=\"Formato de Visualización\"\n                flex={1}\n                name=\"layout\"\n                choices={layouts}\n              />\n              {\n                selectedId && (selectedData?.banner_path) && (\n                  <GalleryUploader\n                    flex={1}\n                    refresh={(e, response) => setSelectedData(response)}\n                    size=\"large\"\n                    record={selectedData}\n                    // defaultImage={establishmentData.apparta_menu_branch_list_background_path}\n                    source=\"banner_path\"\n                    name=\"banner_path\"\n                    withCropper={true}\n                    setterVisibleCropper={() => { }}\n                    reference=\"establishments-menu-items-categories\"\n                    _id={selectedId}\n                    path={`establishments-menu-items-categories/${establishment_id}/`}\n                  />\n                )\n              }\n              {\n                selectedId &&\n                <FileUploader\n                  preview={false}\n                  source=\"banner_path\"\n                  name=\"banner_path\"\n                  path={`establishments-menu-items-categories/${establishment_id}/`}\n                  multiple={false}\n                  onUpload={() => {\n                    // setGroupRefresh(refresh => !refresh);\n                  }}\n                  showByEdit={true}\n                  reference={\"establishments-menu-items-categories\"}\n                  id=\"banner-category-path\"\n                />\n              }\n            </SimpleForm>\n          </MyModal>\n        )}\n      </WrapperItemList>\n    );\n  });\n\n  useEffect(() => {\n    if (props.dataSource && props.dataSource.length > 0) {\n      setSelectedId(props.dataSource[0].id);\n      setDataSource(\n        filter ? props.dataSource.filter(filter) : props.dataSource\n      );\n    }\n  }, [props.dataSource]);\n\n  useEffect(() => {\n    setLoading(props.loading);\n  }, [props.loading]);\n\n  useEffect(() => {\n    if (!_.isEmpty(filterDefaultValues)) getData();\n  }, [refresh]);\n\n  useEffect(() => {\n    if (_.isEmpty(filterDefaultValues)) {\n      setFilterDefaultValues(props.filterDefaultValues);\n    } else if (!_.isEqual(props.filterDefaultValues, filterDefaultValues)) {\n      setFilterDefaultValues(props.filterDefaultValues);\n    }\n  }, [props.filterDefaultValues]);\n\n  useEffect(() => {\n    if (!_.isEmpty(filterDefaultValues)) getData();\n  }, [filterDefaultValues]);\n\n  useEffect(() => {\n    setSelectedId(defaultKeySelected);\n  }, [defaultKeySelected]);\n\n  useEffect(() => {\n    if (props.selected) setSelectedId(props.selected.id);\n  }, [props.selected]);\n\n  useEffect(() => {\n    console.log(selectedData)\n  }, [selectedData])\n\n  return (\n    <SortableList\n      items={defaultCategory ? defaultCategory : dataSource}\n      distance={5}\n      pressThreshold={5}\n      lockAxis=\"y\"\n      onSortStart={onStart}\n      onSortEnd={onSortEnd}\n    />\n  );\n};\nexport default ListItems;\n","import styled from \"styled-components\";\nimport { css } from \"styled-components\";\nimport { Row } from \"antd\";\n\nexport const WrapperWarning = styled.div`\n  box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.03) !important;\n  border: 1px solid #e8e8e85e !important;\n  border-radius: 20px;\n  line-height: 27px;\n  margin: 7px 10px 10px 9rem;\n  width: 80%;\n  color: #ffffff;\n  background-color: #d60915;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n`;\n\nexport const WrapperForm = styled.div`\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\n  border-radius:1rem;\n  background: #fff ;\n  padding: 1rem;\n  margin:1rem;\n`;\n\nexport const Headline = styled.p`\n  font-size: 0.8rem;\n  color: black;\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n  gap: 6px;\n`;\n\nexport const WrapperListItems = styled.div`\n  display: flex;\n  align-items: center;\n  height: auto;\n  width: 100%;\n  overflow: scroll;\n`;\n\nexport const WrapperItem = styled.div`\n  display: flex;\n  width: 200px;\n  margin: 0 10px 0 10px;\n`;\nexport const Image = styled.img`\n  height: 70px;\n  width: 200px;\n  max-width: 200px;\n  border-radius: 18px;\n  opacity: 0.8;\n  object-fit: cover;\n  object-position: center center;\n  :hover {\n    filter: brightness(50%) saturate(0%);\n    -webkit-filter: brightness(50%) saturate(0%);\n    -moz-filter: brightness(50%) saturate(0%);\n    cursor: pointer;\n  }\n  ${({ active }) => {\n    return (\n      active &&\n      css`\n        border: 4px solid green;\n        border-radius: 22px;\n      `\n    );\n  }}\n`;\n\nexport const WrapperHome = styled.div`\n  display: flex;\n  flex-direction: column;\n  white-space: normal;\n  align-items: center;\n  margin-top: 0.8rem;\n\n  cursor: pointer;\n  :hover {\n    transform: scale(107%);\n  }\n`;\n\nexport const Box = styled(Row)`\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\n  border-radius:1rem;\n  background: #fff ;\n  padding: 2rem;\n`;\n\nexport const WrapperDeliveryOptions = styled(Row)`\n  border-radius: 12px !important;\n  gap: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n`;\nexport const Labels = styled.p`\n  font-weight: 600;\n  font-size: 1rem;\n  margin-bottom: -6px\n`;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  Button,\n  Checkbox,\n  Col,\n  Dropdown,\n  Icon,\n  List,\n  Menu,\n  message,\n  Row,\n} from \"antd\";\nimport { getService } from \"../../services\";\nimport ListItems from \"./ListItems\";\nimport { WrapperSection, WrapperList, FormWrapper } from \"./Styles\";\nimport { DinamicForm, SelectField } from \"../com/form/\";\nimport { MyModal } from \"../com\";\nimport _ from \"lodash\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { WrapperWarning } from \"../../views/menu-categories/style\";\n\nconst CustomSection = (props) => {\n  const [item_id, setItemId] = useState();\n  const [dataSource, setDataSource] = useState([]);\n  const [selection, setSelection] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [checkAll, setCheckAll] = useState(false);\n  const getData = () => {\n    const service = getService(\"personalization-menu-item-sections\");\n    setLoading(true);\n    service\n      .find({\n        query: {\n          menu_item_id: item_id, //5\n        },\n      })\n      .then(({ data }) => {\n        setDataSource(data);\n        setLoading(false);\n      })\n      .catch((err) => {\n        message.error(err.message);\n        setLoading(false);\n      });\n  };\n  const handleCheckAll = (e) => {\n    let { checked } = e.target;\n    setCheckAll(checked);\n    if (checked) {\n      setSelection(dataSource.map((it) => it.personalization_section.id));\n    } else {\n      setSelection([]);\n    }\n  };\n  const handleCheck = (e, id) => {\n    let { checked } = e.target;\n    if (checked) {\n      setSelection((selection) => [...selection, id]);\n    } else {\n      setCheckAll(false);\n      setSelection((selection) => selection.filter((it) => it != id));\n    }\n  };\n  const renderItem = (item, index) => {\n    return (\n      <List.Item>\n        <div>\n          <Checkbox\n            onChange={(e) => handleCheck(e, item.personalization_section.id)}\n            checked={selection.includes(item.personalization_section.id)}\n          />{\" \"}\n          <span>{item.personalization_section.name}</span>\n        </div>\n      </List.Item>\n    );\n  };\n  useEffect(() => {\n    if (props.item_id) {\n      setItemId(props.item_id);\n    }\n  }, [props.item_id]);\n  useEffect(() => {\n    if (typeof item_id == \"number\") {\n      getData();\n    }\n  }, [item_id]);\n  useEffect(() => {\n    if (props.onChange) props.onChange(selection);\n  }, [selection]);\n  return (\n    <WrapperList>\n      {\n        <List\n          header={\n            dataSource.length > 0 && (\n              <div className=\"header-section\">\n                <Checkbox checked={checkAll} onChange={handleCheckAll} />{\" \"}\n                <h3>Secciones</h3>\n              </div>\n            )\n          }\n          loading={loading}\n          dataSource={dataSource}\n          renderItem={renderItem}\n        />\n      }\n    </WrapperList>\n  );\n};\nconst ItemSection = ({\n  filterDefaultValues = {},\n  reference,\n  title,\n  ...props\n}) => {\n  const [dataSource, setDataSource] = useState([]);\n  const [sections, setSections] = useState([]);\n  const [loading_sections, setLoadingSections] = useState(false);\n  const [sectionId, setSectionId] = useState();\n  const [item, setItem] = useState({});\n  const [optionId, setOptionId] = useState();\n  const [optionName, setOptionName] = useState();\n  const [showOption, setShowOption] = useState(false);\n  const [showSection, setShowSection] = useState(false);\n  const [showImportSection, setShowImportSection] = useState(false);\n  const [payloads, setPayloads] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [section, setSection] = useState();\n  const [option, setOption] = useState();\n  const [new_option_id, setOptionNewId] = useState();\n  const [item_id, setItemId] = useState();\n  const [option_type, setOptionType] = useState(\"add-section\");\n  const [brand_id, setRestaurantId] = useState();\n  const [personalizationSectionId, setPersonalizationSectionId] = useState();\n  const [\n    allPersonalizationOptionsSections,\n    setAllPersonalizationOptionsSections,\n  ] = useState();\n  const [visibleOptionsSections, setVisibleListOptionsSections] = useState(\n    false\n  );\n\n  async function getAllPersonalizationOptionsSections(id) {\n    const service = getService(\"personalization-menu-item-sections\");\n    if (id !== undefined) {\n      try {\n        const response = await service.find({\n          query: {\n            personalization_section_id: id,\n          },\n        });\n        setAllPersonalizationOptionsSections(response);\n      } catch (e) {\n        message.error(e.message);\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (personalizationSectionId !== undefined) {\n      getAllPersonalizationOptionsSections(personalizationSectionId);\n    }\n  }, [personalizationSectionId]);\n\n  const handleDisable = (value, item) => {\n    const service = getService(\"personalization-opt-sections\");\n    service\n      .patch(item.id, {\n        status: value ? \"active\" : \"inactive\",\n      })\n      .then((res) => {\n        message.success(\"Opción actualizada!\");\n      })\n      .catch((err) => {\n        message.error(err.message);\n      });\n  };\n  const handleOnEdit = (item) => {\n    if (item) {\n      setSection(item);\n      setSectionId(item.id);\n      setShowSection(true);\n    }\n  };\n  const handleOnEditOption = (item) => {\n    setOptionId(item.id);\n    setOption(item);\n    setShowOption(true);\n  };\n  const handleAddItem = (id) => {\n    setSectionId(id);\n    setOptionId(null);\n    setShowOption(true);\n  };\n  const handleRemove = (id) => {\n    const service = getService(\"personalization-opt-sections\");\n    if (id)\n      service\n        .remove(id)\n        .then((res) => {\n          message.success(\"Registro eliminado!\");\n          getSections();\n        })\n        .catch((err) => {\n          message.error(err.message);\n        });\n  };\n  const getData = (current_item) => {\n    current_item = current_item || item;\n    if (reference && current_item) {\n      const service = getService(reference);\n      setLoading(true);\n      service\n        .find({\n          query: {\n            menu_item_id: current_item.id ? current_item.id : undefined,\n            ...filterDefaultValues,\n          },\n        })\n        .then(({ data }) => {\n          setDataSource(data);\n          setLoading(false);\n        })\n        .catch((err) => {\n          message.error(err.message);\n        });\n    }\n  };\n  const handleChangeRadio = (field, value) => {\n    setOptionType(value);\n  };\n  const handleChangeProduct = (value) => {\n    setItemId(value);\n  };\n  const handleSubmit = () => {\n    let { sections_ids } = payloads;\n    /* return getData(); */\n    if (sections_ids && item_id) {\n      let bulk_payloads = sections_ids.map((it) => ({\n        personalization_section_id: it,\n        menu_item_id: item.id,\n      }));\n      const service = getService(\"personalization-menu-item-sections\");\n      service\n        .create(bulk_payloads)\n        .then((res) => {\n          getSections();\n          message.success(\"Sección copiada!\");\n          setShowImportSection(false);\n        })\n        .catch((err) => {\n          message.error(err.message);\n        });\n    }\n  };\n  const handleChangeSection = (field, value) => {\n    if (field != \"menu_item_id_origin\")\n      setPayloads({\n        ...payloads,\n        [field]: value,\n      });\n  };\n  const getSections = (item) => {\n    item = item || props.item;\n    if (item) {\n      const service = getService(\"personalization-menu-item-sections\");\n      setLoadingSections(true);\n      service\n        .find({\n          query: {\n            menu_item_id: item.id,\n            $client: {\n              fromAdmin: true,\n            },\n          },\n        })\n        .then(({ data }) => {\n          setSections(data);\n          setLoadingSections(false);\n        })\n        .catch((err) => {\n          message.error(err.message);\n          setLoadingSections(false);\n        });\n    }\n  };\n  const handleRemoveSection = (id) => {\n    const service = getService(\"personalization-menu-item-sections\");\n    if (id)\n      service\n        .remove(id)\n        .then((res) => {\n          message.success(\"Registro eliminado!\");\n          setSectionId(null);\n          setShowSection(false);\n          getSections(item);\n        })\n        .catch((err) => {\n          message.error(err.message);\n        });\n  };\n  const handleMenuClick = (key, record, item) => {\n    switch (key) {\n      case \"edit\":\n        handleOnEdit(record);\n        break;\n      case \"delete\":\n        handleRemoveSection(item.id);\n        break;\n      default:\n        break;\n    }\n  };\n  const MenuItems = (props) => (\n    <Menu\n      className={props.className || \"list-menu\"}\n      onClick={({ key }) => handleMenuClick(key, props.record, props.item)}\n    >\n      {\n        <Menu.Item key=\"edit\">\n          <Icon type=\"edit\" />\n          Editar\n        </Menu.Item>\n      }\n      {\n        <Menu.Item key=\"delete\">\n          <Icon type=\"delete\" />\n          Eliminar\n        </Menu.Item>\n      }\n    </Menu>\n  );\n  useEffect(() => {\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const restaurante = urlParams.get(\"brand_id\");\n    setRestaurantId(Number(restaurante));\n  }, []);\n  useEffect(() => {\n    if (props.item) {\n      // alert('item.id' + props.item.id); //desactivado por daniel mientras se soluciona\n      if (item.id != props.item.id) {\n        setItem(props.item);\n        getSections(props.item);\n      }\n    }\n  }, [props.item]);\n  if (loading_sections) return \"Cargando...\";\n  return (\n    <WrapperSection>\n      {title && <h2>{title}</h2>}\n      {sections.map((it) => {\n        let { personalization_section } = it;\n        if (\n          personalization_section &&\n          personalization_section.personalization_opt_sections\n        ) {\n          let description = `Min: ${personalization_section.min_selects} | Max: ${personalization_section.max_selects} | Obligatorio: ${personalization_section.required}`;\n\n          const onRemoveItem = (id) => {\n            personalization_section.personalization_opt_sections = personalization_section.personalization_opt_sections.filter(\n              (it) => it.id != id\n            );\n            handleRemove(id);\n          };\n          return (\n            <ListItems\n              goTop={false}\n              header={\n                <div className=\"item-head-cotainer\">\n                  <div className=\"head-title\">\n                    {personalization_section.name}\n                  </div>\n                  <div className=\"head-actions\">\n                    <Dropdown\n                      trigger={[\"click\"]}\n                      overlay={() => (\n                        <MenuItems item={it} record={personalization_section} />\n                      )}\n                    >\n                      <Button\n                        /* onClick={() => handleOnEdit(it.id)} */\n                        onClick={(e) => e.preventDefault()}\n                        type=\"link\"\n                        icon=\"more\"\n                      />\n                    </Dropdown>\n                  </div>\n                </div>\n              }\n              description={description}\n              bordered={false}\n              loading={loading}\n              mode=\"form\"\n              onAdd={() => handleAddItem(personalization_section.id)}\n              actionCreateText=\"Agregar Opción\"\n              /* renderItem={item => (<div>{JSON.stringify(item)}</div>)} */\n              fullHeight={false}\n              onDisable={handleDisable}\n              onRemove={onRemoveItem}\n              onEdit={handleOnEditOption}\n              dataSource={personalization_section.personalization_opt_sections}\n              showAvatar={false}\n              actions={{\n                edit: true,\n                delete: true,\n                disable: true,\n                create: true,\n                /* extra: [\n                                <Button onClick={(item) => handleOnEditOption(item)} type=\"link\" icon=\"edit\" />\n                            ] */\n              }}\n            />\n          );\n        }\n      })}\n      <Row gutter={0} type=\"flex\" justify=\"center\" align=\"middle\">\n        <Col span={12}>\n          <Button\n            block\n            onClick={() => {\n              setSectionId(null);\n              setSection(null);\n              setShowSection(true);\n            }}\n            icon=\"plus\"\n            type=\"link\"\n            size=\"large\"\n          >\n            Crear Sección\n          </Button>\n        </Col>\n        <Col span={12}>\n          <Button\n            block\n            onClick={() => {\n              setSectionId(null);\n              setSection(null);\n              setShowImportSection(true);\n            }}\n            icon=\"download\"\n            type=\"link\"\n            size=\"large\"\n          >\n            Importar Sección\n          </Button>\n        </Col>\n      </Row>\n      {showSection && (\n        <MyModal\n          title={`${sectionId ? \"Editar\" : \"Crear\"}`}\n          onCancel={() => {\n            setShowSection(false);\n          }}\n          visible={showSection}\n        >\n          <DinamicForm\n            id={sectionId}\n            source={\"personalization-section\"}\n            fields={[\n              {\n                xtype: \"textfield\",\n                flex: 1,\n                source: \"name\",\n                label: \"Nombre de la sección\",\n                placeholder: \"Ej. Salsas, Tamaño etc\",\n              },\n              {\n                xtype: \"radiogroupfield\",\n                flex: 1,\n                source: \"required\",\n                label: \"Tipo de Sección\",\n                options: [\n                  {\n                    value: \"true\",\n                    label: \"Obligatorio: El cliente debe escoger una opción.\",\n                  },\n                  {\n                    value: \"false\",\n                    label:\n                      \"Opcional: El cliente no esta obligado a escoger una opción.\",\n                  },\n                ],\n              },\n              {\n                xtype: \"span\",\n                text: \"¿Cuantas opciones puede seleccionar el cliente?\",\n              },\n              {\n                xtype: \"numberfield\",\n                source: \"min_selects\",\n                min: 1,\n                initial: 0,\n                label: \"Minimo\",\n                placeholder: \"Minimo de Selecciones\",\n              },\n              {\n                xtype: \"numberfield\",\n                min: 1,\n                initial: 1,\n                source: \"max_selects\",\n                label: \"Máximo\",\n                placeholder: \"Máximo de Selecciones\",\n              },\n              !sectionId\n                ? {\n                    type: \"hidden\",\n                    source: \"menu_item_id\",\n                    initial: item && item.id,\n                  }\n                : undefined,\n              !sectionId\n                ? {\n                    type: \"hidden\",\n                    source: \"brand_id\",\n                    initial: brand_id,\n                  }\n                : undefined,\n            ]}\n            initialValues={section}\n            textAcceptButton={sectionId ? \"Editar Sección\" : \"Crear Sección\"}\n            onSubmit={() => {\n              setSectionId(null);\n              setShowSection(false);\n              getSections(item);\n            }}\n          />\n        </MyModal>\n      )}\n      {/* modal-impportar-sections */}\n      {showImportSection && (\n        <MyModal\n          title={`Importar Sección`}\n          onCancel={() => {\n            setShowImportSection(false);\n          }}\n          visible={showImportSection}\n        >\n          <DinamicForm\n            source={\"personalization-section\"}\n            autoSubmit={false}\n            onChange={handleChangeSection}\n            footer={\n              <div>\n                <Button type=\"primary\" block onClick={handleSubmit}>\n                  Importar Sección\n                </Button>\n              </div>\n            }\n            fields={[\n              {\n                xtype: \"selectfield\",\n                reference: \"menu-items\",\n                label: \"Selecciona el producto\",\n                flex: 1,\n                name: \"menu_item_id_origin\",\n                onSelect: handleChangeProduct,\n                placeholder: \"Selecciona el producto\",\n                filterDefaultValues: {\n                  brand_id,\n                },\n              },\n              {\n                xtype: \"customfield\",\n                name: \"sections_ids\",\n                render: (record) => {\n                  return (\n                    <CustomSection\n                      name=\"sections_ids\"\n                      item_id={item_id}\n                      onChange={(selection) => {\n                        setPayloads({\n                          ...payloads,\n                          sections_ids: selection,\n                        });\n                      }}\n                    />\n                  );\n                },\n              },\n              !sectionId\n                ? {\n                    type: \"hidden\",\n                    source: \"menu_item_id\",\n                    initial: item && item.id,\n                  }\n                : undefined,\n              !sectionId\n                ? {\n                    type: \"hidden\",\n                    source: \"brand_id\",\n                    initial: brand_id,\n                  }\n                : undefined,\n            ]}\n            initialValues={section}\n            textAcceptButton={\"Importar Sección\"}\n            onSubmit={() => {\n              setSectionId(null);\n              setShowSection(false);\n              getData();\n            }}\n          />\n        </MyModal>\n      )}\n      {\n        <MyModal\n          title={`${optionId ? \"Editar Opción\" : \"Crear Opción\"}`}\n          onCancel={() => {\n            setShowOption(false);\n          }}\n          visible={showOption}\n        >\n          {optionId && (\n            <div\n              style={{\n                boxShadow: \" 3px 3px 3px rgba(0, 0, 0, 0.03)\",\n                border: \"1px solid #e8e8e85e\",\n                borderRadius: \" 20px\",\n                lineHeight: \"27px\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                gap: 12,\n                color: \"#ffffff\",\n                backgroundColor: \"#d60915\",\n              }}\n            >\n              <Icon\n                type=\"warning\"\n                style={{ color: \"#FFCC00\" }}\n                theme=\"filled\"\n              />\n              ATENCIÓN: Este cambio afectara a\n              {allPersonalizationOptionsSections?.total}\n              {allPersonalizationOptionsSections?.total > 1 ? \"items\" : \"item\"}\n            </div>\n          )}\n\n          {optionId && (\n            <div\n              style={{\n                width: \"100%\",\n                display: \"flex\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Button\n                type=\"link\"\n                icon=\"eye\"\n                style={{ display: \"flex\", alignItems: \"center\" }}\n                onClick={() =>\n                  setVisibleListOptionsSections(!visibleOptionsSections)\n                }\n              >\n                Ver items\n              </Button>\n            </div>\n          )}\n\n          {visibleOptionsSections && (\n            <ul\n              style={{\n                listStyle: \"none\",\n                boxShadow: \" 3px 3px 3px rgba(0, 0, 0, 0.05)\",\n                borderRadius: \" 20px\",\n                lineHeight: \"27px\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                gap: 12,\n              }}\n            >\n              {allPersonalizationOptionsSections?.data.map((it) => (\n                <li\n                  style={{\n                    boxShadow: \" 3px 3px 3px rgba(0, 0, 0, 0.03)\",\n                    border: \"1px solid #e8e8e85e\",\n                    borderRadius: \" 20px\",\n                    fontSize: \"1rem\",\n                    fontWeight: 500,\n                    color: \"#6610f2\",\n                  }}\n                >\n                  {it?.menu_item_id}\n                </li>\n              ))}\n            </ul>\n          )}\n\n          {!optionId && (\n            <span\n              style={{\n                margin: 4,\n              }}\n            >\n              Seleccionar Opción\n            </span>\n          )}\n          {!optionId && (\n            <SelectField\n              source=\"name\"\n              label=\"Seleccionar Opción\"\n              onSelect={(value) => {\n                setOptionNewId(value);\n              }}\n              style={{\n                width: \"100%\",\n              }}\n              actions={{ create: true }}\n              addPlaceholder=\"Agrega Nombre de la Opción\"\n              reference=\"personalization-options\"\n              placeholder=\"Seleccionar Opción\"\n              defaultValues={{ brand_id }}\n              filterDefaultValues={{\n                brand_id,\n                $sort: {\n                  name: 1,\n                },\n              }}\n            />\n          )}\n          <FormWrapper>\n            <DinamicForm\n              id={optionId}\n              onLoad={(data) =>\n                setPersonalizationSectionId(data?.personalization_section_id)\n              }\n              source={\"personalization-opt-sections\"}\n              fields={[\n                {\n                  type: \"hidden\",\n                  flex: 1,\n                  source: \"personalization_option_id\",\n                  validations: [\n                    { required: true, message: \"Debe seleccionar una opción\" },\n                  ],\n                  initial: new_option_id,\n                },\n                {\n                  xtype: \"numberfield\",\n                  source: \"price_tax_incl\",\n                  formatter: (value) =>\n                    `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n                  parser: (value) => value.replace(/\\$\\s?|(,*)/g, \"\"),\n                  min: 0,\n                  label: \"Precio impuesto incluido\",\n                  placeholder: \"Precio impuesto incluido\",\n                },\n                {\n                  xtype: \"selectfield\",\n                  source: \"tax_id\",\n                  validations: [\n                    {\n                      required: true,\n                      message: \"Este campo es requerido\",\n                    },\n                  ],\n                  reference: \"tax\",\n                  label: \"Impuestos incluidos en el precio\",\n                  placeholder: \"Impuestos incluidos en el precio\",\n                },\n\n                {\n                  type: \"hidden\",\n                  source: \"personalization_section_id\",\n                  initial: sectionId,\n                },\n              ]}\n              initialValues={section}\n              textAcceptButton={optionId ? \"Editar opción\" : \"Crear opción\"}\n              onSubmit={(e) => {\n                if (e) return;\n                setOptionId(null);\n                setShowOption(false);\n                getSections(item);\n              }}\n            />\n          </FormWrapper>\n        </MyModal>\n      }\n    </WrapperSection>\n  );\n};\nexport default ItemSection;\n","import React, { useState, useEffect } from 'react';\nimport { Col, InputNumber, message, Row, Select, Switch } from 'antd';\nimport AsyncButton from '../../components/asyncButton';\nimport { getService } from '../../services';\nimport { AiOutlineDelete } from 'react-icons/ai';\nimport _ from 'lodash';\n\n\nconst CALCULATE_PRICE_BY = [\n    {\n        id: 'fixed_percentage',\n        name: '% Fijo',\n    },\n    {\n        id: 'global_percentage',\n        name: '% Global',\n    },\n    {\n        id: 'fixed_amount',\n        name: '$ Fijo',\n    },\n    {\n        id: 'full_price',\n        name: 'Sin descuento',\n    },\n];\n\nconst EstablishmentBranchCost = ({ itemHasCost, itemCost, getDataCostItems, item, address, establishment_id, establishment_branch_id, key }) => {\n\n    const menuItemCostService = getService(\"establishment-menu-items-cost\");\n\n    const [price, setPrice] = useState();\n\n    function handleChangePrice(value) {\n        setPrice({ ...price, ...value });\n    };\n\n    const handleSaveCost = async (\n        id = \"\",\n        payload,\n        setterPayload,\n        establishmentId = \"\",\n        establishmentMenuItemId = \"\",\n        establishmentBranchId = \"\",\n        getterDataItems = () => { },\n        setterRefresh\n    ) => {\n        if (id !== \"\") {\n            try {\n                await menuItemCostService.patch(id, {\n                    price: payload.price,\n                    calculate_price_by: payload.calculate_price_by,\n                    [payload?.calculate_price_by]: payload[payload?.calculate_price_by] || undefined\n                }, {});\n                message.success(\"Valor de sucursal actualizado exitosamente\");\n                setterPayload({});\n                await getterDataItems(establishmentMenuItemId);\n                setterRefresh(false);\n            } catch (e) {\n                message.error(e.message);\n            }\n        } else {\n            try {\n                await menuItemCostService.create({\n                    price: payload.price,\n                    calculate_price_by: payload.calculate_price_by,\n                    [payload?.calculate_price_by]: payload[payload?.calculate_price_by] || undefined,\n                    establishment_id: establishmentId,\n                    establishment_menu_item_id: establishmentMenuItemId,\n                    establishment_branch_id: establishmentBranchId,\n                });\n                message.success(\"Valor de sucursal creado exitosamente\");\n                setterPayload({});\n                await getterDataItems(establishmentMenuItemId);\n                setterRefresh(false);\n            } catch (e) {\n                message.error(e.message);\n            }\n        }\n    };\n\n    const handleDeleteCost = async (\n        id,\n        establishmentMenuItemId = \"\",\n        getterDataItems = () => { },\n        setterRefresh\n    ) => {\n        try {\n            await menuItemCostService.remove(id);\n            getterDataItems(establishmentMenuItemId);\n            setterRefresh(false);\n            message.success(\"Se ha eliminado el valor exitosamente\");\n        } catch (e) {\n            message.error(\"error\", e.message);\n        }\n    };\n\n    const handleStatusCost = async (\n        id = \"\",\n        payload,\n        establishmentMenuItemId = \"\",\n        getterDataItems = () => { },\n    ) => {\n        if (id !== \"\") {\n            try {\n                await menuItemCostService.patch(id, { status: payload ? 'active' : 'inactive' }, {});\n                message.success(\"Estado de sucursal actualizado exitosamente\");\n                await getterDataItems(establishmentMenuItemId);\n            } catch (e) {\n                message.error(e.message);\n            }\n        }\n    };\n\n    useEffect(() => {\n        setPrice({ ...itemCost, calculate_price_by: itemCost?.calculate_price_by || CALCULATE_PRICE_BY[1].id });\n    }, [itemCost])\n\n\n    return (\n        <Col flex={1} key={key}>\n            <Row>\n                {address}\n            </Row>\n            <Row gutter={[4, 16]}>\n                <Col flex={0.1}>\n                    <InputNumber\n                        min={1}\n                        placeholder=\"Precio...\"\n                        name=\"Price\"\n                        style={{ width: \"97%\" }}\n                        value={price?.price}\n                        formatter={(value) =>\n                            `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                        }\n                        parser={(value) => value.replace(/\\$\\s?|(,*)/g, \"\")}\n                        onChange={(value) => {\n                            handleChangePrice({ price: value });\n                        }}\n                    />\n                </Col>\n                <Col flex={0.1} >\n                    <Select\n                        value={\n                            price?.calculate_price_by\n                        }\n                        onSelect={(value) =>\n                            handleChangePrice({ calculate_price_by: value })\n                        }\n                    >\n                        {\n                            _.map(CALCULATE_PRICE_BY, (option, index) =>\n                                <Select.Option key={index} value={option.id}>\n                                    {option.name}\n                                </Select.Option>\n                            )\n                        }\n                    </Select>\n                    {\n                        price?.calculate_price_by === CALCULATE_PRICE_BY[0].id &&\n                        <InputNumber\n                            min={0}\n                            style={{ minWidth: '150px' }}\n                            formatter={(value) => `${value}%`}\n                            parser={(value) => value.replace('%', '')}\n                            value={price?.fixed_percentage}\n                            onChange={(value) => {\n                                handleChangePrice({ fixed_percentage: value });\n                            }}\n                        />\n                    }\n                    {\n                        price?.calculate_price_by === CALCULATE_PRICE_BY[2].id &&\n                        <InputNumber\n                            min={1}\n                            style={{ minWidth: '150px' }}\n                            formatter={(value) => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n                            parser={(value) => value.replace(/\\$\\s?|(,*)/g, \"\")}\n                            value={price?.fixed_amount}\n                            onChange={(value) => {\n                                handleChangePrice({ fixed_amount: value });\n                            }}\n                        />\n                    }\n                </Col>\n                <Col flex={0.7}>\n                    <div style={{ display: \"flex\", alignItems: \"center\", gap: 12 }}>\n                        <AsyncButton\n                            type=\"primary\"\n                            style={{ borderRadius: '0.5rem' }}\n                            onClick={async () => {             \n                                await handleSaveCost(\n                                    itemCost?.id,\n                                    price,\n                                    setPrice,\n                                    establishment_id,\n                                    item?.id,\n                                    establishment_branch_id,\n                                    getDataCostItems,\n                                    () => { }\n                                );\n                            }}\n                            children={itemHasCost ? <>Actualizar</> : <>Crear</>}\n                        />\n                        {\n                            itemHasCost\n                            && (\n                                <>\n                                    <Switch\n                                        checked={\n                                            itemCost?.status === 'active'\n                                        }\n                                        onChange={(value) => handleStatusCost(\n                                            itemCost?.id,\n                                            value,\n                                            item?.id,\n                                            getDataCostItems,\n                                        )}\n                                    />\n                                    <AsyncButton\n                                        style={{ borderRadius: '0.5rem' }}\n                                        onClick={async () => {\n                                            await handleDeleteCost(\n                                                itemCost?.id,\n                                                item?.id,\n                                                getDataCostItems,\n                                                () => { }\n                                            );\n                                        }}\n                                        icon={<AiOutlineDelete />}\n                                    />\n                                </>\n                            )\n                        }\n                    </div>\n                </Col>\n            </Row>\n        </Col>\n    );\n}\n\nexport default EstablishmentBranchCost;","import React, { useState, useEffect, useCallback } from \"react\";\nimport _ from \"lodash\";\nimport qs from \"qs\";\nimport {\n  Input,\n  Icon,\n  Tooltip,\n  message,\n  Row,\n  Col,\n  InputNumber,\n  Divider,\n  Select,\n  Checkbox,\n  DatePicker\n} from \"antd\";\nimport GalleryUploader from \"../../components/com/gallery/GalleryUploader\";\nimport { getService } from \"../../services\";\nimport { WrapperForm, Headline } from \"./style\";\nimport AsyncButton from \"../../components/asyncButton\";\nimport { FileUploader } from \"../../components/com/form/\";\n\nimport RichTextField from \"../../components/richTextField\";\nimport EstablishmentBranchCost from \"./EstablishmentBranchCost\";\nimport locale from \"antd/es/date-picker/locale/es_ES\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\n\nconst { TextArea } = Input;\n\nconst FormItems = ({\n  item,\n  reference,\n  establishment_id,\n  menuCategoryId,\n  itemSelectorAfterCreate,\n  categoriesList,\n  establishmentCategoriesList,\n  categoryField,\n  establishmentBranch,\n  ...props\n}) => {\n\n  const userRole = useSelector(({ appReducer }) => appReducer?.user?.role);\n\n\n  const [payload, setPayload] = useState();\n  const [dataSource, setDataSource] = useState({ ...item });\n  const [additionalInformation, setAdditionalInformation] = useState(item?.additional_information);\n  const [dataSourceCost, setDataSourceCost] = useState([]);\n  const [globalPrice, setGlobalPrice] = useState(0);\n\n  const [htmlEditorVisible, setHtmlEditorVisible] = useState(false);\n\n\n  const [query, setQuery] = useState(\n    qs.parse(window.location.search.replace(/\\?/, \"\"))\n  );\n\n  const [isVisibleCropper, setIsVisibleCropper] = useState();\n  let location = window.location.search;\n\n  const menuItemsService = getService(\"establishment-menu-items\");\n  const menuItemCostService = getService(\"establishment-menu-items-cost\");\n\n\n  const getDataItemsOverwrite = useCallback(async () => {\n    const itemCategory = item && item[categoryField];\n    setDataSource({ ...item, [categoryField]: itemCategory ? item[categoryField] : menuCategoryId === -1 ? undefined : menuCategoryId });\n    setPayload({ [categoryField]: itemCategory ? item[categoryField] : menuCategoryId === -1 ? undefined : menuCategoryId })\n    setGlobalPrice(0);\n    setAdditionalInformation(item?.additional_information);\n  }, [\n    item\n  ]);\n\n  const dataFormatter = (value) => {\n    let temp = value;\n    for (let key in value) {\n      if (value[key] === null) {\n        delete temp[key];\n      }\n    }\n    return temp;\n  }\n\n  const handleSubmit = async () => {\n    try {\n      if (!!dataSource.id) {\n        const finalData = dataFormatter({ ...payload, additional_information: additionalInformation });\n\n        await menuItemsService.patch(\n          dataSource.id,\n          {\n            ...finalData,\n          },\n          {}\n        ).then((response) => {\n          props.onSubmit(null, response);\n          setDataSource({\n            ...response\n          });\n          setAdditionalInformation(response?.additional_information);\n        });\n        message.success(\"Item editado exitosamente\");\n      } else {\n\n        if (!payload.apparta_booking_status)\n          payload.apparta_booking_status = 'inactive'\n\n        if (!payload.apparta_menu_status)\n          payload.apparta_menu_status = 'inactive'\n\n        await menuItemsService.create({\n          ...payload,\n          additional_information: additionalInformation,\n          establishment_id: establishment_id\n        }).then((response) => {\n          props.onSubmit(null, response);\n          setDataSource({\n            ...response\n          });\n          setAdditionalInformation(response?.additional_information);\n        });\n        message.success(\"Item creado exitosamente\");\n      }\n    } catch (e) {\n      message.error(e.message);\n    }\n  }\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n    setPayload({ ...payload, [name]: value });\n    setDataSource({ ...dataSource, [name]: value });\n  }\n\n  const handleUploadFinish = (field, url, file, _id) => {\n    menuItemsService.patch(_id, {\n      [field]: String(url),\n    })\n      .then((response) => {\n        setDataSource({\n          ...response\n        });\n        props.onSubmit(null, response);\n      })\n      .catch((err) => message.error(err.message));\n  };\n\n  const getDataCostItems = useCallback(\n    async function (id) {\n      try {\n        if (item !== null) {\n          const response = await menuItemCostService.find({\n            query: {\n              $limit: 1000,\n              establishment_menu_item_id: id,\n            },\n          });\n          setDataSourceCost(response.data);\n        }\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [item, menuItemCostService]\n  );\n\n  const handleGlobalPrice = async (\n    price,\n    dataFormCost,\n    branchs,\n    establishmentMenuItemId = \"\",\n    establishmentId\n  ) => {\n    try {\n      const newPrice = branchs\n        .filter((it, index) => {\n          return !_.find(dataFormCost, ({ establishment_branch_id }) => it.id === establishment_branch_id);\n        })\n        .map((it) => ({\n          establishment_branch_id: it?.id,\n          establishment_id: it?.establishment_id,\n          establishment_menu_item_id: establishmentMenuItemId,\n          price: price,\n        }));\n\n      let responsePatch = [];\n      if (branchs.length > newPrice.length)\n        responsePatch = await menuItemCostService.patch(\n          null,\n          {\n            price: price,\n          },\n          {\n            query: {\n              establishment_id: establishmentId,\n              establishment_menu_item_id: establishmentMenuItemId,\n            },\n          }\n        );\n      let responseCreate = [];\n      if (newPrice.length > 0)\n        responseCreate = await menuItemCostService\n          .create(newPrice);\n      setDataSourceCost([...responsePatch, ...responseCreate])\n      message.success(\"Los registros se han modificado exitosamente\");\n    } catch (e) {\n      message.error(e.message);\n    }\n  }\n\n\n\n  useEffect(() => {\n    getDataCostItems(item?.id).then();\n  }, [getDataCostItems, item]);\n\n  useEffect(() => {\n    getDataItemsOverwrite().then();\n  }, [item, getDataItemsOverwrite]);\n\n\n  useEffect(() => {\n    setQuery(qs.parse(window.location.search.replace(/\\?/, \"\")));\n  }, [location]);\n\n  useEffect(() => {\n    setHtmlEditorVisible(false);\n    setTimeout(() => {\n      setHtmlEditorVisible(true);\n    }, 1000)\n  }, [item]);\n\n  return (\n    <WrapperForm>\n      <Row gutter={[24, 24]}>\n        {\n          (dataSource?.id && !isVisibleCropper && dataSource?.path_image_main) &&\n          <Row justify=\"center\" style={{ width: \"100%\" }}>\n            <Col>\n              <GalleryUploader\n                refresh={(e, response) => {\n                  setDataSource({ ...response });\n                  props.onSubmit(null, response);\n                }}\n                size=\"large\"\n                record={dataSource}\n                source=\"path_image_main\"\n                withCropper={true}\n                setterVisibleCropper={setIsVisibleCropper}\n                reference=\"establishment-menu-items\"\n                _id={dataSource.id}\n                path={`brands/${+query?.brand_id}/menu-items`}\n              />\n            </Col>\n          </Row>\n        }\n        {\n          dataSource?.id &&\n          <Col span={24}>\n            <FileUploader\n              preview={false}\n              label=\"Subir Imagen\"\n              path={`establishment-menu-items/`}\n              name='path_image_main'\n              source='path_image_main'\n              style={{ borderRadius: '0.5rem' }}\n              onFinish={(url, file) =>\n                handleUploadFinish(\"path_image_main\", url, file, item.id)\n              }\n            />\n          </Col>\n        }\n        {!!query?.restaurant_id && !item && (\n          <Col span={24} align=\"center\">\n            <Headline\n              style={{\n                width: \"100%\",\n                color: \"#ffffff\",\n                backgroundColor: \"#d60915\",\n                boxShadow: \"3px 3px 3px rgba(0, 0, 0, 0.03) !important\",\n                border: \"1px solid #e8e8e85e !important\",\n                borderRadius: \"20px\",\n                lineHeight: \"27px\",\n                gap: 12,\n                alignContent: \"center\",\n                justifyContent: \"center\",\n                fontSize: \"0.84rem\"\n              }}\n            >\n              <Icon\n                type=\"warning\"\n                style={{ color: \"#FFCC00\" }}\n                theme=\"filled\"\n              />\n              El producto se agregara a todos los restaurantes asociados a la\n              marca\n            </Headline>\n          </Col>\n        )}\n        <Col span={24}>\n          <Headline>Nombre *60 caracteres</Headline>\n          <Tooltip\n            title={\n              !!query?.restaurant_id && item\n                ? \"Este campo solo puede ser editado en el template general\"\n                : null\n            }\n          >\n            <Input\n              style={{ width: \"100%\" }}\n              disabled={!!query?.restaurant_id && item}\n              name=\"name\"\n              value={dataSource?.name}\n              onChange={handleChange}\n              showCount\n              maxLength={60}\n            />\n          </Tooltip>\n        </Col>\n        <Col span={24}>\n          <Headline>Categoría Apparta</Headline>\n          <Tooltip\n            title={\n              !!query?.restaurant_id && item\n                ? \"Este campo solo puede ser editado en el template general\"\n                : null\n            }\n          >\n            <Select\n              name={'category'}\n              value={dataSource?.category || 'Sin categoría'}\n              style={{ width: \"100%\" }}\n              onChange={(value) => handleChange({ target: { name: 'category', value: value } })}\n            >\n              {\n                _.map(categoriesList, (option, index) =>\n                  <Select.Option key={index} value={option.id}>\n                    {option.name}\n                  </Select.Option>\n                )\n              }\n            </Select>\n          </Tooltip>\n        </Col>\n        <Col span={24}>\n          <Headline>Categoría propia</Headline>\n          <Tooltip\n            title={\n              _.isEmpty(establishmentCategoriesList)\n                ? \"No existen categorías propias\"\n                : null\n            }\n          >\n            <Select\n              name={'establishment_menu_items_category_id'}\n              value={dataSource?.establishment_menu_items_category_id && dataSource?.establishment_menu_items_category_id !== -1 ? dataSource?.establishment_menu_items_category_id : 'Sin categoría'}\n              style={{ width: \"100%\" }}\n              onChange={(value) => handleChange({ target: { name: 'establishment_menu_items_category_id', value: value } })}\n              disabled={_.isEmpty(establishmentCategoriesList)}\n            >\n              {\n                _.map(establishmentCategoriesList, (option, index) =>\n                  <Select.Option key={index} value={option.id}>\n                    {option.name}\n                  </Select.Option>\n                )\n              }\n            </Select>\n          </Tooltip>\n        </Col>\n        <Col span={24}>\n          <Headline>Descripción *500 caracteres</Headline>\n          <Tooltip\n            title={\n              !!query?.restaurant_id && item\n                ? \"Este campo solo puede ser editado en el template general\"\n                : null\n            }\n          >\n            <TextArea\n              disabled={!!query?.restaurant_id && item}\n              style={{ width: \"100%\" }}\n              name=\"description\"\n              value={dataSource?.description}\n              onChange={handleChange}\n              showCount\n              maxLength={500}\n            />\n          </Tooltip>\n        </Col>\n        <Col span={24} style={{ minHeight: \"299px\" }}>\n          <Headline>Información adicional</Headline>\n          {\n            htmlEditorVisible &&\n            <RichTextField\n              name='additional_information'\n              defaultValue={additionalInformation}\n              onChange={(value) => setAdditionalInformation(value)}\n            />\n          }\n          {\n            !htmlEditorVisible &&\n            <RichTextField\n              name='additional_information'\n              onChange={(value) => setAdditionalInformation(value)}\n            />\n          }\n        </Col>\n        <Col span={24}>\n          <Checkbox\n            name='apparta_menu_status'\n            checked={dataSource?.apparta_menu_status === 'active'}\n            onChange={(value) => handleChange({ target: { name: 'apparta_menu_status', value: value.target.checked ? 'active' : 'inactive' } })}\n          >\n            Estado Apparta Menu\n          </Checkbox>\n        </Col>\n        <Col span={24}>\n          <Checkbox\n            name='apparta_booking_status'\n            checked={dataSource?.apparta_booking_status === 'active'}\n            onChange={(value) => handleChange({ target: { name: 'apparta_booking_status', value: value.target.checked ? 'active' : 'inactive' } })}\n          >\n            Estado Apparta Booking\n          </Checkbox>\n        </Col>\n        {\n          userRole === 'admin' && (\n            <>\n              <Col span={24}>\n                <Checkbox\n                  name='is_rating_review_campaign'\n                  checked={dataSource?.is_rating_review_campaign === 'true'}\n                  onChange={(value) => handleChange({ target: { name: 'is_rating_review_campaign', value: value.target.checked ? 'true' : 'false' } })}\n                >\n                  Estado calificación campaña de producto\n                </Checkbox>\n              </Col>\n              {\n                dataSource?.is_rating_review_campaign === 'true' && (\n                  <>\n                    <Col span={24}>\n                      <Headline>Nombre de la campaña *60 caracteres</Headline>\n                      <Input\n                        style={{ width: \"100%\" }}\n                        disabled={!!query?.restaurant_id && item}\n                        name=\"rating_review_campaign_name\"\n                        value={dataSource?.rating_review_campaign_name}\n                        onChange={handleChange}\n                        showCount\n                        maxLength={60}\n                      />\n                    </Col>\n                    <Row style={{ width: '100%' }} justify='space-evenly'>\n                      <Col span={10}>\n                        <Headline>Fecha Inicio</Headline>\n                        <DatePicker\n                          style={{ width: '100%' }}\n                          locale={locale}\n                          name='rating_review_campaign_start_date'\n                          format='YYYY-MM-DD'\n                          value={dataSource?.rating_review_campaign_start_date && moment(dataSource?.rating_review_campaign_start_date)}\n                          onChange={(moment, value) => handleChange({ target: { name: 'rating_review_campaign_start_date', value: value } })}\n                        />\n                      </Col>\n                      <Col span={10}>\n                        <Headline>Fecha Fin</Headline>\n                        <DatePicker\n                          style={{ width: '100%' }}\n                          locale={locale}\n                          name='rating_review_campaign_end_date'\n                          format='YYYY-MM-DD'\n                          value={dataSource?.rating_review_campaign_end_date && moment(dataSource?.rating_review_campaign_end_date)}\n                          onChange={(moment, value) => handleChange({ target: { name: 'rating_review_campaign_end_date', value: value } })}\n                        />\n                      </Col>\n                    </Row>\n                  </>\n                )\n              }\n            </>\n          )\n        }\n        <Col span={24} align=\"center\">\n          <AsyncButton\n            type=\"primary\"\n            style={{ borderRadius: '0.5rem' }}\n            onClick={handleSubmit}\n          >\n            {item ? \"Guardar cambios\" : \"Agregar item\"}\n          </AsyncButton>\n        </Col>\n        {item && (\n          <>\n            <Col span={24}>\n              <Divider\n                orientation=\"center\"\n                style={{\n                  fontSize: \"1.2rem\",\n                  fontStyle: \"italic\",\n                  color: \"var(--purple)\",\n                }}\n              >\n                Precios en sucursales\n              </Divider>\n            </Col>\n            <Col span={24}>\n              <Row style={{ color: 'red' }}>\n                Actualizar todos los precios\n              </Row>\n              <Row>\n                <Col span={12}>\n                  <InputNumber\n                    min={1}\n                    placeholder=\"Precio...\"\n                    name=\"Price\"\n                    style={{ width: \"97%\" }}\n                    value={globalPrice}\n                    formatter={(value) =>\n                      `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                    }\n                    parser={(value) => value.replace(/\\$\\s?|(,*)/g, \"\")}\n                    onChange={(e) => {\n                      setGlobalPrice(e);\n                    }}\n                  />\n                </Col>\n                <Col span={12}>\n                  <AsyncButton\n                    type=\"primary\"\n                    style={{ borderRadius: '0.5rem' }}\n                    onClick={async () => {\n                      await handleGlobalPrice(\n                        globalPrice,\n                        dataSourceCost,\n                        establishmentBranch,\n                        item?.id,\n                        establishment_id\n                      );\n                    }}\n                    children={<>Actualizar</>}\n                  />\n                </Col>\n              </Row>\n            </Col>\n          </>\n        )}\n        {!!item?.id &&\n          establishmentBranch &&\n          establishmentBranch.map((it, index) => {\n            const itemHasCost = dataSourceCost.find((element) => element.establishment_branch_id === it.id);\n            const itemCost = dataSourceCost.find(\n              (element) =>\n                element.establishment_menu_item_id === item?.id &&\n                element.establishment_branch_id === it.id\n            );\n            return (\n              <EstablishmentBranchCost\n                itemCost={itemCost}\n                itemHasCost={itemHasCost}\n                item={{ id: item?.id }}\n                getDataCostItems={getDataCostItems}\n                address={it?.address}\n                establishment_id={establishment_id}\n                key={index}\n                establishment_branch_id={it?.id}\n              />\n            );\n          })\n        }\n      </Row >\n    </WrapperForm >\n  );\n};\n\nexport default FormItems;","import { InputNumber, message, Modal } from \"antd\";\nimport React, { useState } from \"react\";\nimport SelectField from \"../../components/com/form/SelectField\";\nimport { getService } from \"../../services\";\nimport { Headline } from \"./style\";\n\nconst { confirm } = Modal;\n\nexport const choiceSend = [\n  {\n    id: \"true\",\n    name: \"Disponible\"\n  },\n  {\n    id: \"false\",\n    name: \"No disponible\"\n  }\n];\n\nexport const choiceStatus = [\n  {\n    id: \"active\",\n    name: \"Activo\"\n  },\n  {\n    id: \"inactive\",\n    name: \"Inactivo\"\n  }\n];\n\nexport async function getRestaurants(\n  setterDataSource,\n  setterIsLoading,\n  brand_id = \"\"\n) {\n  setterIsLoading(true);\n  const service = getService(\"users-brand-permissions\");\n  if (brand_id !== \"\") {\n    try {\n      const response = await service.find({\n        query: {\n          $limit: 100,\n          brand_id: brand_id,\n          $client: { restaurants: true }\n        }\n      });\n      setterDataSource(response);\n      setterIsLoading(false);\n    } catch (e) {\n      message.error(e.message);\n      setterIsLoading(false);\n    }\n  }\n}\n\nexport const statusFormatter = {\n  active: \"Activo\",\n  inactive: \"Inactivo\",\n  null: \"nulo\"\n};\n\n/* createOverwriteValue Esta funcion tiene puede crear un nuevo overwrite, para ello necesita\n * @params reference: La referencia del servicio en el cual se crearea\n * @params payload: Los datos para la creacion, se recomienda enviar el objeto completo y depurar dentro de la funcion campos no deseados\n * @params action: Esta permite que se recarge la lista de items con la nueva informacion\n * @params getDataItem: Es una funcion que se encargaa de volver a cargar la data del ite que se esta utilizando\n * @params idItem: Este es el id del item que se encuentra actualizando debe ser entero\n * @params setterData: Esta puede ser cualquier funcion set que permita recuperar los datos de la respuesta\n * */\nexport async function createOverwriteValue(\n  reference,\n  payload,\n  action,\n  getDataItem,\n  idItem,\n  setterData\n) {\n  const service = getService(reference);\n  try {\n    const response = await service.create({\n      restaurant_id: payload.id,\n      menu_item_id: payload.menu_item_id,\n      ...payload,\n      name: undefined,\n      overwrite: undefined,\n      price_tax_excl: undefined\n    });\n    idItem && (await getDataItem(idItem, setterData));\n    payload?.menu_item_id &&\n      (await action(null, { ...response, id: payload?.menu_item_id }));\n    message.success(\"Item creado exitosamente\");\n  } catch (e) {\n    message.error(e.message);\n  }\n}\n\nexport async function updateOverwriteValue(\n  reference,\n  payload,\n  action,\n  getDataItem,\n  idItem,\n  setterData\n) {\n  /* updateOverwriteValue Esta funcion tiene puede actualizar un overwrite existente\n   * @params reference: La referencia del servicio el cual generara la actulizacion\n   * @params payload: Los datos para la actualizacion, se recomienda enviar el objeto completo y depurar dentro de la funcion campos no deseados\n   * @params action: Esta permite que se recarge la lista de items con la nueva informacion\n   * @params getDataItem: Es una funcion que se encargaa de volver a cargar la data del ite que se esta utilizando\n   * @params idItem: Este es el id del item que se encuentra actualizando debe ser entero\n   * @params setterData: Esta puede ser cualquier funcion set que permita recuperar los datos de la respuesta\n   * */\n  const service = getService(reference);\n  try {\n    const response = await service.patch(\n      payload.id,\n      {\n        ...payload,\n        name: undefined,\n        tax_value: undefined,\n        overwrite: undefined,\n        price_tax_excl: undefined\n      },\n      {}\n    );\n    idItem && (await getDataItem(idItem, setterData));\n    payload?.menu_item_id &&\n      (await action(null, { ...response, id: payload?.menu_item_id }));\n    message.success(\"Item actualizado exitosamente\");\n  } catch (e) {\n    message.error(e.message);\n  }\n}\n\nexport async function getDataOnlyItem(id, setterItem) {\n  const serviceItems = getService(\"menu-items\");\n  if (id !== null && id !== undefined) {\n    try {\n      const response = await serviceItems.get(id);\n      setterItem(response);\n    } catch (e) {\n      message.error(e.message);\n    }\n  }\n}\n\nexport const ModalCreateOverwrite = ({\n  isOpen,\n  setterIsOpen,\n  item,\n  type,\n  field,\n  name,\n  record,\n  onSubmit: setterAction,\n  setNewItem\n}) => {\n  const [payload, setPayload] = useState({});\n  return (\n    <Modal\n      visible={isOpen}\n      onCancel={() => setterIsOpen(false)}\n      destroyOnClose={true}\n      title=\"Generar un nuevo overwrite\"\n      onOk={async () => {\n        record.overwrite === false\n          ? await createOverwriteValue(\n              \"menu-items-restaurant-overwrite\",\n              {\n                ...payload,\n                restaurant_id: record?.id,\n                menu_item_id: record?.menu_item_id\n              },\n              setterAction,\n              getDataOnlyItem,\n              item.id,\n              setNewItem\n            )\n          : await updateOverwriteValue(\n              \"menu-items-restaurant-overwrite\",\n              {\n                ...payload,\n                id: record.id,\n                restaurant_id: record.restaurant_id\n              },\n              setterAction,\n              getDataOnlyItem,\n              item.id,\n              setNewItem\n            );\n        setPayload({});\n        setterIsOpen(false);\n      }}\n    >\n      <>\n        {(type === \"status\" || type === \"send\") && (\n          <>\n            <Headline>\n              {type === \"status\" ? \"Estado\" : \"Tipo de envio\"}\n            </Headline>\n            <SelectField\n              choices={type === \"status\" ? choiceStatus : choiceSend}\n              placeholder=\"Seleccione un estado\"\n              style={{ width: \"100%\" }}\n              onChange={e => {\n                setPayload({ ...payload, [name]: e });\n              }}\n            />\n          </>\n        )}\n        {type === \"price\" && (\n          <>\n            <Headline>{field === \"tax\" ? \"Precio\" : \"precio tachado\"}</Headline>\n            <InputNumber\n              size=\"large\"\n              min={1000}\n              value={\n                name === \"price_tax_incl\"\n                  ? item?.price_tax_incl\n                  : item?.strikethrough_price\n              }\n              style={{ width: \"100%\" }}\n              formatter={value =>\n                `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n              }\n              parser={value => value.replace(/\\$\\s?|(,*)/g, \"\")}\n              onChange={e => setPayload({ ...payload, [name]: e })}\n            />\n          </>\n        )}\n      </>\n    </Modal>\n  );\n};\n\nexport async function handleDelete(id, getterData) {\n  const serviceDepartments = getService(\"departments\");\n  if (id) {\n    confirm({\n      title: \"¿Estas seguro que deseas eliminar este departamento?\",\n      content: \"Oprime OK para eliminar el registro.\",\n      onOk() {\n        serviceDepartments\n          .remove(id)\n          .then(_ => {\n            message.success(\"Registro eliminado exitosamente eliminado\");\n            getterData();\n          })\n          .catch(err => message.error(err.message));\n      },\n      onCancel() {}\n    });\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Modal,\n  InputNumber,\n  Divider,\n  Row,\n  Icon,\n  Col,\n  Table,\n  Button,\n  Tooltip,\n  Switch,\n} from \"antd\";\nimport qs from \"qs\";\nimport numeral from \"numeral\";\n\nimport {\n  getRestaurants,\n  statusFormatter,\n  updateOverwriteValue,\n  ModalCreateOverwrite,\n  getDataOnlyItem,\n} from \"./index\";\nimport { Headline, Labels } from \"./style\";\n\nconst MenuItemInfo = ({ isVisible, setterIsVisible, item, onSubmit }) => {\n  let location = window.location.search;\n  const [isLoading, setIsLoading] = useState(false);\n  const [dataSourceRestaurants, setDataSourceRestaurants] = useState([]);\n  const [\n    dataSourceOverwriteForRestaurants,\n    setDataSourceOverwriteForRestaurants,\n  ] = useState([]);\n  const [finalData, setFinalData] = useState([]);\n  const [query, setQuery] = useState(\n    qs.parse(window.location.search.replace(/\\?/, \"\"))\n  );\n  const [isOpenEdit, setIsOpenEedit] = useState(false);\n  const [configField, setConfigField] = useState({\n    field: \"\",\n    type: \"\",\n    name: \"\",\n    record: {},\n  });\n  useEffect(() => {\n    setQuery(qs.parse(window.location.search.replace(/\\?/, \"\")));\n  }, [location]);\n  function handleClickNewOverwrite(type, field, name, record) {\n    setIsOpenEedit(true);\n    setConfigField({ type: type, field: field, name: name, record: record });\n  }\n  const [newItem, setNewItem] = useState({});\n  const [payloadPriceGlobal, setPayloadPriceGlobal] = useState({});\n\n  useEffect(() => {\n    if (item?.id !== null && item?.id !== undefined) {\n      getDataOnlyItem(item?.id, setNewItem).then();\n    }\n  }, [item?.id]);\n\n  useEffect(() => {\n    getRestaurants(\n      setDataSourceRestaurants,\n      setIsLoading,\n      query?.brand_id\n    ).then();\n  }, [query]);\n\n  useEffect(() => {\n    let hasOverwrite;\n    if (Object.keys(newItem).length > 0) {\n      hasOverwrite = !!newItem?.menu_items_restaurant_overwrite.length;\n    }\n    if (hasOverwrite) {\n      setDataSourceOverwriteForRestaurants(\n        newItem?.menu_items_restaurant_overwrite\n      );\n    }\n  }, [newItem]);\n\n  useEffect(() => {\n    let indicators = dataSourceOverwriteForRestaurants\n      .filter(\n        (it, index) => it.restaurant_id === dataSourceRestaurants[index]?.id\n      )\n      .map((it) => ({\n        ...it,\n        overwrite: true,\n        name: dataSourceRestaurants.filter(\n          (it2) => it2?.id === it.restaurant_id\n        )[0]?.name,\n      }));\n    let indicatosRestaurants = dataSourceRestaurants\n      .filter((it, index) => it?.id !== indicators[index]?.restaurant_id)\n      .map((it) => ({\n        name: it?.name,\n        id: it?.id,\n        menu_item_id: newItem?.id,\n        status: newItem?.status,\n        price_tax_incl: newItem?.price_tax_incl,\n        delivery: newItem?.delivery,\n        pickup: newItem?.pickup,\n        instore: newItem?.instore,\n        strikethrough_price: newItem?.strikethrough_price,\n        overwrite: false,\n      }));\n    setFinalData([...indicators, ...indicatosRestaurants]);\n  }, [dataSourceOverwriteForRestaurants, newItem, dataSourceRestaurants]);\n\n  const columns = [\n    {\n      title: \"Restaurante\",\n      dataIndex: \"name\",\n      align: \"center\",\n      width: 150,\n    },\n    {\n      title: \"Precio con tasa incluida\",\n      dataIndex: \"price_tax_incl\",\n      render: (record, object) => {\n        let fieldValue;\n        return (\n          <>\n            {object.overwrite && record !== null && (\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  gap: 4,\n                  alignItems: \"center\",\n                }}\n              >\n                <InputNumber\n                  size=\"small\"\n                  value={record}\n                  style={{ width: \"70%\" }}\n                  formatter={(value) =>\n                    `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                  }\n                  parser={(value) => value.replace(/\\$\\s?|(,*)/g, \"\")}\n                  onChange={(value) => (fieldValue = value)}\n                />\n                <Button\n                  type=\"primary\"\n                  icon=\"save\"\n                  size=\"small\"\n                  style={{ display: \"flex\", alignItems: \"center\" }}\n                  onClick={async () => {\n                    await updateOverwriteValue(\n                      \"menu-items-restaurant-overwrite\",\n                      {\n                        ...object,\n                        price_tax_incl: fieldValue,\n                      },\n                      onSubmit,\n                      getDataOnlyItem,\n                      item?.id,\n                      setNewItem\n                    );\n                  }}\n                />\n\n                <Button\n                  type=\"primary\"\n                  icon=\"delete\"\n                  size=\"small\"\n                  style={{\n                    backgroundColor: \"red\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                  }}\n                  onClick={async () => {\n                    await updateOverwriteValue(\n                      \"menu-items-restaurant-overwrite\",\n                      {\n                        ...object,\n                        price_tax_incl: null,\n                      },\n                      onSubmit,\n                      getDataOnlyItem,\n                      item?.id,\n                      setNewItem\n                    );\n                  }}\n                />\n              </div>\n            )}\n            {object.overwrite && record === null && (\n              <>\n                <div\n                  style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                  }}\n                >\n                  <p>Tomando el valor general</p>\n                  <Tooltip title=\"Definir un precio especifico\" placement=\"top\">\n                    <Button\n                      type=\"link\"\n                      icon=\"edit\"\n                      style={{ marginBottom: 12 }}\n                      onClick={() =>\n                        handleClickNewOverwrite(\n                          \"price\",\n                          \"tax\",\n                          \"price_tax_incl\",\n                          object\n                        )\n                      }\n                    />\n                  </Tooltip>\n                </div>\n              </>\n            )}\n            {!object.overwrite && (\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                }}\n              >\n                <p>\n                  {`$ ${numeral(\n                    record !== null ? record : item?.price_tax_incl\n                  ).format(\"0,0\")}`}\n                </p>\n                <Button\n                  type=\"link\"\n                  icon=\"edit\"\n                  style={{ marginBottom: 12 }}\n                  onClick={() =>\n                    handleClickNewOverwrite(\n                      \"price\",\n                      \"tax\",\n                      \"price_tax_incl\",\n                      object\n                    )\n                  }\n                />\n              </div>\n            )}\n          </>\n        );\n      },\n      align: \"center\",\n      width: 200,\n    },\n    {\n      title: \"Precio tachado\",\n      dataIndex: \"strikethrough_price\",\n      render: (record, object) => {\n        let fieldValue;\n        return (\n          <>\n            {object.overwrite && record !== null && (\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  gap: 4,\n                  alignItems: \"center\",\n                }}\n              >\n                <InputNumber\n                  size=\"small\"\n                  value={record}\n                  style={{ width: \"100%\" }}\n                  formatter={(value) =>\n                    `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                  }\n                  parser={(value) => value.replace(/\\$\\s?|(,*)/g, \"\")}\n                  onChange={(value) => (fieldValue = value)}\n                />\n                <Button\n                  type=\"primary\"\n                  icon=\"save\"\n                  size=\"small\"\n                  style={{ display: \"flex\", alignItems: \"center\" }}\n                  onClick={async () => {\n                    await updateOverwriteValue(\n                      \"menu-items-restaurant-overwrite\",\n                      {\n                        ...object,\n                        strikethrough_price: fieldValue,\n                      },\n                      onSubmit,\n                      getDataOnlyItem,\n                      item?.id,\n                      setNewItem\n                    );\n                  }}\n                />\n\n                <Button\n                  type=\"primary\"\n                  icon=\"delete\"\n                  size=\"small\"\n                  style={{\n                    backgroundColor: \"red\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                  }}\n                  onClick={async () => {\n                    await updateOverwriteValue(\n                      \"menu-items-restaurant-overwrite\",\n                      {\n                        ...object,\n                        strikethrough_price: null,\n                      },\n                      onSubmit,\n                      getDataOnlyItem,\n                      item?.id,\n                      setNewItem\n                    );\n                  }}\n                />\n              </div>\n            )}\n\n            {object.overwrite && record === null && (\n              <>\n                <div\n                  style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                  }}\n                >\n                  <p>Tomando el valor general</p>\n                  <Tooltip title=\"Definir un precio tachado especifico\">\n                    <Button\n                      type=\"link\"\n                      icon=\"edit\"\n                      style={{ marginBottom: 12 }}\n                      onClick={() =>\n                        handleClickNewOverwrite(\n                          \"price\",\n                          \"tax\",\n                          \"strikethrough_price\",\n                          object\n                        )\n                      }\n                    />\n                  </Tooltip>\n                </div>\n              </>\n            )}\n\n            {!object.overwrite && (\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                }}\n              >\n                <p>Tomando el valor general</p>\n                <Button\n                  type=\"link\"\n                  icon=\"edit\"\n                  style={{ marginBottom: 12 }}\n                  onClick={() =>\n                    handleClickNewOverwrite(\n                      \"price\",\n                      \"strikethrough_price\",\n                      \"strikethrough_price\",\n                      object\n                    )\n                  }\n                />\n              </div>\n            )}\n          </>\n        );\n      },\n      width: 250,\n    },\n    {\n      title: \"Estado\",\n      dataIndex: \"status\",\n      render: (record, object) => {\n        return (\n          <>\n            {object.overwrite && record !== null && (\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  alignItems: \"center\",\n                  gap: 4,\n                }}\n              >\n                <Switch\n                  style={{\n                    width: \"7%\",\n                  }}\n                  checked={object?.status === \"active\"}\n                  onChange={async (event) => {\n                    await updateOverwriteValue(\n                      \"menu-items-restaurant-overwrite\",\n                      {\n                        ...object,\n                        status: event === true ? \"active\" : \"inactive\",\n                      },\n                      onSubmit,\n                      getDataOnlyItem,\n                      item?.id,\n                      setNewItem\n                    );\n                  }}\n                />\n                <Button\n                  type=\"primary\"\n                  icon=\"delete\"\n                  size=\"small\"\n                  style={{\n                    backgroundColor: \"red\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                  }}\n                  onClick={async () => {\n                    await updateOverwriteValue(\n                      \"menu-items-restaurant-overwrite\",\n                      {\n                        ...object,\n                        status: null,\n                      },\n                      onSubmit,\n                      getDataOnlyItem,\n                      item?.id,\n                      setNewItem\n                    );\n                  }}\n                />\n              </div>\n            )}\n            {object.overwrite && record === null && (\n              <>\n                <div\n                  style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                  }}\n                >\n                  <p>Tomando el valor general</p>\n                  <Tooltip title=\"Definir un estado especifico\" placement=\"top\">\n                    <Button\n                      type=\"link\"\n                      icon=\"edit\"\n                      style={{ marginBottom: 12 }}\n                      onClick={() =>\n                        handleClickNewOverwrite(\n                          \"status\",\n                          \"status\",\n                          \"status\",\n                          object\n                        )\n                      }\n                    />\n                  </Tooltip>\n                </div>\n              </>\n            )}\n            {!object.overwrite && (\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                }}\n              >\n                <p style={{ marginBottom: 12 }}>{`${statusFormatter[record] ||\n                  \"sin valor\"}`}</p>\n                <Button\n                  type=\"link\"\n                  icon=\"edit\"\n                  style={{ marginBottom: 12 }}\n                  onClick={() => {\n                    handleClickNewOverwrite(\n                      \"status\",\n                      \"status\",\n                      \"status\",\n                      object\n                    );\n                  }}\n                />\n              </div>\n            )}\n          </>\n        );\n      },\n    },\n    {\n      title: \"Disponible en\",\n      dataIndex: \"status\",\n      render: (record, object) => {\n        return (\n          <>\n            {object.overwrite && object.delivery !== null && (\n              <>\n                <Headline>Delivery</Headline>\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    alignItems: \"center\",\n                    marginBottom: 10,\n                    marginTop: -8,\n                    gap: 4,\n                  }}\n                >\n                  <Switch\n                    style={{\n                      width: \"7%\",\n                    }}\n                    checked={object?.delivery === \"true\"}\n                    onChange={async (event) => {\n                      await updateOverwriteValue(\n                        \"menu-items-restaurant-overwrite\",\n                        {\n                          ...object,\n                          delivery: event + \"\",\n                        },\n                        onSubmit,\n                        getDataOnlyItem,\n                        item?.id,\n                        setNewItem\n                      );\n                    }}\n                  />\n                  <Button\n                    type=\"primary\"\n                    icon=\"delete\"\n                    size=\"small\"\n                    style={{\n                      backgroundColor: \"red\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                    }}\n                    onClick={async () => {\n                      await updateOverwriteValue(\n                        \"menu-items-restaurant-overwrite\",\n                        {\n                          ...object,\n                          delivery: null,\n                        },\n                        onSubmit,\n                        getDataOnlyItem,\n                        item?.id,\n                        setNewItem\n                      );\n                    }}\n                  />\n                </div>\n              </>\n            )}\n            {(!object.overwrite || object.delivery === null) && (\n              <>\n                <Headline>Delivery</Headline>\n                <div\n                  style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                  }}\n                >\n                  <p style={{ marginBottom: 12, color: \"black\" }}>\n                    Tomando el valor general\n                  </p>\n                  <Tooltip\n                    title=\"Definir un tipo de envio especifico\"\n                    placement=\"top\"\n                  >\n                    <Button\n                      type=\"link\"\n                      icon=\"edit\"\n                      size=\"small\"\n                      style={{ marginBottom: 12 }}\n                      onClick={() =>\n                        handleClickNewOverwrite(\n                          \"send\",\n                          \"send\",\n                          \"delivery\",\n                          object\n                        )\n                      }\n                    />\n                  </Tooltip>\n                </div>\n              </>\n            )}\n            {object.overwrite && object.pickup !== null && (\n              <>\n                <Headline>Pickup</Headline>\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    alignItems: \"center\",\n                    marginBottom: 10,\n                    marginTop: -8,\n                    gap: 4,\n                  }}\n                >\n                  <Switch\n                    style={{\n                      width: \"7%\",\n                    }}\n                    checked={object?.pickup === \"true\"}\n                    onChange={async (event) => {\n                      await updateOverwriteValue(\n                        \"menu-items-restaurant-overwrite\",\n                        {\n                          ...object,\n                          pickup: event + \"\",\n                        },\n                        onSubmit,\n                        getDataOnlyItem,\n                        item?.id,\n                        setNewItem\n                      );\n                    }}\n                  />\n                  <Button\n                    type=\"primary\"\n                    icon=\"delete\"\n                    size=\"small\"\n                    style={{\n                      backgroundColor: \"red\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                    }}\n                    onClick={async () => {\n                      await updateOverwriteValue(\n                        \"menu-items-restaurant-overwrite\",\n                        {\n                          ...object,\n                          pickup: null,\n                        },\n                        onSubmit,\n                        getDataOnlyItem,\n                        item?.id,\n                        setNewItem\n                      );\n                    }}\n                  />\n                </div>\n              </>\n            )}\n            {(!object.overwrite || object.pickup === null) && (\n              <>\n                <Headline>Pickup</Headline>\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    alignItems: \"center\",\n                    marginBottom: 10,\n                    marginTop: -8,\n                    gap: 4,\n                  }}\n                >\n                  <p style={{ marginBottom: 12, color: \"black\" }}>\n                    Tomando el valor general\n                  </p>\n                  <Tooltip\n                    title=\"Definir un tipo de envio especifico\"\n                    placement=\"top\"\n                  >\n                    <Button\n                      type=\"link\"\n                      icon=\"edit\"\n                      style={{ marginBottom: 12 }}\n                      onClick={() =>\n                        handleClickNewOverwrite(\n                          \"send\",\n                          \"send\",\n                          \"pickup\",\n                          object\n                        )\n                      }\n                    />\n                  </Tooltip>\n                </div>\n              </>\n            )}\n            {object.overwrite && object.instore !== null && (\n              <>\n                <Headline>Instore</Headline>\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    alignItems: \"center\",\n                    marginBottom: 10,\n                    marginTop: -8,\n                    gap: 4,\n                  }}\n                >\n                  <Switch\n                    style={{\n                      width: \"7%\",\n                    }}\n                    checked={object?.instore === \"true\"}\n                    onChange={async (event) => {\n                      await updateOverwriteValue(\n                        \"menu-items-restaurant-overwrite\",\n                        {\n                          ...object,\n                          instore: event + \"\",\n                        },\n                        onSubmit,\n                        getDataOnlyItem,\n                        item?.id,\n                        setNewItem\n                      );\n                    }}\n                  />\n                  <Button\n                    type=\"primary\"\n                    icon=\"delete\"\n                    size=\"small\"\n                    style={{\n                      backgroundColor: \"red\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                    }}\n                    onClick={async () => {\n                      await updateOverwriteValue(\n                        \"menu-items-restaurant-overwrite\",\n                        {\n                          ...object,\n                          instore: null,\n                        },\n                        onSubmit,\n                        getDataOnlyItem,\n                        item?.id,\n                        setNewItem\n                      );\n                    }}\n                  />\n                </div>\n              </>\n            )}\n            {(!object.overwrite || object.instore === null) && (\n              <>\n                <Headline>Instore</Headline>\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    alignItems: \"center\",\n                    marginBottom: 10,\n                    marginTop: -8,\n                    gap: 4,\n                  }}\n                >\n                  <p style={{ marginBottom: 12, color: \"black\" }}>\n                    Tomando el valor general\n                  </p>\n                  <Tooltip\n                    title=\"Definir un tipo de envio especifico\"\n                    placement=\"top\"\n                  >\n                    <Button\n                      type=\"link\"\n                      icon=\"edit\"\n                      style={{ marginBottom: 12 }}\n                      onClick={() =>\n                        handleClickNewOverwrite(\n                          \"send\",\n                          \"send\",\n                          \"instore\",\n                          object\n                        )\n                      }\n                    />\n                  </Tooltip>\n                </div>\n              </>\n            )}\n          </>\n        );\n      },\n    },\n  ];\n\n  return (\n    <>\n      <Modal\n        title={newItem?.name?.toString()?.toUpperCase()}\n        width=\"95%\"\n        destroyOnClose={true}\n        confirmLoading={isLoading}\n        visible={isVisible}\n        onCancel={() => {\n          setterIsVisible(false);\n        }}\n      >\n        <Divider orientation=\"left\">\n          <div style={{ display: \"flex\", alignItems: \"center\", gap: 12 }}>\n            <Labels>Valores generales</Labels>\n            <Tooltip\n              title=\"Estos valores afectan a todos los restaurantes pertenecientes a tu marca\"\n              placement=\"top\"\n            >\n              <Icon\n                type=\"question-circle\"\n                theme=\"filled\"\n                style={{\n                  color: \"#672bbf\",\n                  fontSize: \"1.3rem\",\n                  marginTop: \"0.5rem\",\n                }}\n              />\n            </Tooltip>\n          </div>\n        </Divider>\n        <Row\n          gutter={24}\n          style={{\n            marginBottom: 30,\n          }}\n        >\n          <Col span={2} align=\"center\">\n            <Headline\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              Estado\n            </Headline>\n            <Switch\n              style={{\n                width: \"30%\",\n              }}\n              checked={newItem?.status === \"active\"}\n              onChange={async (event) => {\n                await updateOverwriteValue(\n                  \"menu-items\",\n                  {\n                    id: newItem?.id,\n                    status: event,\n                  },\n                  onSubmit,\n                  getDataOnlyItem,\n                  item?.id,\n                  setNewItem\n                );\n              }}\n            />\n          </Col>\n          <Col span={6}>\n            <Headline>Precio</Headline>\n            <div style={{ display: \"flex\", alignItems: \"center\", gap: 4 }}>\n              <InputNumber\n                size=\"large\"\n                min={1000}\n                value={newItem?.price_tax_incl}\n                style={{ width: \"100%\" }}\n                formatter={(value) =>\n                  `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                }\n                parser={(value) => value.replace(/\\$\\s?|(,*)/g, \"\")}\n                onChange={(e) =>\n                  setPayloadPriceGlobal({\n                    ...payloadPriceGlobal,\n                    price_tax_incl: e,\n                  })\n                }\n              />\n              <Button\n                type=\"primary\"\n                icon=\"save\"\n                onClick={async () => {\n                  await updateOverwriteValue(\n                    \"menu-items\",\n                    {\n                      id: newItem?.id,\n                      price_tax_incl: payloadPriceGlobal.price_tax_incl,\n                    },\n                    onSubmit,\n                    getDataOnlyItem,\n                    item?.id,\n                    setNewItem\n                  );\n                  setPayloadPriceGlobal({});\n                }}\n              />\n            </div>\n          </Col>\n          <Col span={6}>\n            <Headline>Precio tachado</Headline>\n            <div style={{ display: \"flex\", alignItems: \"center\", gap: 4 }}>\n              <InputNumber\n                size=\"large\"\n                min={1000}\n                value={newItem?.strikethrough_price}\n                style={{ width: \"100%\" }}\n                formatter={(value) =>\n                  `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                }\n                parser={(value) => value.replace(/\\$\\s?|(,*)/g, \"\")}\n                onChange={(e) =>\n                  setPayloadPriceGlobal({\n                    ...payloadPriceGlobal,\n                    strikethrough_price: e,\n                  })\n                }\n              />\n              <Button\n                type=\"primary\"\n                icon=\"save\"\n                onClick={async () => {\n                  await updateOverwriteValue(\n                    \"menu-items\",\n                    {\n                      id: newItem?.id,\n                      strikethrough_price:\n                        payloadPriceGlobal.strikethrough_price,\n                    },\n                    onSubmit,\n                    getDataOnlyItem,\n                    item?.id,\n                    setNewItem\n                  );\n                  setPayloadPriceGlobal({});\n                }}\n              />\n            </div>\n          </Col>\n          <Col span={6}>\n            <Col span={4}>\n              <Headline>Delivery</Headline>\n              <Switch\n                style={{\n                  width: \"20%\",\n                }}\n                checked={newItem?.delivery === \"true\"}\n                onChange={async (event) => {\n                  await updateOverwriteValue(\n                    \"menu-items\",\n                    {\n                      id: newItem?.id,\n                      delivery: event,\n                    },\n                    onSubmit,\n                    getDataOnlyItem,\n                    item?.id,\n                    setNewItem\n                  );\n                }}\n              />\n            </Col>\n            <Col span={4}>\n              <Headline>Pickup</Headline>\n              <Switch\n                style={{\n                  width: \"20%\",\n                }}\n                checked={newItem?.pickup === \"true\"}\n                onChange={async (event) => {\n                  await updateOverwriteValue(\n                    \"menu-items\",\n                    {\n                      id: newItem?.id,\n                      pickup: event,\n                    },\n                    onSubmit,\n                    getDataOnlyItem,\n                    item?.id,\n                    setNewItem\n                  );\n                }}\n              />\n            </Col>\n            <Col span={4}>\n              <Headline>Instore</Headline>\n              <Switch\n                style={{\n                  width: \"20%\",\n                }}\n                checked={newItem?.instore === \"true\"}\n                onChange={async (event) => {\n                  await updateOverwriteValue(\n                    \"menu-items\",\n                    {\n                      id: newItem?.id,\n                      instore: event,\n                    },\n                    onSubmit,\n                    getDataOnlyItem,\n                    item?.id,\n                    setNewItem\n                  );\n                }}\n              />\n            </Col>\n          </Col>\n        </Row>\n        <Divider orientation=\"left\">\n          <div style={{ display: \"flex\", alignItems: \"center\", gap: 12 }}>\n            <Labels>Valores especificos por restaurante</Labels>\n            <Tooltip\n              title=\"Los cambios aqui realizados solo afectaran a aquellos restaurantes donde se realicen\"\n              placement=\"top\"\n            >\n              <Icon\n                type=\"question-circle\"\n                theme=\"filled\"\n                style={{\n                  color: \"#672bbf\",\n                  fontSize: \"1.3rem\",\n                  marginTop: \"0.5rem\",\n                }}\n              />\n            </Tooltip>\n          </div>\n        </Divider>\n\n        <Table size=\"large\" dataSource={finalData} columns={columns} />\n      </Modal>\n      <ModalCreateOverwrite\n        isOpen={isOpenEdit}\n        setterIsOpen={setIsOpenEedit}\n        item={item}\n        type={configField.type}\n        field={configField.field}\n        name={configField.name}\n        record={configField.record}\n        onSubmit={onSubmit}\n        setNewItem={setNewItem}\n      />\n    </>\n  );\n};\n\nexport default MenuItemInfo;\n","import { Col, Row } from \"antd\";\nimport React, { useEffect, useState } from \"react\";\nimport { getService } from \"../../services/services\";\nimport { DEFAULT_IMAGE, URL_PLACEHOLDER, URL_S3 } from \"../../constants/\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { WrapperGroupList } from \"./Styles\";\nimport { money } from \"../../utils\";\nimport ListItems from \"./ListItems\";\nimport { DinamicForm, SimpleForm } from \"../com/form/\";\nimport OptionCustom from \"../../views/menu-categories/OptionCustom\";\nimport { translate } from \"react-polyglot\";\nimport qs from \"qs\";\nimport ModalItemInfo from \"../../views/menu-categories/ModalItemInfo\";\nimport { set } from \"lodash\";\n\nconst GroupList = ({\n  t,\n  reference,\n  source,\n  group_reference,\n  group_resource,\n  group_refresh,\n  group_section_footer,\n  onSelectItemGroup,\n  onAddItem,\n  filterDefaultValues = {},\n  refinement,\n  filterDefaultGroupValues = {},\n  initialValues = {},\n  groupInitialValues = {},\n  filter,\n  filter_group,\n  group_cover_field,\n  cover_field,\n  listTitle,\n  group_actions,\n  actions,\n  groupTitle,\n  refinement_group,\n  setterIsVisibleModalAdmin,\n  setterItem,\n  selectedItem,\n  departament_id,\n  itemSelectorAfterCreate,\n  defaultCategory,\n  categoryType,\n  establishment_id,\n  establishmentBranch,\n  ...props\n}) => {\n\n  const [establishmentCategories, setEstablishmentCategories] = useState([]);\n  const [showGroup, setShowGroup] = useState(false);\n  const [showView, setShowView] = useState(false);\n  const [refresh_items, setRefreshItems] = useState(false);\n  const [refresh, setRefresh] = useState(false);\n  const [selected, setSelected] = useState();\n  const [itemSelected, setItemSelected] = useState();\n  const [defaultKeySelected, setDefaultKeySelected] = useState();\n  const [isVisibleModalAdmin, setIsVisibleModalAdmin] = useState(false);\n  const [query, setQuery] = useState();\n\n  const handleOnSelect = ({ id, record }) => {\n    if (record && selected) {\n      if (record.id !== selected.id) {\n        setSelected(record);\n        setShowView(false);\n        setShowGroup(true);\n      }\n    } else {\n      setSelected(record);\n      setShowView(false);\n      setShowGroup(true);\n    }\n  };\n\n  const handleOnItemSelect = ({ item, record }) => {\n    setItemSelected(item);\n    setShowView(true);\n    if (onSelectItemGroup) onSelectItemGroup(item);\n    /* setShowView(false);\n        setItemSelected(null);\n        let timeout = setTimeout(() => {\n            setItemSelected(item);\n            setShowView(true);\n            if (onSelectItemGroup) onSelectItemGroup(item)\n            clearTimeout(timeout);\n        }, 100); */\n  };\n\n  const handleOnload = data => {\n    if (data.length > 0) {\n      /* let selected = data[0];\n            if (refinement) selected = refinement(selected);\n            if (selected) {\n                setDefaultKeySelected(selected.id)\n                setSelected(selected)\n                setShowGroup(true);\n            } */\n    }\n  };\n\n  const handleOnAddItem = () => {\n    if (itemSelected && showView) {\n      setShowView(false);\n    }\n    let timeout = setTimeout(() => {\n      setItemSelected(null);\n      setShowView(true);\n      if (onAddItem) onAddItem();\n      clearTimeout(timeout);\n    }, 100);\n  };\n\n  const handleSubmitItem = (err, data) => {\n    setShowView(false);\n    if (data) {\n      setItemSelected(data);\n      setRefreshItems(refresh => !refresh);\n      let timeout = setTimeout(() => {\n        setShowView(true);\n        clearTimeout(timeout);\n      }, 100);\n    }\n  };\n\n  const handleOnDelete = record => {\n    setShowView(false);\n  };\n\n\n  useEffect(() => {\n    setShowGroup(false);\n    setShowView(false);\n    setItemSelected();\n    setSelected();\n  }, [establishment_id]);\n\n  useEffect(() => {\n    setRefreshItems(group_refresh);\n  }, [group_refresh]);\n\n  useEffect(() => {\n    setRefresh(refresh);\n  }, [refresh, defaultCategory]);\n\n  useEffect(() => {\n    setQuery(qs.parse(window.location.search.replace(/\\?/, \"\")));\n  }, [props.restaurant_id]);\n\n  useEffect(() => {\n    setShowGroup(false);\n    setSelected(undefined);\n    setItemSelected(undefined);\n    setShowView(false);\n    setRefresh(!refresh);\n  }, [categoryType])\n\n\n\n  return (\n    <WrapperGroupList>\n      <Row gutter={0} type=\"flex\" justify=\"start\" align=\"top\">\n        <Col sm={24} md={12} xl={6} >\n          {\n            categoryType ? (\n              <ListItems\n                actionCreateText=\"Agregar Categoría\"\n                createButtonText=\"Crear\"\n                editButtonText=\"Editar\"\n                createTitle=\"Crear Categoría\"\n                editTitle=\"Crear Categoría\"\n                departament_id={departament_id}\n                title={listTitle}\n                showAvatar={false}\n                cover_field=\"path\"\n                refresh={refresh}\n                refinement={refinement}\n                filter={filter}\n                cover={false}\n                actions={{\n                  disable: false,\n                  create: false,\n                  edit: false,\n                  delete: false,\n                  ...actions\n                }}\n                // fields={[\n                //   ...props.fields,\n                //   ...Object.keys(initialValues).map(key => ({\n                //     name: [key],\n                //     type: \"hidden\",\n                //     initial: initialValues[key]\n                //   }))\n                // ]}\n                form={props.form}\n                source={source}\n                reference={reference}\n                filterDefaultValues={filterDefaultValues}\n                onSelect={handleOnSelect}\n                onLoad={handleOnload}\n                resource={group_resource}\n                defaultCategory={defaultCategory}\n              />\n            ) : (\n              <ListItems\n                actionCreateText=\"Agregar Categoría\"\n                createButtonText=\"Crear\"\n                editButtonText=\"Editar\"\n                createTitle=\"Crear\"\n                editTitle=\"Editar Categoría\"\n                departament_id={departament_id}\n                title={listTitle}\n                showAvatar={true}\n                cover_field=\"banner_path\"\n                refresh={refresh}\n                refinement={refinement}\n                filter={filter}\n                cover={false}\n                actions={{\n                  disable: true,\n                  create: true,\n                  edit: true,\n                  delete: true,\n                  ...actions\n                }}\n                // fields={[\n                //   ...props.fields,\n                //   ...Object.keys(initialValues).map(key => ({\n                //     name: [key],\n                //     type: \"hidden\",\n                //     initial: initialValues[key]\n                //   }))\n                // ]}\n                fields={props.fields}\n                form={props.form}\n                source={source}\n                reference={reference}\n                filterDefaultValues={filterDefaultValues}\n                onSelect={handleOnSelect}\n                onLoad={handleOnload}\n                resource={group_resource}\n                setEstablishmentCategories={setEstablishmentCategories}\n                defaultElement={[{\n                  \"id\": -1,\n                  \"establishment_id\": 1,\n                  \"name\": \"Sin categoría\",\n                  \"position\": -1,\n                  \"banner_path\": null,\n                }]}\n                establishment_id={establishment_id}\n              />\n            )\n          }\n        </Col>\n        <Col sm={24} md={12} xl={6}>\n          {showGroup && (\n            <ListItems\n              actionCreateText=\"Agregar Item\"\n              createButtonText=\"Crear Item\"\n              editButtonText=\"Editar Item\"\n              createTitle=\"Crear Item\"\n              editTitle=\"Crear Item\"\n              type=\"secundary\"\n              mode=\"list\"\n              onAdd={handleOnAddItem}\n              onRemove={handleOnDelete}\n              onSelect={({ item }) => {\n                handleOnItemSelect({ item })\n              }}\n              selected={itemSelected}\n              title={groupTitle}\n              reference={group_reference}\n              resource={group_resource}\n              cover_field='path_image_main'\n              source={source}\n              refresh={refresh_items}\n              /*  optionValue={source} */\n              filter={filter_group}\n              fields={[\n                ...props.group_fields,\n                ...Object.keys(groupInitialValues).map(key => ({\n                  name: [key],\n                  type: \"hidden\",\n                  initial: groupInitialValues[key]\n                })),\n                {\n                  xtype: \"textfield\",\n                  type: \"hidden\",\n                  name: source,\n                  initial: selected.id\n                }\n              ]}\n              refinement={refinement_group}\n              actions={{\n                disable: false,\n                create: true,\n                edit: false,\n                delete: true,\n                admin: true,\n                ...group_actions\n              }}\n              setterIsVisibleModalAdmin={setIsVisibleModalAdmin}\n              setterItem={setterItem}\n              defaultKeySelected={defaultKeySelected}\n              filterDefaultValues={{\n                ...filterDefaultGroupValues,\n                [source]: selected.id === -1 ? undefined : selected.id,\n                'establishment_menu_items_category_id': selected.id === -1 ? 'null' : undefined,\n                $sort: {\n                  position: 1\n                }\n              }}\n            />\n          )}\n        </Col>\n        {showView && (\n          <Col xl={showView ? 12 : 24}>\n            <OptionCustom\n              item={itemSelected}\n              menuCategoryId={selected?.id}\n              onSubmit={handleSubmitItem}\n              itemSelectorAfterCreate={itemSelectorAfterCreate}\n              reference={\n                query?.restaurant_id !== \"\"\n                  ? \"menu-items-restaurant-overwrite\"\n                  : group_reference\n              }\n              categoryField={categoryType ? 'category' : 'establishment_menu_items_category_id'}\n              establishment_id={establishment_id}\n              categoriesList={defaultCategory}\n              establishmentCategoriesList={establishmentCategories}\n              establishmentBranch={establishmentBranch}\n            />\n          </Col>\n        )}\n      </Row>\n      <ModalItemInfo\n        isVisible={isVisibleModalAdmin}\n        setterIsVisible={setIsVisibleModalAdmin}\n        item={selectedItem}\n        onSubmit={handleSubmitItem}\n      />\n    </WrapperGroupList>\n  );\n};\nexport default GroupList;\n","import React from \"react\";\nimport { Layout, Row, Col } from \"antd\";\nimport styled from \"styled-components\";\nconst { Content } = Layout;\nconst Container = styled(Content)`\n  margin: 20px 0px;\n`;\nconst Body = styled.div`\n  ::before {\n    content: \" \";\n    position: absolute;\n    left: 90%;\n    bottom: 30%;\n\n\n    width: 100%;\n    height: 100%;\n    background-size: auto;\n\n    width: 400px;\n    height: 250px;\n    background-size: 100% 100%;\n\n    background-repeat: no-repeat !important;\n  }\n`;\nconst BlogLayout = ({ children, ...props }) => {\n  return (\n    <Container>\n      <Row type=\"flex\" justify=\"center\" align=\"middle\">\n        <Col\n          span={16}\n          style={{\n            margin: \"10px 0px\",\n            minHeight: 200\n          }}\n        >\n          <Body>{children}</Body>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default BlogLayout;\n","import React, { useState, useEffect, Suspense } from \"react\";\nimport { Layout, Menu, Icon, Row, Col } from \"antd\";\nimport { Link } from \"react-router-dom\"; \nimport styled from \"styled-components\";\nimport NotFound from \"../views/NotFound\";\nimport Loader from \"../components/loader\";\n/* Redux */\nimport { connect } from \"react-redux\";\nimport * as actionTypes from \"../redux/app/actions\";\n\n/* Import Components */\nimport SideMenu from \"../components/menu/SideMenu\";\nimport SideNotification from \"../components/notifications/SideNotification\";\nimport { TopBar } from \"../components/header\";\nimport routes from \"../routes\";\n//import { BreadCrumb } from \"../components/breadcrumb/BreadCrumb\";\nimport { allowAccess } from \"../utils/Helper\";\nimport Loadeable from \"react-loadable\";\nimport PrivateRoute from \"../utils/PrivateRoute\";\nimport { LOGO_WHITE } from \"../constants\";\nconst { Header, Sider, Content } = Layout;\n\nconst { SubMenu } = Menu;\n\nconst LogoContainer = styled.div`\n  padding: 10px;\n  background: var(--blue);\n  overflow-x: hidden !important;\n`;\nconst Copy = styled.p`\n  text-align: center;\n`;\nconst SideBar = styled.div`\n\n  max-width: 212px;\n\n  background: #fff !important;\n  overflow-x: hidden !important;\n\n  height: 100%;\n  box-shadow: 0 2px 10px -1px rgba(69, 90, 100, 0.3);\n`;\nconst SiderContainer = styled(Sider)`\n  position: fixed;\n  &.ant-layout-sider {\n    background: red !important;\n    overflow: auto;\n    height: '100vh';\n    /* position: 'absolute'; */\n    float: right;\n    left: 0;\n    top: 0;\n    bottom: 0;\n  }\n  &.ant-layout-sider-collapsed .ant-menu-item,\n  .ant-layout-sider-collapsed .ant-menu-submenu {\n    justify-content: center;\n    align-items: center;\n    display: flex;\n    padding: 10px !important;\n  }\n  &.logo-container {\n    border-bottom:1px solid !important;\n  }\n  &.logo-container:hover {\n    transform: scale(1.5);\n    border-bottom:1px solid !important;\n  }\n  &.ant-layout-sider-collapsed .logo-container div {\n    width: 64px !important;\n  }\n  &.ant-layout-sider-collapsed .ant-menu-item i {\n    font-size: var(--font-size-medium);\n  }\n`;\n\n\nconst HeaderContainer = styled.div`\n  & h2 {\n    color: #fff;\n    margin-bottom: 0px;\n  }\n`;\nconst AdminLayout = ({ user = {}, children, collapsedMenu, ...props }) => {\n  const [menu, setMenu] = useState([]);\n  useEffect(() => {\n\n    if (routes)\n      routes.forEach(it => {\n        /* Add Edit Route */\n        if (typeof it.edit == \"undefined\") {\n          routes.push({\n            ...it,\n            path: `${it.path}/:id`\n          })\n        } else {\n          routes.push(it.edit)\n        }\n        /* Add Create Route */\n        if (typeof it.create == \"undefined\") {\n          routes.push({\n            ...it,\n            path: `${it.path}/:id`\n          })\n        } else {\n          routes.push(it.create)\n        }\n        //console.log(\"Route:\", it.path)\n      })\n    setMenu(\n      routes.map((route, index) => {\n        //console.log(route.permissions);\n        return allowAccess(route.permissions) ? (\n          <route.component\n            key={index}\n            path={route.path}\n            exact={route.exact}\n            name={route.name}\n          />\n        ) : null;\n      })\n    );\n    return () => { };\n  }, []);\n  return (\n    <Layout\n      // hasSider\n      className=\"main-layout\"\n      style={{ minHeight: \"100vh\", background: \"red\" }}\n    >\n      <SiderContainer\n        className=\"sider-container\"\n        trigger={null}\n        collapsible\n        collapsed={collapsedMenu}\n      >\n        <LogoContainer className=\"logo-container\">\n          <Link to=\"/\" className=\"logo\">\n            <div\n              style={{\n                background: `url(${LOGO_WHITE})`,\n                backgroundRepeat: \"no-repeat\",\n                height: 30,\n                backgroundSize: \"100% 100%\",\n                width: 120\n              }}\n            />\n          </Link>\n        </LogoContainer>\n        <SideBar>{<SideMenu />}</SideBar>\n      </SiderContainer>\n      <Layout style={{\n        marginBottom: -50\n      }}>\n      </Layout>\n      <SiderContainer\n        className=\"sider-container\"\n        trigger={null}\n        collapsible\n        collapsed={collapsedMenu}\n      >\n        <SideBar>{<SideNotification />}</SideBar>\n      </SiderContainer>\n    </Layout>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    collapsedMenu: state.collapsedMenu,\n    user: state.user,\n    pathname: state.pathname,\n    current: state.current\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChangePath: pathname =>\n      dispatch({ type: actionTypes.CHAGE_PATH, pathname })\n  };\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AdminLayout);\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Root = styled.hr`\n  opacity: 0.4;\n  background-color: #707070;\n`;\n\nconst Divider = props => {\n  return <Root {...props} />;\n};\n\nexport default Divider;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Divider from \"../components/Divider\";\n \nimport { Layout, Row, Col, Button } from \"antd\";\nconst { Footer, Content } = Layout;\n\n\nconst Wrapper = styled(Footer)`\n  padding: 0px !important;\n  /* background-color: var(--color-secundary) !important; */\n  color: #fff !important;\n  /* position: absolute; */\n  width: 100%;\n  bottom: 0 !important;\n`;\nconst Container = styled(Row)`\n  min-height: 359px;\n  height: auto !important;\n  background-color: var(--color-secundary) !important;\n  position: relative;\n  ::after {\n    content: \" \";\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 8px;\n    background-repeat-y: no-repeat;\n    transform: translate(0px, -8px);\n  }\n`;\nconst ContactCard = styled.div`\n  box-shadow: 0px 3px 26px #0000000f;\n  border-radius: 10px !important;\n  max-width: 441px;\n  background-color: #fff;\n  padding: 1.6875rem 1.25rem !important;\n  box-sizing: content-box !important;\n\n  @media (max-width: 768px) {\n    margin-bottom: 2rem;\n  }\n`;\n\nconst WhiteButton = styled(Button)`\n  background: #ffffff 0% 0% no-repeat padding-box !important;\n  border-radius: 31px !important;\n  opacity: 1 !important;\n  height: 50px !important;\n\n  width: 200px !important;\n  color: var(--color-secundary) !important;\n  border-color: var(--color-secundary) !important;\n  font-size: var(--font-size-large) !important;\n`;\nconst TextDark = styled.span`\n  color: #333333;\n`;\n\n\nconst Navigation = styled.nav`\n  opacity: 0.7;\n  box-sizing: content-box !important;\n`;\n\nconst NavigationCol = styled(Col)`\n  flex-grow: 2 !important;\n\n  @media (max-width: 768px) {\n    margin-top: 3rem;\n  }\n`;\n\nconst Caption = styled(Row)`\n  padding-top: 2rem;\n  padding-bottom: 9.125rem;\n`;\n\nconst Copy = styled.span`\n  letter-spacing: 0;\n  color: #333333;\n  opacity: 0.4;\n  font: Bold 17px/17px Quicksand;\n`;\n\nconst ContactCardPhoneCol = styled(Col)`\n  @media (max-width: 768px) {\n    margin-bottom: 0.5rem !important;\n  }\n`;\nconst Divi = styled(Divider)`\n  height: 10.9em !important;\n  margin: 20px !important;\n  opacity: 1 !important;\n  background-color: #ffffff !important;\n`;\nconst MyFooter = () => {\n  const navigation = [\n    {\n      title: \"About us\",\n      items: [\n        { text: \"Our story\", to: \"/\" },\n        { text: \"Benefits\", to: \"/\" },\n        { text: \"FAQ\", to: \"/\" }\n      ]\n    },\n    {\n      title: \"Legal\",\n      items: [\n        { text: \"Our story\", to: \"/\" },\n        { text: \"Benefits\", to: \"/\" },\n        { text: \"FAQ\", to: \"/\" }\n      ]\n    },\n    {\n      title: \"Follow us\",\n      items: [\n        { text: \"Our story\", to: \"/\" },\n        { text: \"Benefits\", to: \"/\" },\n        { text: \"FAQ\", to: \"/\" }\n      ]\n    }\n  ];\n\n  return (\n    <Wrapper>\n      {/* <Container\n        justify=\"center\"\n        type=\"flex\"\n        style={{\n          background: \"red\"\n        }}\n      >\n        <Col span={22}>\n          <Row type=\"flex\" justify=\"center\" align=\"middle\" gutter={8}>\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\"\n              }}\n            >\n              <Divi type=\"vertical\" />\n            </div>\n          </Row>\n        </Col>\n      </Container> */}\n    </Wrapper>\n  );\n};\n\nexport default MyFooter;\n","import React from \"react\";\nimport { Layout } from \"antd\";\nimport MyFooter from \"../components/Footer\";\nimport { WrapperPanelLayout } from \"./Styles\";\nconst { Content } = Layout;\nconst PanelLayout = ({ children, ref }) => {\n    return (<WrapperPanelLayout>\n        <Layout style={{ minHeight: \"100vh\", background: \"red\" }}>\n            <Layout>\n                <Content\n                    style={{\n                        minHeight: 200\n                    }}\n                >\n                    {children}\n                </Content>\n                <MyFooter />\n            </Layout>\n        </Layout>\n    </WrapperPanelLayout>);\n};\n\nexport default PanelLayout;\n","import React from 'react';\nimport _ from 'lodash';\nimport { Button, Divider, Switch, Tooltip, message, Table } from 'antd';\nimport { MyModal } from '../../components/com';\n\nimport { FiExternalLink } from 'react-icons/fi';\nimport { getService } from '../../services';\n\nconst ModalAppartaMenu = ({ visible, setVisible, establishmentBranch, slug, getEstablishmenBranch, isAdmin }) => {\n\n    const establishmentBranchService = getService(\"establishments-branchs\");\n\n    const handleChangeStatus = (id, payload) => {\n        establishmentBranchService.patch(id, { ...payload })\n            .then(() => {\n                message.success('Estado actualizado!');\n                getEstablishmenBranch();\n            })\n            .catch((err) => message.error('No se pudo actualizar el estado!', err))\n    }\n\n    return (\n        <MyModal\n            title={\"AppartaMenu\"}\n            onCancel={() => {\n                setVisible(false);\n            }}\n            visible={visible}\n        >\n            <Table\n                pagination={false}\n                dataSource={establishmentBranch}\n                columns={[\n                    { title: 'Ubicación', dataIndex: 'address', key: 'address' },\n                    {\n                        title: 'Estado',\n                        dataIndex: 'apparta_menu_status',\n                        key: 'apparta_menu_status',\n                        render: (apparta_menu_status, { id }) =>\n                            <Tooltip title={isAdmin ? null : 'Para activar o desactivar tu AppartaMenu contacta a tu Account Manager'}>\n                                <Switch\n                                    checked={apparta_menu_status === 'active'}\n                                    onChange={(value) => isAdmin ? handleChangeStatus(id, { apparta_menu_status: value ? 'active' : 'disabled' }) : {}}\n                                />\n                            </Tooltip>\n                    },\n                    {\n                        title: 'Enlace',\n                        dataIndex: 'id',\n                        key: 'id',\n                        render: (id, { apparta_menu_status }) => <Button\n                            type=\"link\"\n                            disabled={!slug || apparta_menu_status !== 'active'}\n                            icon={<FiExternalLink />}\n                            onClick={() => window.open(`https://menu.tu-mesa.com/${slug}/${id}/`, '_blank').focus()}\n                        />\n                    },\n                ]}\n            />\n            <Divider style={{ background: 'transparent', borderTop: 0 }} />\n        </MyModal>\n\n    );\n}\n\nexport default ModalAppartaMenu;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ItemSection from \"../../components/list/ItemSection\";\nimport ListGroup from \"../../components/list/ListGroup\";\nimport { PanelLayout } from \"../../layouts/\";\nimport * as actionTypes from \"../../constants/actionTypes\";\nimport {\n  Layout,\n  Col,\n  Row,\n  Typography,\n  Divider,\n  message,\n  Radio,\n  Button,\n  Select,\n  Input,\n  InputNumber,\n} from \"antd\";\nimport DepartamentsList from \"./DepartmentsList\";\nimport ModalAppartaMenu from \"./ModalAppartaMenu\";\n\nimport { Box, WrapperWarning } from \"./style\";\n\nimport qs from \"qs\";\n\nimport { IoRestaurantOutline, IoGridOutline } from \"react-icons/io5\";\nimport { FiExternalLink } from \"react-icons/fi\";\nimport { FaMapMarkerAlt } from \"react-icons/fa\";\nimport { BsBrush } from \"react-icons/bs\";\nimport { MyModal } from \"../../components/com\";\nimport { ColorField } from \"../../components/com/fields\";\nimport {\n  SimpleForm,\n  FileUploader,\n  SelectField,\n} from \"../../components/com/form/\";\nimport { getService } from \"../../services\";\nimport _ from \"lodash\";\nimport GalleryUploader from \"../../components/com/gallery/GalleryUploader\";\n\nconst USERS_ROLES = {\n  admin: \"admin\",\n  user: \"user\",\n};\n\nexport const APPARTA_CATEGORIES = [\n  {\n    name: \"Entradas\",\n    id: \"entradas\",\n  },\n  {\n    name: \"Desayunos\",\n    id: \"desayunos\",\n  },\n  {\n    name: \"Sopas\",\n    id: \"sopas\",\n  },\n  {\n    name: \"Ensaladas\",\n    id: \"ensaladas\",\n  },\n  {\n    name: \"Platos fuertes\",\n    id: \"platos fuertes\",\n  },\n  {\n    name: \"Acompañamientos\",\n    id: \"acompañamientos\",\n  },\n  {\n    name: \"Bebidas\",\n    id: \"bebidas\",\n  },\n  {\n    name: \"Postres\",\n    id: \"postres\",\n  },\n  {\n    name: \"Licores\",\n    id: \"licores\",\n  },\n  {\n    name: \"Otros\",\n    id: \"otros\",\n  },\n];\n\nconst MenuCategories = (props) => {\n  const establishment_id = useSelector(\n    ({ dashboardReducer }) =>\n      dashboardReducer.establishmentFilters.establishment_id\n  );\n  const permissionsv2 = useSelector(\n    ({ appReducer }) => appReducer?.user?.permissionsv2 || []\n  );\n  const userRole = useSelector(({ appReducer }) => appReducer?.user?.role);\n\n  const branchsIdPermissions = (permissionsv2) => {\n    const permissionsEstablishments = permissionsv2.filter(\n      (it) => it.type === \"establishments\"\n    );\n\n    const establishmentPermission = _.find(\n      permissionsEstablishments,\n      (item) => item?.establishment_id === establishment_id\n    );\n\n    if (\n      establishmentPermission?.role === \"superAdmin\" ||\n      (establishmentPermission?.role === \"employee\" &&\n        establishmentPermission?.permission === \"global\")\n    ) {\n      return {};\n    }\n\n    const permissionsEstablishmentsBranchs = _.map(\n      establishmentPermission?.establishments_branchs,\n      (branch) => branch?.id\n    );\n\n    return {  \n      id: { $in: permissionsEstablishmentsBranchs },\n    }\n  };\n\n  const establishmentBranchService = getService(\"establishments-branchs\");\n  const establishmentService = getService(\"establishments\");\n\n  const [filter, setFilter] = useState();\n  const [group_refresh, setGroupRefresh] = useState(false);\n  const [itemSelected, setItemSelected] = useState();\n  const [restaurant_id, setRestaurantId] = useState();\n  const [brand_id, setBrandId] = useState();\n  const [item, setItem] = useState(null);\n  const [departament_id, setDepartamentId] = useState();\n  const [modalVisible, setModalVisible] = useState(false);\n  const [modalAppartaMenuVisible, setModalAppartaMenuVisible] = useState(false);\n  const [categoryType, setCategoryType] = useState(false);\n\n  const [establishmentBranch, setEstablishmentBranch] = useState();\n  const [establishmentData, setEstablishMentData] = useState({});\n\n  const [branchId, setBranchId] = useState();\n\n  const group_fields = [];\n\n  const dispatch = useDispatch();\n\n  const handleChangeCategoryType = (e) => {\n    setCategoryType(e.target.value === \"apparta\" ? true : false);\n  };\n\n  const handleItemSelect = (item) => {\n    setItemSelected(item);\n  };\n\n  const getEstablishment = useCallback(\n    async function() {\n      try {\n        const response = await establishmentService.get(establishment_id);\n        setEstablishMentData(response);\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [establishmentService, establishment_id]\n  );\n\n  const getEstablishmenBranch = useCallback(\n    async function() {\n      try {\n        const response = await establishmentBranchService.find({\n          query: {\n            ...branchsIdPermissions(permissionsv2),\n            establishment_id: establishment_id,\n            $limit: 1000,\n          },\n        });\n        setEstablishmentBranch(response.data);\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [establishmentBranchService, establishment_id]\n  );\n\n  const onUpdateEstablishColor = (data) => {\n    establishmentService\n      .patch(establishment_id, { ...data })\n      .then((response) => {\n        setEstablishMentData(response);\n        message.success(\"Diseño actualizado!\");\n      })\n      .catch((e) => message.error(e.message));\n  };\n\n  const handleUploadFinish = (field, url, file, _id) => {\n    establishmentService\n      .patch(_id, {\n        [field]: String(url),\n      })\n      .then((response) => {\n        setEstablishMentData({\n          ...response,\n        });\n      })\n      .catch((err) => message.error(err.message));\n  };\n\n  useEffect(() => {\n    if (establishment_id) {\n      getEstablishmenBranch().then();\n      getEstablishment().then();\n    }\n  }, [getEstablishmenBranch, getEstablishment, establishment_id]);\n\n  useEffect(() => {\n    if (filter) {\n      let { restaurant_id, brand_id } = filter;\n      setRestaurantId(restaurant_id ? Number(restaurant_id) : undefined);\n      setBrandId(brand_id ? Number(brand_id) : undefined);\n    }\n  }, [filter]);\n\n  useEffect(() => {\n    dispatch({\n      type: actionTypes.CHANGE_FILTERS,\n      defaultFilters: {\n        restaurant_id: true,\n        brand_id: true,\n      },\n    });\n  }, []);\n\n  useEffect(() => {\n    if (props.location) {\n      let query = qs.parse(props.location.search.replace(/\\?/, \"\"));\n      if (query) {\n        for (let key in query) {\n          if (\n            typeof query[key] == \"undefined\" ||\n            query[key] === \"\" ||\n            query[key] === null\n          ) {\n            delete query[key];\n          }\n        }\n        setFilter(query);\n      }\n    }\n  }, [props.location]);\n\n  return (\n    <Layout.Content\n      style={{ height: \"100%\", overflow: \"auto\", padding: \"2rem\" }}\n    >\n      <Row\n        align=\"middle\"\n        style={{\n          color: \"var(--purple)\",\n        }}\n        gutter={[16, 16]}\n        justify=\"space-between\"\n      >\n        <Col>\n          <Row gutter={16}>\n            <Col>\n              <IoRestaurantOutline size={30} />\n            </Col>\n            <Col>\n              <Typography.Title level={3} style={{ margin: 0 }}>\n                Menú/Carta\n              </Typography.Title>\n            </Col>\n          </Row>\n        </Col>\n        <Col>\n          <Row gutter={16}>\n            <Col>\n              <Button\n                type=\"primary\"\n                icon={\n                  <>\n                    <BsBrush size={20} />\n                  </>\n                }\n                style={{\n                  borderRadius: \"0.5rem\",\n                }}\n                disabled={!establishment_id}\n                onClick={() => setModalVisible(true)}\n              >\n                Editar mi diseño\n              </Button>\n            </Col>\n            <Col>\n              <Button\n                icon={\n                  <>\n                    <IoGridOutline size={20} />\n                  </>\n                }\n                style={{\n                  borderRadius: \"0.5rem\",\n                  border: 0,\n                }}\n                disabled={!establishment_id}\n                onClick={() => setModalAppartaMenuVisible(true)}\n              >\n                AppartaMenu\n              </Button>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n      <Divider\n        style={{ background: \"transparent\", borderTop: 0, marginTop: 0 }}\n      />\n      {!establishment_id && (\n        <Box>*Selecciona un restaurante para ver el menú*</Box>\n      )}\n      {establishment_id && (\n        <>\n          <Row gutter={16}>\n            <Col>\n              <Radio.Group\n                defaultValue={\"mine\"}\n                onChange={handleChangeCategoryType}\n              >\n                <Radio value={\"mine\"}>Categorías propias</Radio>\n                <Radio value={\"apparta\"}>Categorías Apparta</Radio>\n              </Radio.Group>\n            </Col>\n          </Row>\n          <ListGroup\n            listTitle={\n              categoryType ? \"Categorías Apparta\" : \"Categorías propias\"\n            }\n            groupTitle=\"Items\"\n            reference=\"establishments-menu-items-categories\"\n            group_reference=\"establishment-menu-items\"\n            source={\n              categoryType\n                ? \"category[id]\"\n                : \"establishment_menu_items_category_id[id]\"\n            }\n            filteres={filter}\n            // group_cover_field=\"path_main\"\n            establishment_id={establishment_id}\n            departament_id={departament_id}\n            restaurant_id={establishment_id}\n            group_refresh={group_refresh}\n            fields={\n              <InputNumber\n                type=\"hidden\"\n                name=\"establishment_id\"\n                initial={establishment_id}\n              />\n            }\n            onSelectItemGroup={handleItemSelect}\n            onAddItem={() => {\n              setItemSelected(null);\n            }}\n            group_fields={[\n              {\n                xtype: \"filefield\",\n                name: \"path_main\",\n                source: \"path_main\",\n                disabled: true,\n                path: `restaurants/${establishment_id}/menu-items`,\n                multiple: false,\n                onUpload: () => {\n                  setGroupRefresh((refresh) => !refresh);\n                },\n                dragAndDrop: true,\n                showByEdit: true,\n                reference: \"menu-items\",\n                id: \"menu-items-path\",\n              },\n              ...group_fields,\n            ]}\n            group_section_footer={\n              <div className={\"sectionsContainer\"}>\n                {itemSelected && (\n                  <ItemSection\n                    title=\"Adicionales:\"\n                    establishment_id={establishment_id}\n                    reference=\"personalization-menu-item-sections\"\n                    item={itemSelected}\n                  />\n                )}\n              </div>\n            }\n            setterItem={setItem}\n            groupInitialValues={{\n              establishment_id,\n            }}\n            selectedItem={item}\n            itemSelectorAfterCreate={setItemSelected}\n            filterDefaultGroupValues={{\n              $sort: {\n                position: 1,\n              },\n              establishment_id,\n              $limit: 5000,\n            }}\n            filterDefaultValues={{\n              $sort: {\n                position: 1,\n              },\n              establishment_id,\n              $limit: 5000,\n            }}\n            defaultCategory={APPARTA_CATEGORIES}\n            categoryType={categoryType}\n            establishmentBranch={establishmentBranch}\n          />\n        </>\n      )}\n      <MyModal\n        title={\"Editar mi diseño de AppartaMenu\"}\n        onCancel={() => {\n          setModalVisible(false);\n          setBranchId();\n        }}\n        visible={modalVisible}\n      >\n        <SimpleForm\n          {...props}\n          textAcceptButton={\"Actualizar\"}\n          forwardedRef={props.forwardedRef}\n          autoSubmit={false}\n          onSubmit={(err, data) => {\n            if (err) return message.error(err);\n            console.log(data);\n            onUpdateEstablishColor({ ...data });\n          }}\n        >\n          <ColorField\n            flex={1}\n            shape=\"picker\"\n            name=\"apparta_menu_main_color\"\n            initial={establishmentData?.apparta_menu_main_color}\n            label=\"Color Principal\"\n            placeholder=\"Color Principal\"\n          />\n          <Select\n            flex={0.5}\n            name=\"apparta_menu_categories_source\"\n            label=\"apparta_menu_categories_source\"\n            initial={establishmentData?.apparta_menu_categories_source}\n          >\n            <Select.Option value=\"appartaCategories\">\n              appartaCategories\n            </Select.Option>\n            <Select.Option value=\"establishmentCategories\">\n              establishmentCategories\n            </Select.Option>\n          </Select>\n          <Select\n            flex={0.5}\n            name=\"apparta_menu_booking_categories_source\"\n            label=\"apparta_menu_booking_categories_source\"\n            initial={establishmentData?.apparta_menu_booking_categories_source}\n          >\n            <Select.Option value=\"appartaCategories\">\n              appartaCategories\n            </Select.Option>\n            <Select.Option value=\"establishmentCategories\">\n              establishmentCategories\n            </Select.Option>\n          </Select>\n          {establishmentData?.id &&\n            establishmentData?.apparta_menu_branch_list_background_path && (\n              <GalleryUploader\n                flex={1}\n                refresh={(e, response) => setEstablishMentData(response)}\n                size=\"large\"\n                record={establishmentData}\n                defaultImage={\n                  establishmentData.apparta_menu_branch_list_background_path\n                }\n                source=\"apparta_menu_branch_list_background_path\"\n                name=\"apparta_menu_branch_list_background_path\"\n                withCropper={true}\n                setterVisibleCropper={() => {}}\n                reference=\"establishments\"\n                _id={establishmentData.id}\n                path={`apparta_menu_branch_list_background_path/${establishmentData.name}/`}\n              />\n            )}\n          {establishmentData?.id && (\n            <FileUploader\n              preview={false}\n              path={`apparta_menu_branch_list_background_path/${establishmentData.name}/`}\n              name=\"apparta_menu_branch_list_background_path\"\n              source=\"apparta_menu_branch_list_background_path\"\n              style={{ borderRadius: \"0.5rem\" }}\n              onFinish={(url, file) =>\n                handleUploadFinish(\n                  \"apparta_menu_branch_list_background_path\",\n                  url,\n                  file,\n                  establishmentData.id\n                )\n              }\n            />\n          )}\n        </SimpleForm>\n      </MyModal>\n      {modalAppartaMenuVisible && (\n        <ModalAppartaMenu\n          visible={modalAppartaMenuVisible}\n          setVisible={setModalAppartaMenuVisible}\n          establishmentBranch={establishmentBranch}\n          slug={establishmentData.slug}\n          getEstablishmenBranch={getEstablishmenBranch}\n          isAdmin={userRole === USERS_ROLES.admin}\n        />\n      )}\n    </Layout.Content>\n  );\n};\nexport default MenuCategories;\n","export const LOGIN = \"LOGIN\";\nexport const REGISTER = \"REGISTER\";\nexport const ADD_NOTIFICATION = \"ADD_NOTIFICATION\";\nexport const REMOVE_NOTIFICATION = \"REMOVE_NOTIFICATION\";\nexport const SET_AUTHENTICATE = \"SET_AUTHENTICATE\";\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\nexport const START_LOADING_USER = \"START_LOADING_USER\";\nexport const END_LOADING_USER = \"END_LOADING_USER\";\nexport const TOGGLE_FAVORITE = \"TOGGLE_FAVORITE\";\n\nexport const ADD_TASK = \"ADD_TASK\";\n\nexport const LINKED_PRODUCTS = \"LINKED_PRODUCTS\";\n\nexport const UPDATE_TASKS = \"UPDATE_TASKS\";\nexport const CREATE_TASKS = \"CREATE_TASKS\";\nexport const COLOR_THEME = \"COLOR_THEME\";\nexport const CHANGE_SEARCH = \"CHANGE_SEARCH\";\nexport const CHANGE_FILTERS = \"CHANGE_FILTERS\";\n\nexport const COLLAPSE_MENU = \"COLLAPSE_MENU\";\n","import styled from \"styled-components\";\nimport { Layout } from 'antd';\n\nexport const ActivityContainer = styled.div``;\n\nexport const HeadContainer = styled.div`\n  padding: 10px 20px;\n\n  & h2 {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 18px;\n    line-height: 24px;\n    margin-bottom: 0px;\n    line-height: 24px !important;\n\n    color: ${props =>\n    props.background\n      ? props.color || \"#FFF\"\n      : \"rgba(0, 0, 0, 0.85)\"}!important;\n  }\n  & .ant-breadcrumb-link,\n  .ant-breadcrumb-separator,\n  .ant-breadcrumb a {\n    color: ${props =>\n    props.background ? props.color || \"#FFF\" : \"var(--gray)\"}!important;\n  }\n`;\n\nexport const WrapperWarning = styled.div`\n  box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.03) !important;\n  border: 1px solid #e8e8e85e !important;\n  border-radius: 20px;\n  line-height: 27px;\n  margin: 0 0 10px 1rem;\n  width: 100%;\n  color: #ffffff;\n  background-color: #d60915;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n`;\n\nexport const LogoAppartaImg = styled.img`\n  width: auto;\n  height: 25px;\n  @media (max-width: 960px) {\n    width: 0;\n  }\n  @media (max-width: 718px) {\n    width: 20vw;\n  }\n`;\n\nexport const EstablishmentFilterWrapper = styled.div`\n  width: 17rem;\n  & .ant-select-selection-placeholder {\n    color: black;\n  }\n  & .ant-select{\n    width: 100%;\n  }\n  @media (max-width: 890px) {\n    width: 32vw;\n  }\n`;\n\nconst { Header } = Layout;\n\nexport const TopHeader = styled(Header)`\n  box-shadow: 0 2px 8px #C8CCD1;\n  z-index:102;\n  height: auto !important;\n  min-height:54px !important;\n  padding: 0px 0px 0px 0px !important;\n  position: sticky !important;\n  top: 0 !important;\n  color: var(--purple) !important;\n  background: var(--color-white) !important;\n  & .trigger {\n    font-size: var(--font-size-large);\n    line-height: var(--font-size-medium);\n    padding: 14px 24px;\n    cursor: pointer;\n    transition: color 0.3s;\n  }\n  & .item-menu {\n    padding: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  & .ant-dropdown-trigger i.anticon {\n    font-size: 20px !important;\n  }\n  & .ant-dropdown-trigger .ant-badge-dot {\n    top: 10px !important;\n    right: 10px !important;\n  }\n  & .ant-dropdown-trigger {\n    cursor: pointer;\n    border-radius: 50% !important;\n  }\n   & .primary-menu-item:hover {\n    color: #fff !important;\n    background: var(--primary);\n  } \n`;","import { Select } from \"antd\";\nimport _ from \"lodash\";\n\nconst { Option } = Select;\n\nconst ResponsiveSelect = ({ choices, valueField, labelField, ...props }) => {\n\n    function detectMobOs() {\n        const toMatch = [\n            /Android/i,\n            /webOS/i,\n            /iPhone/i,\n            /iPad/i,\n            /iPod/i,\n            /iPad Pro/i,\n            /BlackBerry/i,\n            /Windows Phone/i\n        ];\n\n        return toMatch.some((toMatchItem) => {\n            return navigator.userAgent.match(toMatchItem);\n        });\n    }\n    function detectMobSize() {\n        return ((window.innerWidth <= 700) && (window.innerHeight <= 1000));\n    }\n\n    if (detectMobOs() && detectMobSize())\n        return (\n            <>\n                <div className=\"ant-select ant-select-borderless sc-kIPQKe dIxprC ant-select-single ant-select-show-arrow\">\n                    <div className=\"ant-select-selector\">\n                        <span className='ant-select-selection-search' >\n                            <select\n                                className='ant-select-selection-search-input'\n                                placeholder=\"Seleccione una dirección\"\n                                {...props}\n                                onChange={(event) => {\n                                    if (props.onSelect)\n                                        props.onSelect(event.target.value);\n                                }}\n                            >\n                                {props?.placeholder && <option value=\"default\">{props?.placeholder}</option>}\n                                {\n                                    _.map(\n                                        choices,\n                                        (item, index) =>\n                                            <option\n                                                aria-selected=\"false\"\n                                                key={index}\n                                                value={item[valueField || 'id']}\n\n                                            >\n                                                {item[labelField || 'name']}\n                                            </option>\n                                    )\n                                }\n                            </select>\n                        </span>\n                    </div>\n                    <span className=\"ant-select-arrow\" unselectable=\"on\" aria-hidden=\"true\" style={{ userSelect: 'none' }}>\n                        <span role=\"img\" aria-label=\"down\" className=\"anticon anticon-down ant-select-suffix\">\n                            <svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"down\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\">\n                                <path d=\"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z\">\n                                </path>\n                            </svg>\n                        </span>\n                    </span>\n                </div>\n            </>\n        )\n    else return (\n        <Select {...props}>\n            {\n                _.map(\n                    choices,\n                    (item, index) =>\n                        <Option\n                            key={index}\n                            value={item[valueField || 'id']}\n                        >\n                            {item[labelField || 'name']}\n                        </Option>\n                )\n            }\n        </Select>\n    )\n}\n\nexport default ResponsiveSelect;","import React, { useState, useEffect } from 'react';\nimport { Col, Row } from 'antd';\nimport _ from 'lodash';\n\nimport { HiOutlineLocationMarker } from 'react-icons/hi';\nimport { IoStorefrontOutline } from 'react-icons/io5';\nimport { EstablishmentFilterWrapper } from './Styles';\nimport ResponsiveSelect from '../responsiveSelect';\n\nconst PERMISSIONS_TYPE = {\n    establishments: \"establishments\",\n    events: \"events\"\n}\n\nconst RestaurantFilters = (props) => {\n\n    const {\n        user,\n        showBranch,\n        establishmentFilters,\n        handleSetEstablishmentFilters,\n    } = props;\n\n    const { permissionsv2 = [] } = user;\n\n    const [branches, setBranches] = useState([]);\n    const [establishments] = useState([\n        {\n            establishment_id: 'default',\n            name: 'Restaurante',\n        },\n        ..._.filter(\n            permissionsv2,\n            (item) => item.type === PERMISSIONS_TYPE.establishments\n        )\n    ]);\n\n\n    useEffect(() => {\n        if (establishmentFilters?.establishment_id) {\n\n            const findBranches = _.find(\n                permissionsv2, (item) =>\n                item.establishment_id\n                && item.establishment_id\n                === parseInt(establishmentFilters?.establishment_id)\n            )?.establishments_branchs || [];\n\n            setBranches([\n                {\n                    id: 'default',\n                    address: 'Dirección',\n                },\n                ...findBranches\n            ]);\n\n        }\n        else\n            setBranches([{\n                id: 'default',\n                address: 'Dirección',\n            },\n            ]);\n\n    }, [establishmentFilters.establishment_id, permissionsv2])\n\n    return (\n        <Row>\n            <Col>\n                <Row align='middle'>\n                    <Col>\n                        <IoStorefrontOutline />\n                    </Col>\n                    <Col>\n                        <EstablishmentFilterWrapper>\n                            <ResponsiveSelect\n                                defaultValue=\"default\"\n                                bordered={false}\n                                onSelect={(value) =>\n                                    handleSetEstablishmentFilters(\n                                        value === \"default\"\n                                            ? {}\n                                            : { establishment_id: value }\n                                    )}\n                                value={establishmentFilters.establishment_id || \"default\"}\n                                choices={establishments}\n                                valueField='establishment_id'\n                            />\n                        </EstablishmentFilterWrapper>\n                    </Col>\n                </Row>\n            </Col>\n            {\n                showBranch &&\n                <Col>\n                    <Row align='middle'>\n                        <Col>\n                            <HiOutlineLocationMarker />\n                        </Col>\n                        <Col>\n                            <EstablishmentFilterWrapper>\n                                <ResponsiveSelect\n                                    defaultValue=\"default\"\n                                    bordered={false}\n                                    onSelect={(value) => {\n                                        handleSetEstablishmentFilters({\n                                            ...establishmentFilters,\n                                            establishment_branch_id: value === \"default\" ? undefined : value,\n                                        })\n                                    }}\n                                    value={establishmentFilters.establishment_branch_id || \"default\"}\n                                    choices={branches}\n                                    labelField=\"address\"\n                                />\n                            </EstablishmentFilterWrapper>\n                        </Col>\n                    </Row>\n                </Col >\n            }\n        </Row >\n    );\n}\n\nexport default RestaurantFilters;","import React, { useState } from 'react';\nimport { Select, Col, Row, message } from 'antd';\nimport _ from 'lodash';\nimport debounce from \"lodash/debounce\";\nimport { HiOutlineLocationMarker } from 'react-icons/hi';\nimport { IoStorefrontOutline } from 'react-icons/io5';\nimport { EstablishmentFilterWrapper } from './Styles';\nimport { getService } from '../../services';\nimport ResponsiveSelect from '../responsiveSelect';\n\nconst { Option } = Select;\n\nconst PERMISSIONS_TYPE = {\n    establishments: \"establishments\",\n    events: \"events\"\n}\n\nconst RestaurantFiltersForAdmin = (props) => {\n\n    const {\n        user,\n        showBranch,\n        establishmentFilters,\n        handleSetEstablishmentFilters,\n    } = props;\n\n    const establishmentsServices = getService('establishments');\n    const establishmentsBranchsServices = getService('establishments-branchs');\n    const [establishmentsOptions, setEstablishmentsOptions] = useState([]);\n    const [establishmentBranchsOptions, setEstablishmentBranchsOptions] = useState([]);\n    const [loadingBranchs, setLoadingBranchs] = useState(false);\n\n    const getEstablishmentsDatas = (value) => {\n        if (value === '') {\n            setEstablishmentsOptions([])\n            return;\n        }\n        establishmentsServices.find({\n            query: {\n                q: value,\n                $client: {\n                    skipJoins: true\n                },\n                $limit: 25,\n                $select: ['id', 'name']\n            }\n        })\n            .then(({ data }) => setEstablishmentsOptions(data))\n            .catch((err) => message.error(err));\n    };\n\n    const getBranchsDatas = ({ establishment_id }) => {\n        setLoadingBranchs(true);\n        establishmentsBranchsServices.find({\n            query: {\n                establishment_id,\n                $client: {\n                    skipJoins: true\n                },\n                $limit: 10000,\n            }\n        })\n            .then(({ data }) => {\n                setEstablishmentBranchsOptions(data);\n                setLoadingBranchs(false);\n            })\n            .catch((err) => {\n                setLoadingBranchs(false);\n                message.error(err)\n            });\n\n    };\n\n    const debounceGetEstablishmentsDatas = debounce(getEstablishmentsDatas, 500, { maxWait: 800 });\n\n    return (\n        <Row>\n            <Col>\n                <Row align='middle'>\n                    <Col>\n                        <IoStorefrontOutline />\n                    </Col>\n                    <Col>\n                        <EstablishmentFilterWrapper>\n                            <Select\n                                showSearch\n                                bordered={false}\n                                placeholder=\"Restaurante\"\n                                allowClear\n                                onSearch={debounceGetEstablishmentsDatas}\n                                onClear={() => handleSetEstablishmentFilters({})}\n                                onSelect={(value) => {\n                                    handleSetEstablishmentFilters({ establishment_id: value });\n                                    getBranchsDatas({ establishment_id: value });\n                                }}\n                                optionFilterProp=\"children\"\n                                value={establishmentFilters.establishment_id}\n                                filterOption={(input, option) => option.children.toLowerCase().includes(input.toLowerCase())}\n                            >\n                                {\n                                    _.map(establishmentsOptions, ({ id, name }, index) =>\n                                        <Option\n                                            key={index}\n                                            value={id}\n                                            label={name}\n                                        >\n                                            {name}\n                                        </Option>\n                                    )\n                                }\n                            </Select>\n                        </EstablishmentFilterWrapper>\n                    </Col>\n                </Row>\n            </Col>\n            {\n                showBranch &&\n                <Col>\n                    <Row align='middle'>\n                        <Col>\n                            <HiOutlineLocationMarker />\n                        </Col>\n                        <Col>\n                            <EstablishmentFilterWrapper>\n                                <ResponsiveSelect\n                                    placeholder=\"Dirección\"\n                                    loading={loadingBranchs}\n                                    bordered={false}\n                                    allowClear\n                                    onSelect={(value) => {\n                                        handleSetEstablishmentFilters({\n                                            ...establishmentFilters,\n                                            establishment_branch_id: value === 'default' ? undefined : parseInt(value),\n                                        })\n                                    }}\n                                    onClear={() =>\n                                        handleSetEstablishmentFilters({\n                                            ...establishmentFilters,\n                                            establishment_branch_id: undefined,\n                                        })\n                                    }\n                                    value={establishmentFilters.establishment_branch_id}\n                                    labelField=\"address\"\n                                    choices={establishmentBranchsOptions}\n                                    showSearch\n                                    optionFilterProp=\"children\"\n                                    filterOption={(input, option) =>\n                                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                    }\n                                />\n                            </EstablishmentFilterWrapper>\n                        </Col>\n                    </Row>\n                </Col>\n            }\n        </Row>\n    );\n}\n\nexport default RestaurantFiltersForAdmin;","export default __webpack_public_path__ + \"static/media/LOGO_SVG.0aee5ecc.svg\";","import React, { useState, useEffect } from \"react\"; \nimport { useNavigate, Link, useLocation } from \"react-router-dom\";\nimport { useMedia } from \"react-use\";\nimport { Layout, Row, Col, Icon, Dropdown, Menu, message, Avatar, Button, Badge, Tooltip } from \"antd\";\n/* Redux */\nimport { connect, useDispatch } from \"react-redux\";\nimport * as actionTypes from \"../../redux/app/actions\";\nimport { setSetEstablishmentFilters } from '../../views/orders/redux/actions';\n//\nimport { Logout, disconnect } from \"../../services/services\";\nimport { getService } from \"../../services\";\nimport preval from \"preval.macro\";\nimport _moment from \"moment-timezone\";\nimport { DEFAULT_USER_AVATAR, S3_PATH_IMAGE_HANDLER } from \"../../constants\"\n\n\nimport EstablishmentFilters from './EstablishmentFilters';\nimport RestaurantFiltersForAdmin from \"./EstablishmentsFilterForAdmin\";\n\nimport { LogoAppartaImg, TopHeader } from \"./Styles\";\nimport LogoApparta from '../../sources/images/LOGO_SVG.svg';\nimport { CgMenuGridO } from 'react-icons/cg';\nimport { MdOutlineNotificationsNone } from 'react-icons/md';\nimport { AiOutlineYoutube } from 'react-icons/ai';\n\nconst TopBar = (props) => {\n  const location = useLocation();\n\n\n  useEffect(() => {\n    console.log('location', location);\n\n    console.log( location?.pathname !== '/dashboard/establishment/menu');\n    console.log( location?.pathname !== '/dashboard/establishment/discounts/templates');\n    console.log( location?.pathname !== '/dashboard/establishment/discounts/deals');\n    console.log( !location?.pathname?.includes('/dashboard/establishment/invoice'));\n\n    console.log(\n      location?.pathname !== '/dashboard/establishment/menu'\n                        && location?.pathname !== '/dashboard/establishment/discounts/templates'\n                        && location?.pathname !== '/dashboard/establishment/discounts/deals'\n                        && !location?.pathname?.includes('/dashboard/establishment/invoice')\n                        ? true\n                        : false\n    );\n  }, [location]);\n\n\n  const navigate = useNavigate();\n\n  const {\n    user = {},\n    collapsedMenu,\n    establishmentFilters,\n    handleSetEstablishmentFilters,\n    notificationsDataCount,\n    ...rest\n  } = props;\n\n  const dropMenu = useMedia(\"(max-width: 576px)\");\n  const dropEstablishmentFilters = useMedia(\"(max-width: 718px)\");\n  const dispatch = useDispatch();\n  const service = getService(\"configurations\");\n  const [latestBuild, setLastestBuild] = useState(false);\n  const prevalBuild = preval`module.exports = new Date()`;\n  const currentBuild = _moment(prevalBuild);\n\n\n  async function getLastBuild() {\n    try {\n      const response = await service.get(26);\n      const latest = _moment(response?.value);\n\n\n      if (_moment(latest).isSameOrAfter(currentBuild)) {\n        alert(\"Hay una nueva versión. Debes actualizar la pantalla.\");\n        window.location.reload();\n      } else {\n        console.log(\"La version actual es la más reciente .\")\n      }\n\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  useEffect(() => {\n    getLastBuild().then();\n  }, [latestBuild]);\n\n\n  useEffect(() => {\n    if (\n      /Android|webOS|iPhone|iPad|iPod|iPad Pro|BlackBerry|IEMobile|Opera Mini/i.test(\n        navigator.userAgent\n      )\n    ) {\n      dispatch({\n        type: actionTypes.DROP_MENU,\n        dropMenu: {\n          dropMenu: true\n        }\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!localStorage.getItem(\"initialized\")) {\n      dispatch({\n        type: actionTypes.DROP_MENU,\n        dropMenu: {\n          dropMenu: dropMenu\n        }\n      });\n      localStorage.setItem(\"initialized\", true);\n    }\n    return () => {\n      if (localStorage.getItem(\"initialized\"))\n        localStorage.removeItem(\"initialized\");\n    };\n  }, [dropMenu]);\n\n\n  const handleMenuClick = ({ key }) => {\n    switch (key) {\n      case \"logout\":\n        Logout()\n          .then(response => {\n            disconnect();\n            window.localStorage.removeItem(\"initialized\");\n            window.localStorage.clear();\n            navigate(\"/\");\n            window.location.reload();\n          })\n          .catch(err => message.error(err.message));\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleMenuTopClick = ({ key }) => {\n    switch (key) {\n      case \"orders\":\n        navigate(\"/dashboard/orders\");\n        break;\n      case \"menu-categories\":\n        navigate(\"/dashboard/menu-categories\");\n        break;\n      case \"menu-reviews\":\n        navigate(\"/dashboard/menu-reviews\");\n        break;\n      case \"log-orders\":\n        navigate(\"/dashboard/log-orders\");\n        break;\n      case \"brands\":\n        navigate(\"/dashboard/brands\");\n        break;\n      case \"restaurants\":\n        navigate(\"/dashboard/restaurants\");\n        break;\n      case \"shipping-costs\":\n        navigate(\"/dashboard/shipping-costs\");\n        break;\n      case \"user-brand-permissions\":\n        navigate(\"/dashboard/users-brand-permissions?role=user\");\n        break;\n      case \"users\":\n        navigate(\"/dashboard/users?role=admin\");\n        break;\n      case \"kwoledge-base\":\n        navigate(\"/dashboard/knowledge-base?role=admin\");\n        break;\n      case \"articles\":\n        navigate(\"/dashboard/articles\");\n        break;\n      case \"logout\":\n        Logout()\n          .then(response => {\n            disconnect();\n            window.localStorage.removeItem(\"initialized\");\n            window.localStorage.clear();\n            navigate(\"/\");\n            window.location.reload();\n          })\n          .catch(err => message.error(err.message));\n        break;\n      default:\n        break;\n    }\n  };\n\n  const menuTop = (\n    <Menu onClick={handleMenuTopClick}>\n      <Menu.Item key=\"orders\">\n        <Icon type=\"inbox\" />\n        Recepción de pedidos\n      </Menu.Item>\n      <Menu.Item key=\"menu-categories\">\n        <Icon type=\"fire\" />\n        Menú-Carta\n      </Menu.Item>\n      <Menu.Item key=\"menu-reviews\">\n        <Icon type=\"star\" />\n        Calificaiónes\n      </Menu.Item>\n      <Menu.Item key=\"log-orders\">\n        <Icon type=\"shopping\" />\n        Historial de pedidos\n      </Menu.Item>\n      <Menu.Item key=\"brands\">\n        <Icon type=\"shop\" />\n        Marcas\n      </Menu.Item>\n      <Menu.Item key=\"restaurants\">\n        <Icon type=\"shop\" />\n        Restaurantes\n      </Menu.Item>\n      <Menu.Item key=\"shipping-costs\">\n        <Icon type=\"rocket\" />\n        Costos de envio\n      </Menu.Item>\n      <Menu.Item key=\"users-brand-permissions\">\n        <Icon type=\"team\" />\n        Mi equipo\n      </Menu.Item>\n      <Menu.Item key=\"users\">\n        <Icon type=\"team\" />\n        Usuarios PoketMenu\n      </Menu.Item>\n      <Menu.Item key=\"kwoledge-base\">\n        <Icon type=\"book\" />\n        Centro de ayuda\n      </Menu.Item>\n      <Menu.Item key=\"articles\">\n        <Icon type=\"file-text\" />\n        Articulos\n      </Menu.Item>\n      <Menu.Item key=\"logout\">\n        <Icon size=\"large\" type=\"logout\" />\n        Cerrar sesión\n      </Menu.Item>\n    </Menu>\n  );\n\n  const menu = (\n    <Menu\n      onClick={handleMenuClick}\n      items={[\n        {\n          key: 'logout',\n          label: 'Cerrar sesión',\n        },\n        {\n          key: 'user',\n          label: `${user?.first_name} ${user?.last_name}`,\n        },\n        {\n          key: 'build',\n          label: `Build: ${_moment(prevalBuild).format(\"YYYY-MM-DD HH:mm:ss\")}`,\n        },\n      ]}\n    />\n  );\n\n  const handlePermission = permission => {\n    // Whatever the user answers, we make sure Chrome stores the information\n    if (!(\"permission\" in Notification)) {\n      Notification.permission = permission;\n    }\n    // set the button to shown or hidden, depending on what the user answers\n    if (\n      // Notification.permission === \"denied\" ||\n      Notification.permission === \"default\"\n    ) {\n      message.error(\"Notifications not allowed\");\n    } else {\n    }\n  };\n\n  const checkNotificationPromise = () => {\n    try {\n      Notification.requestPermission().then();\n    } catch (e) {\n      return false;\n    }\n    return true;\n  };\n\n  useEffect(() => {\n    if (user) {\n      if (!(\"Notification\" in window)) {\n      } else {\n        if (checkNotificationPromise()) {\n          Notification.requestPermission().then(permission => {\n            handlePermission(permission);\n          });\n        } else {\n          Notification.requestPermission(function (permission) {\n            handlePermission(permission);\n          });\n        }\n      }\n    }\n  }, []);\n\n\n  useEffect(() => {\n    console.log('dropEstablishmentFilters', dropEstablishmentFilters);\n  }, [dropEstablishmentFilters]);\n\n  return (\n    <TopHeader>\n      <Row\n        type=\"flex\"\n        align=\"middle\"\n        justify=\"space-between\"\n        style={{\n          width: '100%',\n          height: '54px',\n          paddingRight: '20px'\n        }}\n      >\n        <Col>\n          <Row type=\"flex\" align=\"middle\" >\n            <Col>\n              <Button\n                type=\"text\"\n                onClick={() => rest.onToggleNavigation()}\n                className=\"trigger\"\n              >\n                <CgMenuGridO color=\"var(--purple)\" />\n              </Button>\n            </Col>\n            <Col>\n              <Link to=\"/dashboard\">\n                <LogoAppartaImg\n                  src={LogoApparta}\n                  alt='logo app'\n                />\n              </Link>\n            </Col>\n          </Row>\n        </Col>\n        {!dropEstablishmentFilters &&\n          <Col>\n            {\n              user.role === \"admin\"\n                ? (\n                  <RestaurantFiltersForAdmin\n                    user={user}\n                    establishmentFilters={establishmentFilters}\n                    handleSetEstablishmentFilters={handleSetEstablishmentFilters}\n                    showBranch={\n                       location?.pathname !== '/dashboard/establishment/menu'\n                        && location?.pathname !== '/dashboard/establishment/discounts/templates'\n                        && location?.pathname !== '/dashboard/establishment/discounts/deals'\n                        && !location?.pathname?.includes('/dashboard/establishment/invoice')\n                        ? true\n                        : false}\n                  />\n                ) : (\n                  <EstablishmentFilters\n                    user={user}\n                    establishmentFilters={establishmentFilters}\n                    handleSetEstablishmentFilters={handleSetEstablishmentFilters}\n                    showBranch={\n                      location?.pathname !== '/dashboard/establishment/menu'\n                        && location?.pathname !== '/dashboard/establishment/discounts/templates'\n                        &&  location?.pathname !== '/dashboard/establishment/discounts/deals'\n                        &&  !location?.pathname?.includes('/dashboard/establishment/invoice')\n                        ? true\n                        : false}\n                  />\n                )\n            }\n          </Col>\n        }\n        <Col>\n          <Row gutter={16}>\n            <Col>\n              <Tooltip title='Tutorial Dashboard'>\n                <Button\n                  type=\"link\"\n                  icon={<AiOutlineYoutube size={25} />}\n                  onClick={() =>\n                    window.open('https://www.youtube.com/watch?v=XloZmviOzuI&ab_channel=MarianaRincon', '_blank')\n                  }\n                />\n              </Tooltip>\n            </Col>\n            <Col >\n              <Badge\n                count={notificationsDataCount}\n                overflowCount={9}\n                style={{ background: \"var(--purple)\" }}>\n                <Button\n                  type=\"text\"\n                  shape=\"circle\"\n                  disabled={!(notificationsDataCount > 0)}\n                  icon={<MdOutlineNotificationsNone size={25} />}\n                  onClick={() => rest.onCollapsedNotification()}\n                />\n              </Badge>\n            </Col>\n            <Col >\n              <Dropdown overlay={menu}>\n                {\n                  user?.avatar_gallery?.path ? (\n                    <Avatar\n                      src={`${S3_PATH_IMAGE_HANDLER}/${window.imageShark({\n                        url: user.avatar_gallery.path,\n                        width: 64,\n                        height: 64,\n                      })}`}\n                    />\n                  ) : (\n                    <Avatar\n                      src={`${S3_PATH_IMAGE_HANDLER}/${window.imageShark({\n                        url: DEFAULT_USER_AVATAR,\n                        width: 64,\n                        height: 64,\n                      })}`}\n                    />\n                  )\n                }\n              </Dropdown>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n      {dropEstablishmentFilters &&\n        <Row\n          type=\"flex\"\n          align=\"middle\"\n          justify=\"center\"\n          style={{\n            width: '100%',\n            height: '45px',\n            borderTop: '1px solid rgb(217, 217, 217)'\n          }}\n        >\n          <Col>\n            {\n              user.role === \"admin\"\n                ? (\n                  <RestaurantFiltersForAdmin\n                    user={user}\n                    establishmentFilters={establishmentFilters}\n                    handleSetEstablishmentFilters={handleSetEstablishmentFilters}\n                    showBranch={\n                      location?.pathname !== '/dashboard/establishment/menu'\n                        && location?.pathname !== '/dashboard/establishment/discounts/templates'\n                        && location?.pathname !== '/dashboard/establishment/discounts/deals'\n                        && !location?.pathname?.includes('/dashboard/establishment/invoice')\n                        ? true\n                        : false}\n                  />\n                ) : (\n                  <EstablishmentFilters\n                    user={user}\n                    establishmentFilters={establishmentFilters}\n                    handleSetEstablishmentFilters={handleSetEstablishmentFilters}\n                    showBranch={\n                        location?.pathname !== '/dashboard/establishment/menu'\n                        && location?.pathname !== '/dashboard/establishment/discounts/templates'\n                        && location?.pathname !== '/dashboard/establishment/discounts/deals'\n                        && !location?.pathname?.includes('/dashboard/establishment/invoice')\n                        ? true\n                        : false}\n                  />\n                )\n            }\n          </Col>\n        </Row>\n      }\n    </TopHeader >\n  );\n};\n\n/* Inject reducers */\n\nconst mapStateToProps = state => {\n  const { appReducer, dashboardReducer } = state;\n  return {\n    collapsedMenu: appReducer.collapsedMenu,\n    dropMenu: appReducer.dropMenu,\n    user: appReducer.user,\n    establishmentFilters: dashboardReducer.establishmentFilters,\n    notificationsDataCount: appReducer.notificationsDataCount\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    onToggleNavigation: () => dispatch({ type: actionTypes.COLLAPSE_MENU }),\n    onCollapsedNotification: () => dispatch({ type: actionTypes.COLLAPSE_NOTIFICATION }),\n    handleSetEstablishmentFilters: (payload) => dispatch(setSetEstablishmentFilters(payload))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(TopBar);\n","import React, { useEffect, useState } from 'react';\nimport moment from 'moment';\nimport { Row, Col, Badge, Typography, message, Tooltip, Button, Space, } from 'antd';\nimport { IoTicketOutline } from 'react-icons/io5';\nimport { getService } from '../../services';\nimport AsyncButton from '../asyncButton';\n\nimport MinuteProgress from '../minuteProgress';\nimport { useMedia } from 'react-use';\n\nconst STATUS_RESERVATION = {\n    claimed: \"claimed\",\n    notClaimed: \"notClaimed\",\n    acquired: \"acquired\",\n    notApproved: \"notApproved\",\n    canceledByEstablishment: \"canceledByEstablishment\"\n};\n\nconst CheackIcon = () => (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M10.0013 18.2944C14.6037 18.2944 18.3346 14.5714 18.3346 9.97876C18.3346 5.38614 14.6037 1.66309 10.0013 1.66309C5.39893 1.66309 1.66797 5.38614 1.66797 9.97876C1.66797 14.5714 5.39893 18.2944 10.0013 18.2944Z\" fill=\"#00B84E\" stroke=\"#00B84E\" stroke-width=\"1.3\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M14.168 7.48401L9.01172 12.6293L6.66797 10.2905\" fill=\"#00B84E\" />\n        <path d=\"M14.168 7.48401L9.01172 12.6293L6.66797 10.2905\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>\n);\n\nconst CancelIcon = () => (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clip-path=\"url(#clip0_623_16143)\">\n            <rect width=\"20\" height=\"19.9576\" fill=\"white\" />\n            <path d=\"M10.0013 18.2944C14.6037 18.2944 18.3346 14.5714 18.3346 9.97876C18.3346 5.38614 14.6037 1.66309 10.0013 1.66309C5.39893 1.66309 1.66797 5.38614 1.66797 9.97876C1.66797 14.5714 5.39893 18.2944 10.0013 18.2944Z\" fill=\"#D62626\" stroke=\"#D62626\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n            <path d=\"M12.5 7.48413L7.5 12.4735\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n            <path d=\"M7.5 7.48413L12.5 12.4735\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        </g>\n        <defs>\n            <clipPath id=\"clip0_623_16143\">\n                <rect width=\"20\" height=\"19.9576\" fill=\"white\" />\n            </clipPath>\n        </defs>\n    </svg>\n\n);\n\nconst UserIcon = () => (\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path opacity=\"0.2\" d=\"M16.5 9.00958C16.5011 10.0624 16.2804 11.1036 15.8524 12.0653C15.4243 13.027 14.7984 13.8875 14.0156 14.5907C13.545 13.6641 12.8273 12.886 11.942 12.3426C11.0568 11.7992 10.0385 11.5117 9 11.512C9.61807 11.512 10.2223 11.3285 10.7362 10.9848C11.2501 10.6411 11.6506 10.1526 11.8871 9.58101C12.1236 9.00945 12.1855 8.38052 12.065 7.77375C11.9444 7.16699 11.6467 6.60963 11.2097 6.17218C10.7727 5.73473 10.2159 5.43681 9.60966 5.31612C9.00347 5.19543 8.37514 5.25737 7.80412 5.49412C7.2331 5.73087 6.74504 6.13179 6.40166 6.64618C6.05828 7.16057 5.875 7.76534 5.875 8.38399C5.875 9.21358 6.20424 10.0092 6.79029 10.5958C7.37634 11.1824 8.1712 11.512 9 11.512C7.96153 11.5117 6.94325 11.7992 6.05798 12.3426C5.17271 12.886 4.45501 13.6641 3.98438 14.5907C3.05489 13.7538 2.34913 12.6977 1.9313 11.5183C1.51346 10.3389 1.39679 9.07362 1.5919 7.83759C1.78702 6.60156 2.28772 5.43396 3.04848 4.44095C3.80924 3.44795 4.80592 2.66105 5.94789 2.15181C7.08987 1.64257 8.34091 1.42714 9.58724 1.52512C10.8336 1.6231 12.0357 2.03138 13.0842 2.71283C14.1328 3.39428 14.9945 4.32727 15.5911 5.42698C16.1876 6.52669 16.5001 7.75822 16.5 9.00958Z\" fill=\"#F0EFEF\" />\n        <path d=\"M9 0.876831C7.39303 0.876831 5.82214 1.35381 4.486 2.24744C3.14985 3.14108 2.10844 4.41124 1.49348 5.8973C0.87852 7.38336 0.717618 9.01858 1.03112 10.5962C1.34463 12.1738 2.11846 13.6229 3.25476 14.7603C4.39106 15.8977 5.8388 16.6722 7.4149 16.986C8.99099 17.2998 10.6247 17.1388 12.1093 16.5232C13.594 15.9077 14.8629 14.8653 15.7557 13.5279C16.6485 12.1904 17.125 10.6181 17.125 9.00956C17.1227 6.85332 16.266 4.78606 14.7427 3.26137C13.2195 1.73668 11.1542 0.879108 9 0.876831ZM4.7875 14.4444C5.23964 13.7366 5.86251 13.1541 6.59869 12.7507C7.33488 12.3472 8.16069 12.1357 9 12.1357C9.83932 12.1357 10.6651 12.3472 11.4013 12.7507C12.1375 13.1541 12.7604 13.7366 13.2125 14.4444C12.0081 15.382 10.5258 15.891 9 15.891C7.4742 15.891 5.99193 15.382 4.7875 14.4444ZM6.5 8.38397C6.5 7.88904 6.64663 7.40523 6.92133 6.99372C7.19603 6.5822 7.58648 6.26147 8.04329 6.07207C8.50011 5.88267 9.00278 5.83311 9.48773 5.92967C9.97268 6.02622 10.4181 6.26455 10.7678 6.61452C11.1174 6.96448 11.3555 7.41036 11.452 7.89578C11.5484 8.38119 11.4989 8.88433 11.3097 9.34158C11.1205 9.79883 10.8001 10.1897 10.3889 10.4646C9.97781 10.7396 9.49446 10.8863 9 10.8863C8.33696 10.8863 7.70108 10.6227 7.23224 10.1534C6.7634 9.68413 6.5 9.04764 6.5 8.38397ZM14.1375 13.5772C13.4404 12.5661 12.4603 11.7839 11.3203 11.329C11.9327 10.8462 12.3795 10.1844 12.5987 9.43566C12.8179 8.68692 12.7985 7.88841 12.5433 7.15119C12.2881 6.41397 11.8097 5.77468 11.1746 5.32222C10.5396 4.86976 9.77949 4.62663 9 4.62663C8.22052 4.62663 7.4604 4.86976 6.82536 5.32222C6.19033 5.77468 5.71193 6.41397 5.45671 7.15119C5.20149 7.88841 5.18212 8.68692 5.40131 9.43566C5.62049 10.1844 6.06734 10.8462 6.67969 11.329C5.53971 11.7839 4.55956 12.5661 3.8625 13.5772C2.9817 12.5857 2.406 11.3606 2.20473 10.0492C2.00346 8.73786 2.1852 7.39622 2.72806 6.18586C3.27093 4.9755 4.15178 3.94801 5.26454 3.22714C6.3773 2.50627 7.67452 2.12274 9 2.12274C10.3255 2.12274 11.6227 2.50627 12.7355 3.22714C13.8482 3.94801 14.7291 4.9755 15.2719 6.18586C15.8148 7.39622 15.9966 8.73786 15.7953 10.0492C15.594 11.3606 15.0183 12.5857 14.1375 13.5772Z\" fill=\"#202020\" />\n    </svg>\n\n);\n\nconst CalendarIcon = () => (<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect width=\"20\" height=\"20\" fill=\"white\" />\n    <path d=\"M15.8333 3.33337H4.16667C3.24619 3.33337 2.5 4.07957 2.5 5.00004V16.6667C2.5 17.5872 3.24619 18.3334 4.16667 18.3334H15.8333C16.7538 18.3334 17.5 17.5872 17.5 16.6667V5.00004C17.5 4.07957 16.7538 3.33337 15.8333 3.33337Z\" stroke=\"#202020\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    <path d=\"M13.332 1.66663V4.99996\" stroke=\"#202020\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    <path d=\"M6.66797 1.66663V4.99996\" stroke=\"#202020\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    <path d=\"M2.5 8.33337H17.5\" stroke=\"#202020\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n</svg>\n);\n\nconst ComunityIcon = () => (\n    <svg width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"20\" height=\"20.019\" fill=\"white\" />\n        <path d=\"M3.75 3.75354C3.75 3.08987 4.01339 2.45338 4.48223 1.98409C4.95107 1.5148 5.58696 1.25116 6.25 1.25116C6.91304 1.25116 7.54893 1.5148 8.01777 1.98409C8.48661 2.45338 8.75 3.08987 8.75 3.75354C8.75 4.41721 8.48661 5.0537 8.01777 5.52299C7.54893 5.99227 6.91304 6.25592 6.25 6.25592C5.58696 6.25592 4.95107 5.99227 4.48223 5.52299C4.01339 5.0537 3.75 4.41721 3.75 3.75354ZM6.25 2.50235C5.91848 2.50235 5.60054 2.63417 5.36612 2.86881C5.1317 3.10346 5 3.4217 5 3.75354C5 4.08537 5.1317 4.40362 5.36612 4.63826C5.60054 4.87291 5.91848 5.00473 6.25 5.00473C6.58152 5.00473 6.89946 4.87291 7.13388 4.63826C7.3683 4.40362 7.5 4.08537 7.5 3.75354C7.5 3.4217 7.3683 3.10346 7.13388 2.86881C6.89946 2.63417 6.58152 2.50235 6.25 2.50235ZM12.2238 5.73542C11.9619 5.53547 11.742 5.2857 11.5769 5.00045C11.4118 4.7152 11.3045 4.40009 11.2614 4.07324C11.2183 3.74639 11.2402 3.41424 11.3257 3.09586C11.4113 2.77749 11.5588 2.47918 11.7599 2.21806C11.961 1.95695 12.2117 1.73818 12.4975 1.57433C12.7833 1.41048 13.0986 1.30478 13.4254 1.2633C13.7521 1.22181 14.0839 1.24537 14.4015 1.33261C14.7191 1.41985 15.0164 1.56906 15.2762 1.77166C15.7879 2.1813 16.1184 2.7756 16.1967 3.42669C16.275 4.07778 16.0948 4.73361 15.6949 5.25308C15.295 5.77255 14.7074 6.11414 14.0585 6.20435C13.4095 6.29455 12.7512 6.12617 12.225 5.73542H12.2238ZM13.75 2.50235C13.4185 2.50235 13.1005 2.63417 12.8661 2.86881C12.6317 3.10346 12.5 3.4217 12.5 3.75354C12.5 4.08537 12.6317 4.40362 12.8661 4.63826C13.1005 4.87291 13.4185 5.00473 13.75 5.00473C14.0815 5.00473 14.3995 4.87291 14.6339 4.63826C14.8683 4.40362 15 4.08537 15 3.75354C15 3.4217 14.8683 3.10346 14.6339 2.86881C14.3995 2.63417 14.0815 2.50235 13.75 2.50235ZM3.125 7.50711H6.4625C6.325 7.89873 6.25 8.32038 6.25 8.7583H3.125C2.95924 8.7583 2.80027 8.8242 2.68306 8.94153C2.56585 9.05885 2.5 9.21797 2.5 9.38389C2.5 10.4061 2.90625 11.1643 3.5475 11.6798C3.8425 11.9175 4.19625 12.109 4.59625 12.2491C4.30251 12.5616 4.07615 12.9313 3.93125 13.3351C3.51167 13.1664 3.11881 12.9376 2.765 12.6557C1.825 11.8988 1.25 10.7802 1.25 9.38389C1.25 8.88614 1.44754 8.40877 1.79917 8.0568C2.15081 7.70484 2.62772 7.50711 3.125 7.50711ZM7.835 7.50711C7.50348 8.08218 7.41377 8.76552 7.5856 9.4068C7.75743 10.0481 8.17672 10.5948 8.75125 10.9266C9.32578 11.2584 10.0085 11.3482 10.6491 11.1762C11.2898 11.0043 11.836 10.5846 12.1675 10.0095C12.499 9.43441 12.5887 8.75107 12.4169 8.10979C12.2451 7.46851 11.8258 6.92182 11.2513 6.58998C10.6767 6.25815 9.99403 6.16835 9.35336 6.34034C8.71269 6.51234 8.16652 6.93203 7.835 7.50711ZM9.72 7.53839C9.90315 7.49697 10.0932 7.49727 10.2763 7.53924C10.4593 7.58121 10.6306 7.6638 10.7774 7.7809C10.9243 7.898 11.043 8.04662 11.1248 8.21579C11.2066 8.38496 11.2494 8.57035 11.25 8.7583C11.2499 8.99371 11.1835 9.22432 11.0583 9.42363C10.9331 9.62294 10.7543 9.78287 10.5424 9.88502C10.3305 9.98718 10.0942 10.0274 9.86043 10.0011C9.62671 9.97486 9.40514 9.88311 9.22118 9.73643C9.03722 9.58975 8.89833 9.3941 8.82047 9.17196C8.74262 8.94982 8.72896 8.7102 8.78105 8.48063C8.83315 8.25106 8.94889 8.04086 9.11499 7.87419C9.28108 7.70751 9.49078 7.59112 9.72 7.53839ZM16.4525 11.6798C16.1575 11.9175 15.8038 12.109 15.4038 12.2491C15.697 12.5617 15.923 12.9314 16.0675 13.3351C16.4925 13.1612 16.8862 12.9348 17.235 12.6557C18.175 11.8988 18.75 10.7802 18.75 9.38389C18.75 8.88614 18.5525 8.40877 18.2008 8.0568C17.8492 7.70484 17.3723 7.50711 16.875 7.50711H13.5375C13.675 7.89873 13.75 8.32038 13.75 8.7583H16.875C17.0408 8.7583 17.1997 8.8242 17.3169 8.94153C17.4342 9.05885 17.5 9.21797 17.5 9.38389C17.5 10.4061 17.0938 11.1643 16.4525 11.6798ZM13.125 12.5119C13.6223 12.5119 14.0992 12.7096 14.4508 13.0616C14.8025 13.4135 15 13.8909 15 14.3886C15 15.785 14.4262 16.9035 13.485 17.6605C12.5588 18.405 11.3162 18.7678 10 18.7678C8.68375 18.7678 7.44125 18.405 6.515 17.6605C5.575 16.9035 5 15.785 5 14.3886C4.99934 14.142 5.04739 13.8977 5.14138 13.6697C5.23538 13.4417 5.37346 13.2345 5.5477 13.0601C5.72194 12.8857 5.92891 12.7475 6.15669 12.6534C6.38447 12.5593 6.62859 12.5112 6.875 12.5119H13.125ZM13.125 13.7631H6.875C6.70924 13.7631 6.55027 13.829 6.43306 13.9463C6.31585 14.0636 6.25 14.2227 6.25 14.3886C6.25 15.4109 6.65625 16.1691 7.2975 16.6846C7.955 17.2126 8.9 17.5166 10 17.5166C11.1 17.5166 12.045 17.2126 12.7025 16.6846C13.3438 16.1691 13.75 15.4109 13.75 14.3886C13.75 14.2227 13.6842 14.0636 13.5669 13.9463C13.4497 13.829 13.2908 13.7631 13.125 13.7631Z\" fill=\"black\" />\n    </svg>\n\n);\n\nconst DiscountIcon = () => (\n    <svg width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"20\" height=\"20.019\" fill=\"white\" />\n        <path d=\"M18.5822 7.81037C18.2229 7.54382 17.9167 7.2123 17.6794 6.83298C17.5686 6.37618 17.5458 5.90246 17.6121 5.43712C17.7074 5.00537 17.7099 4.55833 17.6196 4.12552C17.5293 3.6927 17.3482 3.28398 17.0883 2.92633C16.7319 2.66727 16.3248 2.48633 15.8936 2.39531C15.4625 2.30429 15.017 2.30525 14.5863 2.39813C14.1216 2.46766 13.6479 2.44829 13.1904 2.34106C12.8096 2.10236 12.477 1.79412 12.2101 1.43244C11.9671 1.05046 11.6451 0.724965 11.2658 0.477878C10.8864 0.23079 10.4586 0.0678405 10.011 0C9.56415 0.0684317 9.13713 0.231657 8.75859 0.478719C8.38005 0.725782 8.05874 1.05096 7.81623 1.43244C7.54952 1.79163 7.21803 2.09781 6.83883 2.33521C6.38203 2.44603 5.90831 2.46887 5.44297 2.40252C5.01033 2.3064 4.56219 2.30339 4.1283 2.3937C3.69441 2.48401 3.28469 2.66557 2.92633 2.92633C2.66677 3.28253 2.48541 3.68956 2.39413 4.12074C2.30285 4.55192 2.30372 4.99752 2.39666 5.42834C2.46302 5.89368 2.44018 6.3674 2.32936 6.8242C2.09183 7.20418 1.78511 7.53621 1.42512 7.80306C1.04342 8.04767 0.718665 8.37136 0.472807 8.75226C0.22695 9.13317 0.0657156 9.56241 0 10.011C0.0683403 10.4578 0.231528 10.8849 0.478599 11.2634C0.72567 11.642 1.0509 11.9633 1.43244 12.2057C1.79176 12.4723 2.09797 12.8038 2.33521 13.1831C2.44618 13.6404 2.46902 14.1146 2.40252 14.5804C2.30769 15.0117 2.30535 15.4582 2.39564 15.8905C2.48593 16.3228 2.6668 16.731 2.92633 17.0883C3.28264 17.3476 3.68972 17.5287 4.1209 17.6197C4.55208 17.7108 4.99762 17.7097 5.42834 17.6165C5.89369 17.5503 6.36738 17.5732 6.8242 17.6838C7.20403 17.9209 7.53604 18.2271 7.80306 18.5866C8.04543 18.9682 8.3667 19.2935 8.74527 19.5405C9.12383 19.7876 9.55092 19.9508 9.99781 20.019C10.4447 19.9508 10.8718 19.7876 11.2503 19.5405C11.6289 19.2935 11.9502 18.9682 12.1926 18.5866C12.4593 18.2274 12.7908 17.9212 13.1699 17.6838C13.6267 17.573 14.1005 17.5502 14.5658 17.6165C14.9966 17.7098 15.4423 17.7109 15.8735 17.6196C16.3048 17.5283 16.7118 17.3467 17.0678 17.0868C17.3272 16.7306 17.5085 16.3235 17.5997 15.8924C17.691 15.4612 17.6902 15.0157 17.5975 14.5848C17.531 14.119 17.5538 13.6448 17.6648 13.1875C17.902 12.8082 18.2082 12.4767 18.5676 12.2101C18.9493 11.9679 19.2747 11.6467 19.5218 11.2681C19.7689 10.8895 19.9319 10.4623 20 10.0154C19.9351 9.56782 19.775 9.13939 19.5304 8.75901C19.2858 8.37863 18.9625 8.05514 18.5822 7.81037ZM17.7643 11.2664C17.2498 11.6474 16.8274 12.1389 16.5279 12.7047C16.3305 13.3359 16.276 14.0031 16.3684 14.658C16.405 15.2667 16.4474 15.9558 16.2031 16.2002C15.9587 16.4445 15.2696 16.4006 14.6609 16.3655C14.006 16.2733 13.3388 16.3278 12.7076 16.525C12.1419 16.8246 11.6504 17.2471 11.2693 17.7614C10.8303 18.2574 10.3914 18.768 10.0095 18.768C9.62762 18.768 9.18282 18.2574 8.75119 17.7628C8.37007 17.2515 7.87971 16.8316 7.31582 16.5338C6.93859 16.3931 6.5374 16.328 6.13505 16.3421C5.879 16.3421 5.61855 16.3582 5.36104 16.3743C4.75236 16.4123 4.06467 16.4548 3.81886 16.2104C3.57305 15.9661 3.61694 15.2769 3.65499 14.6697C3.74732 14.0148 3.69284 13.3476 3.4955 12.7164C3.19624 12.1459 2.77212 11.6502 2.25474 11.2664C1.76165 10.8274 1.25101 10.3885 1.25101 10.0066C1.25101 9.6247 1.76165 9.18136 2.2562 8.74826C2.76997 8.36894 3.19241 7.87952 3.49257 7.31583C3.69241 6.68414 3.74889 6.01584 3.65791 5.35957C3.62133 4.7509 3.5789 4.06028 3.82179 3.81593C4.06467 3.57159 4.75529 3.61402 5.36396 3.6506C6.01835 3.7433 6.68517 3.68881 7.31582 3.49111C7.88152 3.1915 8.37297 2.76904 8.75412 2.25474C9.19306 1.76165 9.63201 1.25101 10.0154 1.25101C10.3987 1.25101 10.8421 1.76165 11.2737 2.2562C11.6548 2.77051 12.1463 3.19296 12.712 3.49258C13.3414 3.69127 14.007 3.74774 14.6609 3.65791C15.2696 3.61987 15.9573 3.57744 16.2031 3.82179C16.4489 4.06614 16.405 4.75529 16.367 5.3625C16.277 6.01792 16.334 6.68515 16.5338 7.31583C16.8332 7.88164 17.2557 8.37312 17.7701 8.75412C18.2661 9.19307 18.7768 9.63202 18.7768 10.0139C18.7768 10.3958 18.2588 10.8362 17.7643 11.2664Z\" fill=\"#202020\" />\n        <path d=\"M9.38339 7.507C9.38339 7.13572 9.27329 6.77277 9.06702 6.46406C8.86074 6.15535 8.56756 5.91474 8.22454 5.77266C7.88152 5.63057 7.50407 5.5934 7.13992 5.66583C6.77577 5.73827 6.44127 5.91706 6.17874 6.17959C5.9162 6.44213 5.73741 6.77662 5.66498 7.14077C5.59254 7.50492 5.62972 7.88237 5.7718 8.22539C5.91389 8.56841 6.1545 8.8616 6.46321 9.06787C6.77192 9.27414 7.13486 9.38424 7.50615 9.38424C8.00402 9.38424 8.48151 9.18646 8.83356 8.83441C9.18561 8.48236 9.38339 8.00488 9.38339 7.507ZM6.88138 7.507C6.88138 7.38314 6.9181 7.26207 6.98692 7.15908C7.05573 7.0561 7.15353 6.97584 7.26796 6.92844C7.38239 6.88104 7.5083 6.86864 7.62978 6.8928C7.75126 6.91696 7.86284 6.97661 7.95042 7.06419C8.03801 7.15177 8.09765 7.26335 8.12181 7.38483C8.14598 7.50631 8.13357 7.63222 8.08618 7.74665C8.03878 7.86108 7.95851 7.95889 7.85553 8.0277C7.75254 8.09651 7.63147 8.13324 7.50761 8.13324C7.42525 8.13343 7.34366 8.11737 7.26751 8.08599C7.19136 8.0546 7.12216 8.00851 7.06385 7.95033C7.00554 7.89216 6.95928 7.82306 6.92772 7.74699C6.89616 7.67092 6.87991 7.58936 6.87991 7.507H6.88138ZM12.5058 10.6352C12.1344 10.6361 11.7717 10.7471 11.4634 10.9542C11.1552 11.1612 10.9153 11.4551 10.774 11.7985C10.6328 12.1419 10.5966 12.5195 10.67 12.8836C10.7434 13.2476 10.9231 13.5816 11.1864 13.8435C11.4497 14.1054 11.7847 14.2833 12.1492 14.3547C12.5136 14.4261 12.891 14.3878 13.2336 14.2447C13.5763 14.1016 13.8688 13.8601 14.0742 13.5507C14.2796 13.2413 14.3886 12.878 14.3874 12.5066C14.3859 12.009 14.1868 11.5324 13.834 11.1815C13.4811 10.8305 13.0034 10.6341 12.5058 10.6352ZM12.5058 13.1373C12.3819 13.1373 12.2608 13.1005 12.1579 13.0317C12.0549 12.9629 11.9746 12.8651 11.9272 12.7507C11.8798 12.6362 11.8674 12.5103 11.8916 12.3889C11.9157 12.2674 11.9754 12.1558 12.063 12.0682C12.1505 11.9806 12.2621 11.921 12.3836 11.8968C12.5051 11.8727 12.631 11.8851 12.7454 11.9325C12.8599 11.9799 12.9577 12.0601 13.0265 12.1631C13.0953 12.2661 13.132 12.3872 13.132 12.511C13.132 12.6771 13.066 12.8364 12.9486 12.9538C12.8312 13.0713 12.6719 13.1373 12.5058 13.1373ZM13.5593 6.45352C13.5054 6.39152 13.4391 6.34155 13.3647 6.30685C13.2902 6.27215 13.2093 6.25351 13.1272 6.25213C13.0451 6.25075 12.9636 6.26666 12.8881 6.29884C12.8125 6.33102 12.7446 6.37874 12.6887 6.43889L6.43804 12.6954C5.87765 13.2558 6.75115 14.1586 7.31594 13.5733L13.5724 7.31679C13.6314 7.26019 13.678 7.19203 13.7094 7.11659C13.7408 7.04114 13.7563 6.96002 13.755 6.87831C13.7536 6.7966 13.7354 6.71605 13.7014 6.6417C13.6675 6.56735 13.6186 6.5008 13.5578 6.44621L13.5593 6.45352Z\" fill=\"#202020\" />\n    </svg>\n\n);\n\nconst ReservationNotification = ({ item, removeNotificationData, handleChangeRefresh }) => {\n\n    const sideNotificationFullWidth = useMedia(\"(max-width: 426px)\");\n    const [isPendindToAprobal, setPendindToAprobal] = useState(true);\n\n    const handleChangeReservationStatus = async ({ status, item }) => {\n\n        const reservationService = getService(\"reservations\");\n        try {\n            await reservationService.get(item?.id)\n                .then(async (res) => {\n                    if (res?.status ===  'pendingApproval' ) {\n                        await reservationService\n                            .patch(item?.id, {\n                                status,\n                            })\n                            .then((res) => {\n                                message.success(\n                                    status === STATUS_RESERVATION.acquired\n                                        ? \"Reserva aprobada!\"\n                                        : \"Reserva no aprobada!\"\n                                )\n                            });\n                    } else {\n                        removeNotificationData({ id: item.id, notificationType: item.notificationType });\n                        if(handleChangeRefresh){\n                            handleChangeRefresh();\n                        }\n                    }\n                })\n\n        } catch (error) {\n            message.error(error.message)\n        }\n    };\n\n\n\n\n    useEffect(() => {\n        const timeOut = setTimeout(()=> {\n            removeNotificationData({ id: item.id, notificationType: item.notificationType });\n            if(handleChangeRefresh){\n                handleChangeRefresh();\n            };\n        },600000);\n        return ()=>{\n            clearTimeout(timeOut);\n        }\n    }, []);\n    \n\n    return (\n        <Row\n            key={`reservation-notification-${item?.id}`}\n            style={{\n                minHeight: '11rem',\n                marginBottom: \"1rem\",\n                borderRadius: \"1rem\",\n                boxShadow: '0 2px 10px -1px rgba(69, 90, 100, 0.3)',\n                background: \"#fff\",\n                overflow: \"hidden\",\n                borderLeft: sideNotificationFullWidth ? 'none' : '7px solid #6D25FB',\n                padding: '15px 0px',\n                minWidth: '380px',\n                overflowX: 'hidden',\n            }}>\n            <Col flex={'100%'}>\n                <Row\n                    justify={'space-between'}\n                    align=\"middle\"\n                    style={{\n                        borderBottom: '1px solid #F0EFEF',\n                        paddingBottom: '15px',\n                        margin: '0px 8px'\n                    }}\n                >\n                    <Col flex={'20px'} />\n                    <Col flex={'auto'} style={{ display: 'flex', justifyContent: 'center' }} >\n                        <div style={{ fontSize: '16px' }}>\n                            Reserva por aprobar\n                        </div>\n                    </Col>\n                    <Col flex={'20px'}>\n                        <Button\n                            shape='circle'\n                            onClick={() => {\n                                removeNotificationData({ id: item.id, notificationType: item.notificationType });\n                            }}\n                        >\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <path d=\"M15 5L5 15\" stroke=\"#202020\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                                <path d=\"M5 5L15 15\" stroke=\"#202020\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                            </svg>\n                        </Button>\n                    </Col>\n                </Row>\n                <Row\n                    type='flex'\n                    gutter={16}\n                    wrap={false}\n                    align=\"middle\"\n                    style={{\n                        marginTop: '15px',\n                    }}\n                >\n                    <Col flex={'25%'}\n                        style={{\n                            whiteSpace: 'nowrap',\n                            padding: \"6px\",\n\n                            display: \"flex\",\n                            justifyContent: 'center'\n                        }}\n                    >\n                        <Typography.Title level={5}\n                            style={{\n                                margin: 0,\n                                fontWeight: 'bold',\n                            }}>\n                            {\n                                moment(\n                                    `${item?.meta_start_hour}`,\n                                    \"HH:mm:ss\"\n                                ).format(\"hh:mm a\")\n                            }\n                        </Typography.Title>\n                    </Col>\n                    <Col\n                        flex={isPendindToAprobal ? '55%' : '75%'}\n                        style={{\n                            borderLeft: `1px solid ${sideNotificationFullWidth ? '#FFB091' : '#d9d9d9'}`,\n                        }}\n                    >\n                        <Space direction='vertical' size={'small'} >\n                            <Row>\n                                <Tooltip title={item?.meta_establishment_name}>\n                                    <span\n                                        style={{\n                                            margin: 0,\n                                            maxWidth: '100%',\n                                            overflow: 'hidden',\n                                            textOverflow: 'ellipsis',\n                                            Size: '14px',\n                                            fontWeight: '900'\n                                        }}\n                                    >\n                                        {item?.meta_establishment_name}\n                                    </span>\n                                </Tooltip>\n                            </Row>\n                            <Row>\n                                <Col\n                                    style={{\n                                        maxWidth: '80%',\n                                        overflow: 'hidden',\n                                        textOverflow: 'ellipsis',\n                                        whiteSpace: 'nowrap',\n                                        fontSize: `${`${item?.meta_user_first_name + item?.meta_user_last_name}`.length > 20 ? 12 : 12}px`,\n                                    }}\n                                >\n                                    <Tooltip title={`${item?.meta_user_first_name || \"\"} ${item?.meta_user_last_name || \"\"}`}>\n                                        <UserIcon />{\" \"}\n                                        {item?.meta_user_first_name || \"\"} {item?.meta_user_last_name || \"\"}\n                                    </Tooltip>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <span style={{ fontSize: '12px' }}>\n                                    <CalendarIcon />\n                                    {\" \"}\n                                    {\n                                        moment(\n                                            item?.meta_day,\n                                            \"YYYY-MM-DD\"\n                                        ).format(\"dddd D MMMM\")\n                                    }\n                                </span>\n                            </Row>\n                            <Row\n                                gutter={[16]}\n                                align='middle'\n                            >\n                                <Col >\n                                    <Badge\n                                        color='transparent'\n                                    >\n                                        <ComunityIcon />\n                                        {\" \"}\n                                        <span style={{ fontSize: '12px' }}>\n\n                                            {item?.persons || \"\"}\n                                        </span>\n                                    </Badge>\n                                </Col>\n                                <Col\n                                    style={{\n                                        maxWidth: '80%',\n                                        overflow: 'hidden',\n                                        textOverflow: 'ellipsis',\n                                        whiteSpace: 'nowrap',\n                                        fontSize: '12px'\n                                    }}\n                                >\n                                    {\n                                        !item?.meta_deal_name ? (\n                                            <>\n                                                <Badge\n                                                    color='transparent'\n                                                >\n                                                    <DiscountIcon />\n                                                    {\" \"}\n                                                    <span style={{ fontSize: '12px' }}>\n\n                                                        {`${item?.meta_percentage || \"\"}%`}\n                                                    </span>\n                                                </Badge>\n                                            </>\n                                        ) : (\n                                            <Tooltip title={item?.meta_deal_name}>\n                                                <span\n                                                    style={{\n                                                        color: '#6B24F8',\n                                                        fontSize: '1em',\n                                                    }}\n                                                >\n                                                    <IoTicketOutline />\n                                                    {\"       \"}\n                                                    {item?.meta_deal_name}\n                                                </span>\n                                            </Tooltip>\n                                        )\n                                    }\n                                </Col>\n                            </Row>\n                        </Space>\n                    </Col>\n                    {\n                        isPendindToAprobal ? (\n                            <Col\n                                flex={'20%'}\n                                style={{\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                    padding: \"0px 5px\",\n                                    width: '45px',\n                                    height: '45px',\n                                }}\n                            >\n                                <MinuteProgress\n                                    record={item}\n                                    width={45}\n                                    onFinish={() => {\n                                        handleChangeReservationStatus({ status: STATUS_RESERVATION.acquired, item });\n                                        setPendindToAprobal(false);\n                                    }}\n                                />\n                            </Col>\n                        ) : null\n                    }\n\n                </Row>\n                {\n                    item?.user_comment ? (\n                        <Row style={{\n                            marginTop: '15px',\n                            background: '#F4EFFE',\n                            padding: '15px 25px'\n                        }}>\n                            <Col flex={'100%'}>\n                                <Row>\n                                    <Typography.Text\n                                        style={{\n                                            margin: 0,\n                                            maxWidth: '100%',\n                                            overflow: 'hidden',\n                                            textOverflow: 'ellipsis',\n                                            whiteSpace: 'nowrap'\n                                        }}\n                                    >\n                                        Descripción y/o preferencias\n                                    </Typography.Text>\n                                </Row>\n                                <Row>\n                                    <span style={{ fontSize: '12px' }}>\n                                        {item?.user_comment}\n                                    </span>\n                                </Row>\n                            </Col>\n                        </Row>\n                    ) : null\n                }\n                {\n                    isPendindToAprobal ? (\n                        <Row\n                            gutter={16}\n                            style={{\n                                marginTop: '15px',\n                                padding: '0px 16px'\n                            }}\n                            wrap={false}\n                        >\n                            <Col span={12}>\n                                <AsyncButton\n                                    block\n                                    icon={<><CheackIcon />{\" \"}</>}\n                                    style={{\n                                        background: '#fff',\n                                        color: '#00B84E',\n                                        borderRadius: '6px',\n                                        border: '1px solid #00B84E',\n                                    }}\n                                    onClick={async () => {\n                                        await handleChangeReservationStatus({ status: STATUS_RESERVATION.acquired, item });\n                                        removeNotificationData({ id: item.id, notificationType: item.notificationType });\n                                    }}\n                                >\n                                    Aprobar\n                                </AsyncButton>\n                            </Col>\n                            <Col span={12}>\n                                <AsyncButton\n                                    block\n                                    placement=\"left\"\n                                    confirmText=\"Si rechazas esta reserva también se desactivará la hora por el día de hoy, ¿Desea Continuar?\"\n                                    icon={<><CancelIcon />{\" \"}</>}\n                                    style={{\n                                        background: '#fff',\n                                        color: '#D62626',\n                                        borderRadius: '6px',\n                                        border: '1px solid #D62626',\n                                    }}\n                                    onClick={async () => {\n                                        await handleChangeReservationStatus({ status: STATUS_RESERVATION.notApproved, item });\n                                        removeNotificationData({ id: item.id, notificationType: item.notificationType });\n                                    }}\n                                >\n                                    Rechazar\n                                </AsyncButton>\n                            </Col>\n                        </Row>\n                    ) : null\n                }\n\n            </Col>\n        </Row >\n    );\n}\n\nexport default ReservationNotification;","import React from 'react';\nimport moment from 'moment';\nimport numeral from 'numeral';\nimport { Button, Col, Divider, Row, Typography } from 'antd';\n\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport { IoCalendarClearOutline } from 'react-icons/io5';\nimport { RiCoinsLine } from 'react-icons/ri';\n\nconst NOTIFICATION_TYPE = {\n    appartapay: 'appartapay',\n    reservation: 'reservation',\n    payWithdrawal: 'payWithdrawal',\n};\n\nconst AppartaPayNotification = ({ item, removeNotificationData }) => {\n\n    return (\n        <Row\n            key={`appartapay-notification-${item?.id}`}\n            style={{\n                maxHeight: '7.5rem',\n                marginBottom: \"1rem\",\n                borderRadius: \"1rem\",\n                boxShadow: '0 2px 10px -1px rgba(69, 90, 100, 0.3)',\n                background: \"#fff\",\n                overflow: \"hidden\",\n                borderLeft: '7px solid #53E38B',\n            }}\n        >\n            <Col\n                flex=\"auto\"\n                style={{ padding: \"0.5rem\", }}\n            >\n                <Row align='middle' justify='space-between'>\n                    <Col>\n                        <Typography.Title level={5}>\n                            {NOTIFICATION_TYPE.appartapay === item.notificationType ? 'appartapay' : 'Pago entrante'}\n                        </Typography.Title>\n                    </Col>\n                    <Button\n                        type='text'\n                        shape='circle'\n                        onClick={() => removeNotificationData({ id: item.id, notificationType: item.notificationType })}\n                        icon={<AiOutlineCloseCircle />}\n                    />\n                </Row>\n                <Row>\n                    <Col flex=\"auto\">\n                        <Row>\n                            <Typography.Text style={{ margin: 0 }}>\n                                {item?.meta_user_first_name || \"\"} {item?.meta_user_last_name || \"\"}\n                                {item?.user?.first_name || \"\"} {item?.user?.last_name || \"\"}\n                            </Typography.Text>\n                        </Row>\n                        <Row\n                            align=\"middle\"\n                        >\n                            <Col>\n                                <span style={{ margin: '0.2em', fontSize: '0.9em' }}>\n                                    <IoCalendarClearOutline />\n                                    {\" \"}\n                                    {\n                                        `${item.status_date_completed\n                                            ? moment(item.status_date_completed).format(\"DD-MM-YYYY\")\n                                            : \"Fecha no relacionada\"}`\n                                    }\n                                </span>\n                            </Col>\n                            <Divider type='vertical' />\n                            <Col>\n                                <span style={{ margin: '0.2em', fontSize: '0.9em' }}>\n                                    {\n                                        moment(\n                                            `${item.status_date_completed}`\n                                        ).format(\"hh:mm a\")\n                                    }\n                                </span>\n                            </Col>\n                        </Row>\n                        <Row\n                            gutter={[16]}\n                        >\n                            <Col>\n                                <RiCoinsLine size={25} />\n                                {\" \"}\n                                <Typography.Text style={{ margin: 0 }}>\n                                    {\n                                        `$ ${numeral(item?.amount || \"\").format(\"0,0\")}`\n                                    }\n                                </Typography.Text>\n                            </Col>\n                        </Row>\n                    </Col>\n                </Row>\n            </Col>\n        </Row>\n    );\n}\nexport default AppartaPayNotification;","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { List, Layout, ConfigProvider, Empty } from 'antd';\nimport ReservationNotification from './ReservationNotification';\nimport AppartaPayNotification from './AppartaPayNotification';\nimport * as actionTypes from '../../redux/app/actions';\nimport { changeRefresh } from '../../views/orders/redux/actions';\nimport styled from 'styled-components';\nimport { useMedia } from 'react-use';\n\nconst NOTIFICATION_TYPE = {\n    appartapay: 'appartapay',\n    reservation: 'reservation',\n};\n\nconst SiderContainer = styled(Layout.Sider)`\n    &.ant-layout-sider {\n        max-height: 94vh;\n        padding-bottom: 5rem;\n        padding: 1rem 0.5rem;\n        background:  transparent;\n        position: absolute;\n        z-index:101;\n        right: ${props => props.position === 'right' ? 0 : 'auto'};\n        box-shadow: ${props => props.position === 'right' ? 0 : '0 2px 10px -1px rgba(69, 90, 100, 0.3)'};\n        overflow:auto !important;\n    }\n`;\n\nconst SideNotification = () => {\n\n    const sideNotificationFullWidth = useMedia(\"(max-width: 426px)\");\n\n    const dispatch = useDispatch();\n    const notificationsData = useSelector(({ appReducer }) => appReducer.notificationsData);\n    const collapsedNotification = useSelector(({ appReducer }) => appReducer.collapsedNotification);\n\n    const removeNotificationData = notification =>\n        dispatch({\n            type: actionTypes.REMOVE_NOTIFICATION_DATA,\n            payload: notification\n        });\n    const handleChangeRefresh = () => dispatch(changeRefresh(true));\n\n    const renderEmpty = () => {\n        return (\n            <Empty\n                imageStyle={{\n                    height: 0,\n                }}\n                description=\"\"\n            />\n        );\n    };\n\n\n    return (\n        <SiderContainer\n            trigger={null}\n            collapsible\n            collapsed={collapsedNotification}\n            collapsedWidth=\"0\"\n            background={sideNotificationFullWidth}\n            position=\"right\"\n            width={sideNotificationFullWidth ? '100%' : '400px'}\n        >\n            <ConfigProvider renderEmpty={renderEmpty}>\n                <List\n                    rowKey={(item)=> `${item.notificationType}-${item.id}`} \n                    dataSource={notificationsData}\n                    renderItem={(item) =>\n                        item.notificationType === NOTIFICATION_TYPE.reservation ?\n                            <ReservationNotification\n                                item={item}\n                                removeNotificationData={removeNotificationData}\n                                handleChangeRefresh={handleChangeRefresh}\n                            />\n                            :\n                            <AppartaPayNotification\n                                item={item}\n                                removeNotificationData={removeNotificationData}\n                            />\n                    }\n                />\n            </ConfigProvider>\n        </SiderContainer>\n    );\n}\n\nexport default SideNotification;\n","import { AiOutlineDollarCircle, AiOutlineFile, AiOutlinePercentage, AiOutlinePhone, AiOutlineQuestion, AiOutlineSetting, AiOutlineStar, AiOutlineTool } from 'react-icons/ai';\nimport { BsCreditCard, BsGrid, BsImages, BsPinMap } from 'react-icons/bs';\nimport { FaMobileAlt } from 'react-icons/fa';\nimport { FiUsers } from 'react-icons/fi';\nimport { GrSecure } from 'react-icons/gr';\nimport { HiOutlineLocationMarker } from 'react-icons/hi';\nimport { IoCalendarClearOutline, IoDocumentTextOutline, IoFastFoodOutline, IoFootstepsOutline, IoRestaurantOutline, IoStorefrontOutline } from 'react-icons/io5';\nimport { MdFormatListNumbered, MdLocationSearching, MdOutlineCampaign, MdOutlineNotificationsActive, MdOutlineSupportAgent } from 'react-icons/md';\nimport { RiCoupon2Line, RiUserStarLine } from 'react-icons/ri';\n\nconst menu = {\n  items: [\n    {\n      label: \"Dashboard\",\n      key: \"/dashboard\",\n      icon: <MdOutlineNotificationsActive />,\n    },\n    {\n      label: \"Menú/Carta\",\n      key: \"/dashboard/establishment/menu\",\n      icon: <IoRestaurantOutline />,\n    },\n    {\n      label: \"Historial de reservas\",\n      key: \"/dashboard/reservations/history\",\n      icon: <IoCalendarClearOutline />,\n    },\n    {\n      label: \"Calificaciones\",\n      key: \"/dashboard/establishment/ratings\",\n      icon: <AiOutlineStar />,\n    },\n    {\n      label: \"Descuentos\",\n      key: \"/dashboard/establishment/discounts\",\n      icon: <AiOutlinePercentage />,\n      children: [\n        {\n          label: \"Específicos\",\n          key: \"/dashboard/establishment/discounts/specific\",\n          icon: <AiOutlinePercentage />,\n        },\n        {\n          label: \"Plantillas\",\n          key: \"/dashboard/establishment/discounts/templates\",\n          icon: <AiOutlineFile />,\n        },\n        {\n          label: \"Ofertas\",\n          key: \"/dashboard/establishment/discounts/deals\",\n          icon: <AiOutlinePercentage />,\n        },\n      ]\n    },\n    {\n      label: \"Facturación\",\n      key: \"/dashboard/establishment/billing\",\n      icon: <IoDocumentTextOutline />,\n    },\n    {\n      label: \"Transferencias\",\n      key: \"/dashboard/establishment/transfer\",\n      icon: <BsCreditCard />,\n    },\n    {\n      label: \"Histórico AppartaPay\",\n      key: \"/dashboard/establishment/apparta-pay-history\",\n      icon: <AiOutlineDollarCircle />,\n    },\n    {\n      id: \"users\",\n      permissions: [\"admin\"],\n      label: \"Administración\",\n      key: \"/dashboard/management\",\n      icon: <AiOutlineSetting />,\n      children: [\n        {\n          label: \"Apparta Donde quieras\",\n          key: \"/dashboard/management/reservations-on-demand\",\n          icon: <AiOutlinePhone />,\n        },\n        {\n          label: \"Banners\",\n          key: \"/dashboard/management/banners\",\n          icon: <BsImages />,\n        },\n        {\n          label: \"Apparta Menu\",\n          key: \"/dashboard/management/menu-banners\",\n          icon: <FaMobileAlt />,\n        },\n        {\n          label: \"Blog Apparta\",\n          key: \"/dashboard/management/blogs\",\n          icon: <AiOutlineFile />,\n        },\n        {\n          label: \"Calif. de usuarios\",\n          key: \"/dashboard/management/users-ratings\",\n          icon: <AiOutlineStar />,\n        },\n        {\n          label: \"Campañas\",\n          key: \"/dashboard/management/campaigns\",\n          icon: <MdOutlineCampaign />,\n        },\n        {\n          label: \"Categorías\",\n          key: \"/dashboard/management/categories\",\n          icon: <BsGrid />,\n        },\n        {\n          label: \"Cms\",\n          key: \"/dashboard/management/cms\",\n          icon: <AiOutlineQuestion />,\n        },\n        {\n          label: \"Configuraciones\",\n          key: \"/dashboard/management/configurations\",\n          icon: <AiOutlineTool />,\n        },\n        {\n          label: \"Cuentas AppartaPay\",\n          key: \"/dashboard/management/pay-accounts\",\n          icon: <AiOutlineDollarCircle />,\n        },\n        {\n          label: \"Cupones AppartaPay\",\n          key: \"/dashboard/management/appartapay-coupons\",\n          icon: <RiCoupon2Line />,\n        },\n        {\n          label: \"Cupones\",\n          key: \"/dashboard/management/coupons\",\n          icon: <RiCoupon2Line />,\n        },\n        {\n          label: \"Facturas\",\n          key: \"/dashboard/management/invoices\",\n          icon: <IoDocumentTextOutline />,\n        },\n        {\n          label: \"Fidelización\",\n          key: \"/dashboard/management/fidelizations\",\n          icon: <RiUserStarLine />,\n        },\n        {\n          label: \"Lugares\",\n          key: \"/dashboard/management/places\",\n          icon: <HiOutlineLocationMarker />,\n        },\n        {\n          label: \"OnBoarding\",\n          key: \"/dashboard/management/on-boarding\",\n          icon: <IoFootstepsOutline />,\n        },\n        {\n          label: \"Plantillas globales\",\n          key: \"/dashboard/management/global-templates\",\n          icon: <AiOutlineFile />,\n        },\n        {\n          label: \"Posiciones\",\n          key: \"/dashboard/management/establishments-position\",\n          icon: <MdFormatListNumbered />,\n        },\n        {\n          label: \"Posiciones Tmp\",\n          key: \"/dashboard/management/establishments-position-tmp\",\n          icon: <MdFormatListNumbered />,\n        },\n        {\n          label: \"Reservas\",\n          key: \"/dashboard/management/reservations\",\n          icon: <IoFastFoodOutline />,\n        },\n        {\n          label: \"Restaurantes\",\n          key: \"/dashboard/management/establishments\",\n          icon: <IoStorefrontOutline />,\n        },\n        {\n          label: \"Seguridad\",\n          key: \"/dashboard/management/security\",\n          icon: <GrSecure />,\n        },\n        {\n          label: \"Tickets de soporte\",\n          key: \"/dashboard/management/support-tickets\",\n          icon: <MdOutlineSupportAgent />,\n        },\n        {\n          label: \"Usuarios\",\n          key: \"/dashboard/management/users\",\n          icon: <FiUsers />,\n        },\n        {\n          label: \"Zonas\",\n          key: \"/dashboard/management/zones\",\n          icon: <MdLocationSearching />,\n        },\n        {\n          label: \"Zonas de reportes\",\n          key: \"/dashboard/management/reports-zones\",\n          icon: <BsPinMap />,\n        },\n        {\n          label: \"Grupos\",\n          key: \"/dashboard/management/groups\",\n          icon: <BsPinMap />,\n        },\n        // {\n        //   label: \"Pop-up\",\n        //   key: \"/dashboard/management/pop-up\",\n        //   icon: <BsPinMap />,\n        // },\n        \n      ]\n    },\n  ],\n};\n\nexport default menu;\n","import React, { useEffect, useState } from \"react\";\nimport { Menu, Icon, Layout } from \"antd\";\nimport styled from \"styled-components\";\nimport { useNavigate } from \"react-router-dom\";\nimport { connect, useSelector } from \"react-redux\";\nimport * as actionTypes from \"../../redux/app/actions\";\nimport menu from \"../../menu-items\";\nimport { allowAccess } from \"../../utils/Helper\";\nimport qs from \"qs\";\n\nconst MenuStyled = styled(Menu)`\n  &.ant-menu {\n    margin-top: 10px !important;\n  }\n  & .ant-menu-submenu .ant-menu-item {\n    padding-left: 30px !important;\n  }\n  & .ant-menu-submenu-selected {\n    color: var(--white) !important;\n    background-color: var(--primary) !important;\n  }\n  & .ant-menu-item:hover,\n  .ant-menu-submenu-title:hover {\n   \n  }\n  .ant-menu-item {\n    height: 50px !important;\n    line-height: 50px !important;\n    border-radius: 0.25rem;\n    padding: 4px 10px !important;\n    margin: 0px 0px !important;\n    display: flex;\n    align-items: center;\n    margin-bottom: 4px !important;\n    color:rgba(0, 0, 0, 0.87)\n    ;\n    font-size:14px !important;\n  }\n  .ant-menu-item-selected {\n    background: #eef1f5 !important;\n    color: black !important;\n    /* box-shadow: 0 10px 5px -8px rgba(0, 0, 0, 0.4) !important; */\n  }\n\n  & .ant-menu-item-selected i {\n    font-size: var(--font-size-medium);\n  }\n  & .icon-item svg {\n    padding: 0px 4px;\n  }\n  & .ant-menu-submenu-title {\n    height: 30px !important;\n    line-height: 30px !important;\n  }\n  & .ant-menu-submenu .ant-menu-item {\n    padding-left: 16px !important;\n  }\n  & .item-btn {\n    background-color: rgba(0, 0, 0, 0.3) !important;\n    font-size: 16px !important;\n    height: 28px !important;\n    padding: 4px !important;\n    margin: 0px 10px !important;\n    color: #d9d9d9 !important;\n  }\n`;\nconst SideMenu = props => {\n\n  const navigate = useNavigate();\n\n  const { collapsedMenu, pathname, onToggleNavigation } = props;\n\n  const [current, setCurrent] = useState();\n  const [initialized, setInitialized] = useState(false);\n  const [items, setItems] = useState(menu.items || []);\n  const user = useSelector(({ user }) => user);\n\n  useEffect(() => {\n    let { pathname, current } = props;\n    if (pathname) {\n      setCurrent(pathname);\n    } else {\n      props.onChangePath(window.location.pathname);\n      setCurrent(window.location.pathname);\n    }\n    const item = getCurrentItem(menu.items);\n    props.onChangePage(item);\n    if (!initialized && user) {\n      getTeams();\n      setInitialized(true);\n    }\n    return () => { };\n  }, [props]);\n\n  const handleClick = ({ key }) => {\n    let query = qs.parse(props?.location?.search?.replace(/\\?/, ''));\n    if (Object.values(query).length > 0) {\n      if (key.includes(\"?\")) {\n        let search = qs.parse(key.substring(key.indexOf(\"?\") + 1, key.length));\n        query = { ...query, ...search }\n        key = key.substring(0, key.indexOf(\"?\"));\n      }\n      key = `${key}${query ? \"?\" + qs.stringify(query) : \"\"}`;\n    }\n    props.onChangePath(key);\n    navigate(key);\n    if (key === '/dashboard')\n      onToggleNavigation();\n  };\n\n  const getCurrentItem = items => {\n    let { pathname } = window.location;\n    let find = null;\n    items.forEach(item => {\n      if (pathname === item.url) {\n        find = item;\n      }\n      if (!find && item.children) {\n        find = getCurrentItem(item.children);\n      }\n    });\n    return find;\n  };\n\n  const handleSelect = ({ item, key, keyPath, selectedKeys, domEvent }) => {\n    props.onChangePage({\n      id: item.props.id,\n      title: item.props.title,\n      url: item.props.url\n    });\n  };\n\n\n  const getTeams = () => {\n    /* const service = getService(\"teams\");\n    let { company_id } = user;\n    service\n      .find({\n        query: {\n          $limit: 5,\n          $or: [\n            {\n              company_id\n            },\n            {\n              user_id: user.id\n            }\n          ]\n        }\n      })\n      .then(({ data }) => {\n        let items = Array.from(menu.items);\n        items = [\n          ...items,\n          {\n            id: \"teams\",\n            title: \"Teams\",\n            icon: \"team\",\n            type: \"group\",\n            children: [\n              {\n                id: \"show-all\",\n                title: \"Show All Teams\",\n                className: \"item-btn\",\n                icon: \"eye\",\n                type: \"item\",\n                url: `/dashboard/teams`\n              },\n            ]\n          }\n        ];\n        setItems(items);\n        setTeams(data);\n      })\n      .catch(err => {\n        message.error(err.message);\n      }); */\n  };\n\n  const SiderContainer = styled(Layout.Sider)`\n\n  &.ant-layout-sider {\n    background:  ${props => props.position === 'right' ? 'transparent' : '#fff'};\n    position: ${props => props.position === 'true' ? 'absolute' : 'relative'};\n    z-index:101;\n    right: ${props => props.position === 'right' ? 0 : 'auto'};\n    height: ${props => props.position === 'true' ? '94vh' : '100%'};;\n    box-shadow: ${props => props.position === 'right' ? 0 : '0 2px 10px -1px rgba(69, 90, 100, 0.3)'};\n    overflow:auto !important;\n  }\n  .ant-menu-item {\n    margin: 0px 0px !important;\n    font-size:16px !important;\n  }\n`;\n\n  return (\n    <SiderContainer\n      className=\"sider-container\"\n      trigger={null}\n      collapsible\n      collapsed={collapsedMenu}\n      collapsedWidth=\"0\"\n      width={'300px'}\n      position={props?.location?.pathname === '/dashboard' ? 'true' : 'false'}\n    >\n      <Menu\n        className=\"side-menu\"\n        theme=\"light\"\n        mode=\"inline\"\n        style={{ width: '100%', }}\n        onClick={handleClick}\n        onSelect={handleSelect}\n        selectedKeys={[pathname]}\n        defaultSelectedKeys={[\"/dashboard\"]}\n        items={\n          items\n            .filter(it => it && allowAccess(it.permissions))\n            .map((item, index) => item)\n        }\n      />\n    </SiderContainer>\n  );\n};\n\nconst mapStateToProps = ({ appReducer }) => {\n  return {\n    pathname: appReducer.pathname,\n    current: appReducer.current,\n    collapsedMenu: appReducer.collapsedMenu,\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChangePath: pathname =>\n      dispatch({ type: actionTypes.CHAGE_PATH, pathname }),\n    onChangePage: current => dispatch({ type: actionTypes.CHAGE_PAGE, current }),\n    onToggleNavigation: () => dispatch({ type: actionTypes.COLLAPSE_MENU }),\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SideMenu);"],"sourceRoot":""}