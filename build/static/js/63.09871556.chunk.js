(this["webpackJsonppartners-apparta"]=this["webpackJsonppartners-apparta"]||[]).push([[63],{1061:function(e,t,a){"use strict";a.r(t);a(362);var i=a(363),s=(a(366),a(367)),r=(a(357),a(358)),c=(a(220),a(361)),n=(a(219),a(69)),o=(a(143),a(142)),l=(a(372),a(373)),d=a(0),u=a(353),j=a(370),b=a(356),m=a(360),x=a(42),h=a.n(x),p=a(68),O=a(359),v=a(14);const g=[{id:"active",name:"Active"},{id:"inactive",name:"Inactive"}],y=e=>{let{onEdit:t,onRemove:a}=e;return[{dataIndex:"id",key:"id",title:"Id",sorter:!0,width:150},{dataIndex:"title",key:"title",title:"Titulo",sorter:!0},{dataIndex:"status",key:"status",title:"Estado",sorter:!0,width:200,render:e=>"active"===e?Object(v.jsx)(l.a,{color:"green",children:"Active"}):Object(v.jsx)(l.a,{color:"red",children:"Inactive"})},{title:"Acciones",dataIndex:"id",width:100,render:(e,i)=>Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(o.a,{type:"text",onClick:()=>t(i),icon:Object(v.jsx)(u.l,{})}),Object(v.jsx)(O.a,{type:"link",onClick:()=>a({id:e}),icon:Object(v.jsx)(u.h,{}),confirmText:"Desea eliminar?"})]})}]};t.default=()=>{const e=Object(p.b)("cms"),[t,a]=Object(d.useState)(!1),[o,l]=Object(d.useState)(!1),[x,O]=Object(d.useState)();return Object(v.jsxs)(i.a.Content,{style:{height:"100%",overflow:"auto",padding:"2rem"},children:[Object(v.jsx)(b.b,{source:"cms",filterDefaultValues:{$sort:{id:-1}},updateSource:o,actions:{},columns:y({onEdit:e=>{O(e),a(!0)},onRemove:async t=>{let{id:a}=t;await e.remove(a).then(()=>{n.b.success("Cms eliminado!"),l(!o)}).catch(e=>n.b.error("No se pudo eliminar el cms! "+(null===e||void 0===e?void 0:e.message)))}}),extra:Object(v.jsx)("div",{children:Object(v.jsx)(j.a,{type:"primary",icon:Object(v.jsx)(u.u,{}),onClick:()=>a(!0),children:"Agregar"})})}),t&&Object(v.jsx)(s.a,{title:"".concat(x?"Editar":"Crear"," Cms"),placement:"right",size:"large",visible:t,onClose:()=>{a(!1),O()},children:Object(v.jsxs)(m.d,{textAcceptButton:"Guardar",initialValues:x,onSubmit:async(t,i,s)=>{if(t)return n.b.error(t);x&&x.id?await e.patch(x.id,i).then(()=>{n.b.success("Cms actualizado!"),a(!1),O(),l(!o)}).catch(e=>n.b.error(e.message)):await e.create(i).then(()=>{n.b.success("Cms creado!"),a(!1),l(!o)}).catch(e=>n.b.error(e.message))},children:[Object(v.jsx)(c.a,{flex:1,name:"title",label:"Titulo",validations:[{required:!0,message:"Titulo es requerido"}]}),Object(v.jsx)(c.a.TextArea,{flex:1,name:"body",label:"Descripci\xf3n",autoSize:!0}),Object(v.jsx)(r.a,{flex:1,name:"status",label:"Estado",size:"large",validations:[{required:!0,message:"Estado es requerido"}],children:h.a.map(g,(e,t)=>{let{id:a,name:i}=e;return Object(v.jsx)(r.a.Option,{value:a,children:i},t)})})]})})]})}}}]);
//# sourceMappingURL=63.09871556.chunk.js.map