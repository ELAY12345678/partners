(this["webpackJsonppartners-apparta"]=this["webpackJsonppartners-apparta"]||[]).push([[54],{1059:function(e,t,a){"use strict";a.r(t);a(362);var i=a(363),r=(a(366),a(367)),n=(a(368),a(369)),s=(a(357),a(358)),c=(a(219),a(361)),d=(a(218),a(69)),o=(a(143),a(142)),l=(a(372),a(373)),u=a(42),b=a.n(u),j=a(0),m=a(353),x=a(359),O=a(356),h=a(360),p=a(370),v=a(383),g=a(68),f=a(14);const y=[{id:"active",name:"Active"},{id:"inactive",name:"Inactive"}],k=e=>{let{onEdit:t,onRemove:a,cities:i}=e;return[{dataIndex:"id",key:"id",title:"Id",sorter:!0},{dataIndex:"name",key:"name",title:"Nombre",sorter:!0},{dataIndex:"city_id",key:"city_id",title:"Ciudad",render:e=>{var t;return(null===(t=b.a.find(i,t=>{let{id:a}=t;return e===a}))||void 0===t?void 0:t.name)||""}},{dataIndex:"position",key:"position",title:"Posici\xf3n",sorter:!0},{dataIndex:"lat",key:"lat",title:"Lat",sorter:!0},{dataIndex:"lng",key:"lng",title:"Lng",sorter:!0},{dataIndex:"status",key:"status",title:"Estado",sorter:!0,render:e=>"active"===e?Object(f.jsx)(l.a,{color:"green",children:"Active"}):Object(f.jsx)(l.a,{color:"red",children:"Inactive"})},{title:"Acciones",dataIndex:"id",key:"actions",render:(e,i)=>Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(o.a,{type:"text",onClick:()=>t(i),icon:Object(f.jsx)(m.l,{})}),Object(f.jsx)(x.a,{type:"link",onClick:()=>a({id:e}),icon:Object(f.jsx)(m.h,{}),confirmText:"Desea eliminar?"})]})}]};t.default=()=>{const e=Object(g.b)("zones"),[t,a]=Object(j.useState)(!1),[o,l]=Object(j.useState)(),[u,x]=Object(j.useState)(!1),[I]=Object(v.a)();return Object(f.jsxs)(i.a.Content,{style:{height:"100%",overflow:"auto",padding:"2rem"},children:[Object(f.jsx)(O.b,{source:"zones",filterDefaultValues:{$sort:{id:1}},updateSource:u,columns:k({onEdit:e=>{l(e),a(!0)},onRemove:async t=>{let{id:a}=t;await e.remove(a).then(()=>{d.b.success("Zona eliminada!"),x(!u)}).catch(e=>d.b.error("No se pudo eliminar la zona! "+(null===e||void 0===e?void 0:e.message)))},cities:I}),actions:{},extra:Object(f.jsx)("div",{children:Object(f.jsx)(p.a,{type:"primary",icon:Object(f.jsx)(m.u,{}),onClick:()=>a(!0),children:"Agregar"})})}),t&&Object(f.jsx)(r.a,{title:"".concat(o?"Editar":"Crear"," Zona"),placement:"right",visible:t,onClose:()=>{a(!1),l()},children:Object(f.jsxs)(h.d,{textAcceptButton:"Guardar",initialValues:o,onSubmit:async(t,i,r)=>{if(t)return d.b.error(t);o&&o.id?await e.patch(o.id,i).then(()=>{d.b.success("Zona actualizada!"),l(),a(!1),x(!u)}).catch(e=>d.b.error(e.message)):await e.create(i).then(()=>{d.b.success("Zona creada correctamente!"),a(!1),x(!u)}).catch(e=>d.b.error(e.message))},children:[Object(f.jsx)(c.a,{flex:.5,name:"id",label:"Id",validations:[{required:!0,message:"Id es requerido"}]}),Object(f.jsx)(c.a,{flex:.5,name:"name",label:"Nombre",validations:[{required:!0,message:"Nombre es requerido"}]}),Object(f.jsx)(s.a,{flex:1,name:"city_id",label:"Ciudad",size:"large",validations:[{required:!0,message:"Ciudad es requerido"}],children:b.a.map(I,(e,t)=>{let{id:a,name:i}=e;return Object(f.jsx)(s.a.Option,{value:a,children:i},t)})}),Object(f.jsx)(n.a,{flex:.5,size:"large",name:"position",label:"Posici\xf3n",validations:[{required:!0,message:"Posici\xf3n es requerido"}]}),Object(f.jsx)(s.a,{flex:.5,name:"status",label:"Estado",size:"large",validations:[{required:!0,message:"Estado es requerido"}],children:b.a.map(y,(e,t)=>{let{id:a,name:i}=e;return Object(f.jsx)(s.a.Option,{value:a,children:i},t)})}),Object(f.jsx)(n.a,{flex:.5,name:"lat",label:"Latitud"}),Object(f.jsx)(n.a,{flex:.5,name:"lng",label:"Longitud"})]})})]})}},383:function(e,t,a){"use strict";a.d(t,"a",function(){return s});a(218);var i=a(69),r=a(0),n=a(68);const s=()=>{const e=Object(n.b)("cities"),[t,a]=Object(r.useState)([]),[s,c]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{c(!0),e.find({query:{$limit:1e5,$sort:{name:1}}}).then(e=>{let{data:t}=e;a(t),c(!1)}).catch(e=>{i.b.error(e.message),a([]),c(!1)})},[]),[t,s]}}}]);
//# sourceMappingURL=54.1e5876b9.chunk.js.map