(this["webpackJsonppartners-apparta"]=this["webpackJsonppartners-apparta"]||[]).push([[39],{1152:function(e,t,n){"use strict";n.r(t);n(219);var a=n(69),r=n(12),i=n(0),s=n(61),o=(n(362),n(363)),l=n(53),c=n(14);const d=["children"];var p;const{Content:m}=o.a,u=l.default.div(p||(p=Object(s.a)(["\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));var h,b,f,g=e=>{let{children:t}=e;Object(r.a)(e,d);return Object(c.jsx)(o.a,{style:{minHeight:"100vh"},children:Object(c.jsx)(o.a,{children:Object(c.jsx)(m,{style:{background:"var(--primary)"},children:Object(c.jsx)(u,{children:t})})})})},j=n(6),y=n(24),x=(n(220),n(361)),O=(n(433),n(435)),v=(n(354),n(355)),w=(n(143),n(142)),k=n(2),F=(n(386),n(387)),_=n(27),R=n(62),z=n(21),C=(n(351),n(352)),E=n(579);l.default.div(h||(h=Object(s.a)(["\n  text-align: center;\n\n  & h2 {\n    font-size: 1.5rem;\n  }\n  & img {\n    margin-bottom: 1.5rem !important;\n  }\n"])));const N=Object(l.default)(E.a)(b||(b=Object(s.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 40px 35px !important;\n  border: 1px solid #ccc;\n\n  box-shadow: 0 2px 10px -1px rgba(69, 90, 100, 0.3);\n  margin-bottom: 30px;\n  transition: box-shadow 0.2s ease-in-out;\n\n  border: 0px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n\n  & .item-form {\n    padding: 5px 20px !important;\n  }\n  & .ant-form-item input:focus {\n    box-shadow: none !important;\n  }\n  & .ant-form-item {\n    padding-bottom: 5px !important;\n    margin-bottom: 5px !important;\n  }\n  & .ant-form-item input {\n    border: 0px;\n    border-radius: 0px;\n    padding: 0.625rem 1.1875rem;\n    font-size: 0.875rem;\n    font-weight: 400;\n    line-height: 1.5;\n  }\n  & .login-form-button {\n    text-transform: uppercase;\n    font-weight: bold;\n\n    margin-bottom: 1.5rem !important;\n\n    border: 1px solid transparent !important;\n    padding: 0.625rem 1.1875rem !important;\n    font-size: 0.875rem !important;\n    line-height: 1.5 !important;\n    border-radius: 2px !important;\n  }\n"]))),S=Object(l.default)(C.a)(f||(f=Object(s.a)(["\n  & .ant-col {\n    margin-bottom: 0.5rem !important;\n  }\n"])));n.p;const T=["strategy","accessToken"];var A=Object(R.b)(e=>({user:e.user}),e=>({onAuthentication:t=>e({type:z.b,user:t})}))(e=>{const t=Object(j.q)(),[n]=F.a.useForm();Object(i.useEffect)(()=>()=>{},[e]);return Object(c.jsx)(N,{form:n,onSubmit:(n,i)=>{Object(y.c)(i).then(a=>{let{user:s,accessToken:o}=a;window.localStorage.setItem("feathers-jwt",o),window.localStorage.setItem("user",JSON.stringify(s)),(e=>{let{strategy:t="jwt",accessToken:n}=e,a=Object(r.a)(e,T);_.d.authenticate(Object(k.a)({strategy:t,accessToken:n},a))})({accessToken:o}),e.onAuthentication(s),s.role,t("/dashboard"),e.onSubmit&&e.onSubmit(n,i)}).catch(e=>a.b.error("Email or Password Invalid!"))},layout:"vertical",autoSubmit:!1,textAcceptButton:"Ingresar",footer:Object(c.jsx)(S,{type:"flex",justify:"center",align:"middle",style:{background:"red"},children:Object(c.jsx)(v.a,{span:24,style:{background:"red"},children:Object(c.jsx)(w.a,{block:!0,size:"large",style:{width:"100%",height:40,padding:5,margin:"0px auto",textAlign:"center"},type:"primary",htmlType:"submit",className:"login-form-button",children:"Ingresar"})})}),children:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a,{size:"small",style:{width:"100%"},placeholder:"Email Address",name:"email",validations:[{required:!0,message:"Email is required"}],prefix:Object(c.jsx)(O.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}})}),Object(c.jsx)(x.a.Password,{size:"small",style:{width:"100%"},type:"password",prefix:Object(c.jsx)(O.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Password",name:"password",validations:[{required:!0,message:"Password is required"}],autoComplete:"off"})]})})});const V=["token"];t.default=e=>{let{token:t}=e;Object(r.a)(e,V);const n=Object(j.q)();return Object(i.useEffect)(()=>(t&&(e=>{Object(y.g)("user-confirmation").create({token:e}).then(e=>{let{success:t}=e;a.b.info("Use your user and password to access!"),n("/signin")}).catch(e=>a.b.error(e.message))})(t),()=>{}),[]),Object(c.jsx)(g,{children:Object(c.jsx)(A,{})})}},533:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return d});var a,r,i,s=n(61),o=n(53);const l=o.default.div(a||(a=Object(s.a)(["\n    ","\n    align-items:center;\n  \n    & .container-button-plus{\n        margin-left: 10px;\n    }\n"])),e=>{let{display:t}=e;return"display:".concat(t)}),c=o.default.div(r||(r=Object(s.a)(["\n  display: flex;\n  & .ant-btn {\n    margin: 0px 4px;\n  }\n"]))),d=o.default.div(i||(i=Object(s.a)(["\n  h2 {\n    font-size: 24px !important;\n    font-style: italic !important;\n    text-align: center !important;\n    color: #ccc !important;\n  }\n"])))},579:function(e,t,n){"use strict";n(143);var a=n(142),r=(n(351),n(352)),i=(n(354),n(355)),s=(n(386),n(387)),o=n(2),l=n(0),c=n.n(l),d=(n(580),n(144)),p=n.n(d),m=n(533),u=n(14);class h extends l.Component{constructor(e){super(e),this.formRef=c.a.createRef(),this.handleFormatterPhone=e=>{var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:null},this.handleSubmit=async e=>{"undefined"!==typeof this.props.onSubmit&&(e.path_image_main&&delete e.path_image_main,e.banner_path&&delete e.banner_path,e.apparta_menu_branch_list_background_path&&delete e.apparta_menu_branch_list_background_path,this.props.onSubmit(void 0,e,this.props.form,e))},this.state={expand:!1,formLayout:"vertical"}}getFields(){const e=this,{children:t,initialValues:n}=this.props;let a=[],{formLayout:r}=this.state;r=this.props.formLayout||r;const d="vertical"===r?{labelCol:{span:4},wrapperCol:{span:14}}:null;if("undefined"!==typeof t)try{let{props:r}=t,m=r.children||[];a=c.a.Children.map(m,(t,a)=>{if(!t)return t;let{name:r,label:m,labelAlign:h,help:b,required:f,message:g,validations:j,style:y,initial:x,initialValue:O,valuePropName:v="value",onChange:w,type:k,xtype:F,next_reference:_,flex:R,className:z,format:C,mode:E,feedback:N=!1,onRender:S}=t.props;r="undefined"===typeof r?"field_".concat(a):r,y=y||{};let{latName:T="lat",lngName:A="lng"}=t.props,{form:V}=e.props;return n&&(O=n[r]),"date"===F&&n&&n[r]&&(O=p()(n[r])),"number"===F&&n&&n[r]&&(O=Number(n[r])),j=j||[{required:f||this.props.allRequired||!1,message:g||"".concat(m," es requerido")}],_&&0===j.filter(e=>e.validator).length&&j.push({validator:(e,t,n)=>{t&&t!==V.getFieldValue(_)?n("Two passwords that you enter is inconsistent!"):n()}}),"email"===k&&j.push({type:"regexp",pattern:new RegExp("^([a-zd.-]+)@([a-zd-]+).([a-z]{2,8})(.[a-z]{2,8})?$"),message:"Wrong format!"}),"password"===F&&0===j.filter(e=>e.validator).length&&j.push({validator:async(e,t)=>{if(!new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})").test(t))throw new Error(t?"Badly formed password!!":"The password is required")}}),delete t.value,"hidden"===k&&(y={display:"none"}),R<=1&&(y.width="".concat(100*R,"%")),t.type&&"undefined"!=typeof t?Object(l.createElement)(i.a,Object(o.a)(Object(o.a)({},d),{},{key:r||"field-".concat(a),style:Object(o.a)({padding:5,display:"inline-block"},y),className:"".concat("undefined"!==typeof z?"item-form "+z:"item-form"," ").concat("hidden"===k?"item-hidden":""," ").concat("fieldset"===F?"field-set":"")}),Object(u.jsx)(s.a.Item,{enableReinitialize:!0,label:m,labelAlign:h||"right",hasFeedback:null!=_,help:b,name:r||"field-".concat(a),initialValue:O||x,validateTrigger:"onChange",valuePropName:v,rules:j,children:c.a.cloneElement(t,{style:{width:"100%"},trigger:"focus",onBlur:e=>{if("capitalize"===F){let t=e.target.value;V.setFieldsValue({[r]:"string"==typeof t?t.capitalize():t})}if("phonefield"===F){let t=e.target.value;V.setFieldsValue({[r]:"string"==typeof t?this.handleFormatterPhone(t):t})}},form:V})})):null})}catch(m){console.log("ERROR: ",m)}return a}componentDidMount(){let{formLayout:e}=this.props;"undefined"!==typeof e&&this.setState({formLayout:e}),this.props.onMount&&this.formRef&&this.props.onMount(this.formRef.current);let{initialValues:t}=this.props;var n;this.props.form&&(null===(n=this.props.form)||void 0===n||n.setFieldsValue(t))}componentWillReceiveProps(e){let{initialValues:t}=e;var n;!this.props.form&&this.formRef&&this.formRef.current&&(null===(n=this.formRef.current)||void 0===n||n.setFieldsValue(t))}render(){const{formLayout:e}=this.state;let{footer:t,title:n,titleStyle:i,className:o,style:l,autoSubmit:d=!0,textAcceptButton:p="SAVE",initialValues:h,actions:b,form:f,noAcceptButtonBlock:g=!1}=this.props;return this.props.form?Object(u.jsxs)(s.a,{form:this.props.form,scrollToFirstError:!0,name:"search_form",className:o,layout:e,onFinish:this.handleSubmit,style:l||{margin:20},onFieldsChange:(e,t)=>{this.props.onFieldsChange&&this.props.onFieldsChange(e,t)},children:[n&&Object(u.jsx)(m.a,{className:"head-title",children:n}),Object(u.jsx)(r.a,{className:"form-fields",gutter:24,children:this.getFields()}),Object(u.jsx)(r.a,{justify:"center",children:Object(u.jsx)(a.a,{type:"primary",disabled:this.props.disabled,loading:this.props.submitting,size:"large",block:!g,htmlType:"submit",style:{borderRadius:"0.5rem",marginBottom:"1rem"},children:p})}),b&&Object(u.jsx)(m.b,{style:{margin:"10px 4px"},children:b&&b.props&&c.a.Children.map(b.props.children,(e,t)=>{let{onClick:n}=e.props;return c.a.cloneElement(e,{onClick:e=>{n&&n(e,f)}})})})]}):Object(u.jsxs)(s.a,{ref:this.formRef,scrollToFirstError:!0,name:"search_form",className:o,layout:e,onFinish:this.handleSubmit,style:l||{margin:20},children:[n&&Object(u.jsx)(m.a,{className:"head-title",children:n}),Object(u.jsx)(r.a,{className:"form-fields",gutter:24,children:this.getFields()}),Object(u.jsx)(r.a,{justify:"center",children:Object(u.jsx)(a.a,{type:"primary",disabled:this.props.disabled,loading:this.props.submitting,size:"large",block:!g,htmlType:"submit",style:{borderRadius:"0.5rem",marginBottom:"1rem"},children:p})}),b&&Object(u.jsx)(m.b,{style:{margin:"10px 4px"},children:b&&b.props&&c.a.Children.map(b.props.children,(e,t)=>{let{onClick:n}=e.props;return c.a.cloneElement(e,{onClick:e=>{n&&n(e,f)}})})})]})}}t.a=h},580:function(e,t,n){}}]);
//# sourceMappingURL=39.42616c2a.chunk.js.map