(this["webpackJsonppartners-apparta"]=this["webpackJsonppartners-apparta"]||[]).push([[49],{1064:function(e,a,t){"use strict";t.r(a);t(362);var A=t(363),i=(t(366),t(367)),r=(t(357),t(358)),c=(t(368),t(369)),n=(t(219),t(361)),o=t(2),s=(t(218),t(69)),d=(t(143),t(142)),l=(t(372),t(373)),E=(t(408),t(412)),g=t(0),Q=t(42),j=t.n(Q),b=t(356),h=t(68),u=t(370),B=t(353),m=t(359),I=t(54),p=t(360),C=t(398),v=t(383),x=t(14);const N=[{id:"true",name:"true"},{id:"false",name:"false"}],J=[{id:"active",name:"Active"},{id:"inactive",name:"Inactive"}],O=e=>{let{onEdit:a,onRemove:t,cities:A}=e;return[{dataIndex:"id",key:"id",title:"Id",sorter:!0},{dataIndex:"cover_path",key:"cover_path",title:"Foto",render:e=>e&&Object(x.jsx)(E.a,{width:50,height:50,alt:"cover_path",src:"".concat(I.f,"/").concat(window.imageShark({url:e,width:64,height:64})),preview:{src:"".concat(I.j).concat(e)},style:{borderRadius:"50%"},fallback:"data:image/png;base64,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"})},{dataIndex:"name",key:"name",title:"Nombre",sorter:!0},{dataIndex:"position",key:"position",title:"Posici\xf3n",sorter:!0},{dataIndex:"campaign_id",key:"campaign_id",title:"Id campa\xf1a",sorter:!0},{dataIndex:"city_id",key:"city_id",title:"Ciudad",sorter:!0,render:e=>{var a;return null===(a=j.a.find(A,a=>{let{id:t}=a;return t===e}))||void 0===a?void 0:a.name}},{dataIndex:"hide",key:"hide",title:"\xbfOculta?",sorter:!0,render:e=>"true"===e?Object(x.jsx)(l.a,{color:"green",children:"True"}):Object(x.jsx)(l.a,{color:"red",children:"False"})},{dataIndex:"apparta_web_status",key:"apparta_web_status",title:"Web status",sorter:!0,render:e=>"active"===e?Object(x.jsx)(l.a,{color:"green",children:"Active"}):Object(x.jsx)(l.a,{color:"red",children:"Inactive"})},{dataIndex:"status_app",key:"status_app",title:"App status",sorter:!0,render:e=>"active"===e?Object(x.jsx)(l.a,{color:"green",children:"True"}):Object(x.jsx)(l.a,{color:"red",children:"Inactive"})},{title:"Acciones",dataIndex:"id",key:"actions",render:(e,A)=>Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(d.a,{type:"text",onClick:()=>a(A),icon:Object(x.jsx)(B.l,{})}),Object(x.jsx)(m.a,{type:"link",onClick:()=>t({id:e}),icon:Object(x.jsx)(B.h,{}),confirmText:"Desea eliminar?"})]})}]};a.default=()=>{const e=Object(h.b)("categories"),[a,t]=Object(g.useState)(!1),[d,l]=Object(g.useState)(),[E,Q]=Object(g.useState)(!1),[m,I]=Object(v.a)();return Object(x.jsxs)(A.a.Content,{style:{height:"100%",overflow:"auto",padding:"2rem"},children:[Object(x.jsx)(b.b,{source:"categories",filterDefaultValues:{$sort:{id:1},parent_id:1},updateSource:E,columns:O({onEdit:e=>{l(e),t(!0)},onRemove:async a=>{let{id:t}=a;await e.remove(t).then(()=>{s.b.success("Categoria eliminada!"),Q(!E)}).catch(e=>s.b.error("No se pudo eliminar la Categoria! "+(null===e||void 0===e?void 0:e.message)))},cities:m}),actions:{},extra:Object(x.jsx)("div",{children:Object(x.jsx)(u.a,{type:"primary",icon:Object(x.jsx)(B.u,{}),onClick:()=>t(!0),children:"Agregar"})})}),a&&Object(x.jsxs)(i.a,{title:"".concat(d?"Editar":"Crear"," Categoria"),placement:"right",visible:a,onClose:()=>{t(!1),l()},children:[(null===d||void 0===d?void 0:d.id)&&(null===d||void 0===d?void 0:d.cover_path)&&Object(x.jsx)(C.a,{refresh:(e,a)=>{l(Object(o.a)({},a)),Q(!E)},size:"large",record:d,defaultImage:d.cover_path,source:"cover_path",withCropper:!0,setterVisibleCropper:()=>{},reference:"categories",_id:d.id,path:"categories_cover_path/".concat(+d.id,"/")}),(null===d||void 0===d?void 0:d.id)&&Object(x.jsx)(p.b,{flex:1,preview:!1,path:"categories_cover_path/".concat(d.id,"/"),name:"cover_path",source:"cover_path",style:{borderRadius:"0.5rem"},onFinish:(a,t)=>(async(a,t,A,i)=>{e.patch(i,{[a]:String(t)}).then(e=>{l(Object(o.a)({},e)),Q(!E)}).catch(e=>s.b.error(e.message))})("cover_path",a,0,d.id)}),Object(x.jsxs)(p.d,{textAcceptButton:"".concat(d?"Actualizar":"Crear"),initialValues:d,onSubmit:async(a,A,i)=>{if(a)return s.b.error(a);d&&d.id?await e.patch(d.id,A).then(()=>{s.b.success("Categoria actualizada!"),l(),t(!1),Q(!E)}).catch(e=>s.b.error(e.message)):await e.create(A).then(()=>{s.b.success("Categoria creada correctamente!"),t(!1),Q(!E)}).catch(e=>s.b.error(e.message))},allowNull:!0,children:[Object(x.jsx)(n.a,{flex:1,size:"large",name:"name",label:"Nombre",validations:[{required:!0,message:"Nombre es requerido"}]}),Object(x.jsx)(c.a,{flex:.5,name:"position",label:"Posicion",size:"large",validations:[{required:!0,message:"Posicion es requerida"}]}),Object(x.jsx)(r.a,{flex:.5,name:"hide",label:"Oculta",size:"large",validations:[{required:!0,message:"Estado es requerido"}],children:j.a.map(N,(e,a)=>{let{id:t,name:A}=e;return Object(x.jsx)(r.a.Option,{value:t,children:A},a)})}),Object(x.jsx)(c.a,{flex:.5,name:"campaign_id",label:"Id campa\xf1a",size:"large"}),Object(x.jsx)(r.a,{flex:.5,name:"city_id",label:"Ciudad",size:"large",allowClear:!0,children:j.a.map(m,(e,a)=>{let{id:t,name:A}=e;return Object(x.jsx)(r.a.Option,{value:t,children:A},a)})}),Object(x.jsx)(r.a,{flex:.5,name:"status_app",label:"App status",size:"large",children:j.a.map(J,(e,a)=>{let{id:t,name:A}=e;return Object(x.jsx)(r.a.Option,{value:t,children:A},a)})}),Object(x.jsx)(r.a,{flex:.5,name:"apparta_web_status",label:"Web status",size:"large",children:j.a.map(J,(e,a)=>{let{id:t,name:A}=e;return Object(x.jsx)(r.a.Option,{value:t,children:A},a)})})]})]})]})}},383:function(e,a,t){"use strict";t.d(a,"a",function(){return c});t(218);var A=t(69),i=t(0),r=t(68);const c=()=>{const e=Object(r.b)("cities"),[a,t]=Object(i.useState)([]),[c,n]=Object(i.useState)(!1);return Object(i.useEffect)(()=>{n(!0),e.find({query:{$limit:1e5,$sort:{name:1}}}).then(e=>{let{data:a}=e;t(a),n(!1)}).catch(e=>{A.b.error(e.message),t([]),n(!1)})},[]),[a,c]}}}]);
//# sourceMappingURL=49.6177eaf0.chunk.js.map